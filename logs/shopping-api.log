2025-07-02 10:05:44 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 4268 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 10:05:44 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 10:05:44 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 10:05:45 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 10:05:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 10:05:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2025-07-02 10:05:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 10:05:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 10:05:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 10:05:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 10:05:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1860 ms
2025-07-02 10:05:47 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 10:05:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 10:05:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 10:05:47 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 10:05:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 10:05:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 10:05:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7577589
2025-07-02 10:05:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 10:05:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 10:05:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 10:05:49 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 10:05:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:05:49 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 10:05:50 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 10:05:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 33 mappings in 'requestMappingHandlerMapping'
2025-07-02 10:05:50 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 10:05:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 10:05:50 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 10:05:51 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 10:05:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 10:05:51 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 7.596 seconds (process running for 8.408)
2025-07-02 10:05:51 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 10:05:51 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 10:05:51 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 10:05:51 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 10:05:51 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 10:05:51 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1c63aa5d
2025-07-02 10:05:51 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@8dbe78f
2025-07-02 10:05:51 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 10:05:51 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-02 10:05:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 10:05:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:05:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:05:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-07-02 10:05:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-07-02 10:05:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:05:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:05:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 10:05:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-07-02 10:05:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-07-02 10:05:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:05:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:05:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:05:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:05:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:05:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:05:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:05:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 10:05:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 10:05:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 10:05:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-07-02 10:05:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:05:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 10:05:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 10:05:59 [http-nio-8080-exec-7] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 347 ms
2025-07-02 10:05:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 10:05:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 10:05:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:06:10 [http-nio-8080-exec-4] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 10:06:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 10:06:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:06:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/1", parameters={}
2025-07-02 10:06:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 10:06:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:06:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:06:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:06:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=string, email=string@gmail.com, firstName=string, lastName=string, phoneNumbe (truncated)...]
2025-07-02 10:06:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:06:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/2", parameters={}
2025-07-02 10:06:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 10:06:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:06:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:06:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:06:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser1, email=test1@example.com, firstName=Updated, lastName=Name, phoneNu (truncated)...]
2025-07-02 10:06:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:06:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/3", parameters={}
2025-07-02 10:06:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 10:06:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:06:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:06:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 10:06:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-02 10:06:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/4", parameters={}
2025-07-02 10:06:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 10:06:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:06:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:06:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:06:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=4, username=zeynepsura, email=zeynepsura@gmail.com, firstName=Zeynep Şura, lastName=Konak (truncated)...]
2025-07-02 10:06:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:06:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/5", parameters={}
2025-07-02 10:06:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 10:06:38 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:06:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:06:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 10:06:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-02 10:06:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/3", parameters={}
2025-07-02 10:06:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 10:06:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:06:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:06:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 10:06:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testtt, email=test1@example.com, password=password123, firstName=Test, la (truncated)...]
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 10:07:08 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-07-02 10:07:08 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "uk6dotkott2kjsp8vw4d0m25fb7"
  Ayrıntı: Key (email)=(test1@example.com) already exists.
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Duplicate entry. Username or email already exists."]
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "uk6dotkott2kjsp8vw4d0m25fb7"<EOL>  Ayrıntı: Key (email)=(test1@example.com) already exists.] [insert into users (created_at,email,enabled,first_name,last_name,password,phone_number,updated_at,username) values (?,?,?,?,?,?,?,?,?) returning id]; SQL [insert into users (created_at,email,enabled,first_name,last_name,password,phone_number,updated_at,username) values (?,?,?,?,?,?,?,?,?) returning id]; constraint [uk6dotkott2kjsp8vw4d0m25fb7]]
2025-07-02 10:07:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 409 CONFLICT
2025-07-02 10:07:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-02 10:07:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-02 10:07:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testtt, email=testt@example.com, password=password123, firstName=Test, la (truncated)...]
2025-07-02 10:07:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-02 10:07:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 10:07:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:07:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=6, username=testtt, email=testt@example.com, firstName=Test, lastName=User, phoneNumber=1 (truncated)...]
2025-07-02 10:07:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 10:07:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:07:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/6", parameters={}
2025-07-02 10:07:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-02 10:07:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=testuserr, email=testttt@example.com, password=password123, firstName=Tes (truncated)...]
2025-07-02 10:07:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:07:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:07:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-02 10:07:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:07:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=6, username=testuserr, email=testttt@example.com, firstName=Testtt, lastName=User, phoneN (truncated)...]
2025-07-02 10:07:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:08:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-02 10:08:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 10:08:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:08:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:08:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-02 10:08:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:08:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/6", parameters={}
2025-07-02 10:08:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-02 10:08:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:08:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:08:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=6, name=Book, description=Programming book, price=49.99, stockQuantity=25, category=Bo (truncated)...]
2025-07-02 10:08:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:08:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-02 10:08:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 10:08:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:08:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:08:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-02 10:08:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:08:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-02 10:08:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-02 10:08:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=iPhone 15, description=Latest iPhone model, price=999.99, stockQuantity=50 (truncated)...]
2025-07-02 10:08:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 10:08:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:08:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=7, name=iPhone 15, description=Latest iPhone model, price=999.99, stockQuantity=50, ca (truncated)...]
2025-07-02 10:08:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:08:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-02 10:08:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-02 10:08:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Samsung Galaxy S24, description=Android flagship phone, price=899.99, stoc (truncated)...]
2025-07-02 10:08:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 10:08:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:08:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=8, name=Samsung Galaxy S24, description=Android flagship phone, price=899.99, stockQua (truncated)...]
2025-07-02 10:08:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:09:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-02 10:09:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-02 10:09:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=MacBook Pro, description=Professional laptop, price=2499.99, stockQuantity (truncated)...]
2025-07-02 10:09:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 10:09:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:09:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=9, name=MacBook Pro, description=Professional laptop, price=2499.99, stockQuantity=20, (truncated)...]
2025-07-02 10:09:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:09:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-02 10:09:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 10:09:26 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:09:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:09:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-02 10:09:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:09:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/7", parameters={}
2025-07-02 10:09:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, Product)
2025-07-02 10:09:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Product(id=null, name=iPhone 15 Pro, description=null, price=1099.99, stockQuantity=45, category=nul (truncated)...]
2025-07-02 10:09:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:09:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-02 10:09:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:09:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=7, name=iPhone 15 Pro, description=null, price=1099.99, stockQuantity=45, category=nul (truncated)...]
2025-07-02 10:09:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:10:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/6", parameters={}
2025-07-02 10:10:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-02 10:10:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:10:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:10:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=6, name=Book, description=Programming book, price=49.99, stockQuantity=25, category=Bo (truncated)...]
2025-07-02 10:10:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:10:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/8", parameters={}
2025-07-02 10:10:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-02 10:10:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:10:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:10:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=8, name=Samsung Galaxy S24, description=Android flagship phone, price=899.99, stockQua (truncated)...]
2025-07-02 10:10:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:10:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-02 10:10:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-02 10:10:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-02 10:10:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:10:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:10:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=5, userId=1, items=[], totalPrice=0, totalItems=0)]]
2025-07-02 10:10:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:10:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-02 10:10:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(Cart)
2025-07-02 10:10:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Cart(id=null, user=User(id=4, username=null, email=null, password=null, firstName=null, lastName=nul (truncated)...]
2025-07-02 10:10:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 10:10:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:10:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=4, items=[], totalPrice=0, totalItems=0)]
2025-07-02 10:10:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:11:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/7/items?productId=5&quantity=5", parameters={masked}
2025-07-02 10:11:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, Long, int)
2025-07-02 10:11:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 10:11:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:11:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:11:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 10:11:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:11:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=4, items=[CartItemDto(id=6, product=ProductDto(id=5, name=Mouse, description=Wi (truncated)...]
2025-07-02 10:11:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/7/items?productId=6&quantity=3", parameters={masked}
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, Long, int)
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=4, items=[CartItemDto(id=6, product=ProductDto(id=5, name=Mouse, description=Wi (truncated)...]
2025-07-02 10:11:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:12:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/4", parameters={}
2025-07-02 10:12:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-02 10:12:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:12:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:12:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:12:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:12:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:12:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=7, userId=4, items=[CartItemDto(id=6, product=ProductDto(id=5, name=Mouse, description=W (truncated)...]
2025-07-02 10:12:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:12:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/7", parameters={}
2025-07-02 10:12:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-02 10:12:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 10:12:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:12:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:12:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:12:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:12:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=4, items=[CartItemDto(id=6, product=ProductDto(id=5, name=Mouse, description=Wi (truncated)...]
2025-07-02 10:12:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/7/items/5?quantity=3", parameters={masked}
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, int)
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=4, items=[CartItemDto(id=6, product=ProductDto(id=5, name=Mouse, description=Wi (truncated)...]
2025-07-02 10:12:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:13:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/7/items/5", parameters={}
2025-07-02 10:13:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-02 10:13:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 10:13:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:13:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:13:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-02 10:13:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:13:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:13:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=4, items=[CartItemDto(id=7, product=ProductDto(id=6, name=Book, description=Pro (truncated)...]
2025-07-02 10:13:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites?userId=4&productId=4", parameters={masked}
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(Long, Long)
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=4, userId=4, product=ProductDto(id=4, name=Laptop, description=High performance lapto (truncated)...]
2025-07-02 10:13:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites?userId=4&productId=5", parameters={masked}
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(Long, Long)
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=5, userId=4, product=ProductDto(id=5, name=Mouse, description=Wireless mouse, price=2 (truncated)...]
2025-07-02 10:13:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:13:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/4", parameters={}
2025-07-02 10:13:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-02 10:13:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-02 10:13:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:13:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:13:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:13:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:13:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=3, userId=4, product=ProductDto(id=6, name=Book, description=Programming book, price (truncated)...]
2025-07-02 10:13:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:13:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/exists?userId=4&productId=4", parameters={masked}
2025-07-02 10:13:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(Long, Long)
2025-07-02 10:13:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-02 10:13:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:13:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-02 10:13:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:13:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/exists?userId=4&productId=8", parameters={masked}
2025-07-02 10:13:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(Long, Long)
2025-07-02 10:13:58 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-02 10:13:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:13:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [false]
2025-07-02 10:13:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:14:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites?userId=4&productId=4", parameters={masked}
2025-07-02 10:14:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(Long, Long)
2025-07-02 10:14:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-02 10:14:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-02 10:14:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:14:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 10:14:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-02 10:14:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/4", parameters={}
2025-07-02 10:14:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-02 10:14:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-02 10:14:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:14:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:14:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:14:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=3, userId=4, product=ProductDto(id=6, name=Book, description=Programming book, price (truncated)...]
2025-07-02 10:14:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:14:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites?userId=4&productId=5", parameters={masked}
2025-07-02 10:14:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(Long, Long)
2025-07-02 10:14:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-02 10:14:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-02 10:14:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:14:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 10:14:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/1", parameters={}
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=1, userId=1, items=[OrderItemDto(id=1, product=ProductDto(id=3, name=Gaming Laptop, des (truncated)...]
2025-07-02 10:15:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:15:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/2", parameters={}
2025-07-02 10:15:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-02 10:15:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-02 10:15:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:15:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-02 10:15:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:15:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/3", parameters={}
2025-07-02 10:15:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-02 10:15:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-02 10:15:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:15:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-02 10:15:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/7", parameters={}
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-02 10:15:55 [http-nio-8080-exec-6] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 7
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 10:15:55 [http-nio-8080-exec-6] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 5, Total: 149.97
2025-07-02 10:15:55 [http-nio-8080-exec-6] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=5, userId=4, items=[OrderItemDto(id=5, product=ProductDto(id=6, name=Book, description=P (truncated)...]
2025-07-02 10:15:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:16:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/4", parameters={}
2025-07-02 10:16:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-02 10:16:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-02 10:16:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:16:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:16:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:16:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=5, userId=4, items=[OrderItemDto(id=5, product=ProductDto(id=6, name=Book, description= (truncated)...]
2025-07-02 10:16:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:16:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/5", parameters={}
2025-07-02 10:16:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-02 10:16:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-02 10:16:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:16:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:16:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:16:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=5, userId=4, items=[OrderItemDto(id=5, product=ProductDto(id=6, name=Book, description=P (truncated)...]
2025-07-02 10:16:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:16:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/4", parameters={}
2025-07-02 10:16:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-02 10:16:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:16:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:16:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:16:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=7, userId=4, items=[], totalPrice=0, totalItems=0)]]
2025-07-02 10:16:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:22:43 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:22:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 10:22:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 10:22:47 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 22968 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 10:22:47 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 10:22:47 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 10:22:48 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 10:22:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 10:22:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2025-07-02 10:22:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 10:22:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 10:22:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 10:22:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 10:22:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1266 ms
2025-07-02 10:22:50 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 10:22:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 10:22:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 10:22:50 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 10:22:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 10:22:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 10:22:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2befb16f
2025-07-02 10:22:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 10:22:50 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 10:22:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 10:22:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 10:22:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:22:51 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 10:22:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 10:22:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-07-02 10:22:52 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 10:22:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 10:22:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 10:22:52 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 10:22:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 10:22:52 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.65 seconds (process running for 6.247)
2025-07-02 10:22:53 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 10:22:53 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 10:22:53 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 10:22:53 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 10:22:53 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 10:22:53 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@465b16bb
2025-07-02 10:22:53 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@14ab3e22
2025-07-02 10:22:53 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 10:22:53 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-02 10:22:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 10:22:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:22:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:22:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 10:22:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:22:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:22:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 10:22:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-07-02 10:22:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 10:22:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:22:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:22:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 10:22:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-07-02 10:22:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:22:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 10:22:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 10:23:00 [http-nio-8080-exec-5] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 334 ms
2025-07-02 10:23:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 10:23:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 10:23:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:23:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/7", parameters={}
2025-07-02 10:23:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-02 10:23:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-02 10:23:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-02 10:23:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 10:23:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Order not found with id: 7"]
2025-07-02 10:23:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: Order not found with id: 7]
2025-07-02 10:23:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-02 10:23:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/7/simple", parameters={}
2025-07-02 10:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getSimpleOrderById(Long)
2025-07-02 10:23:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-02 10:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-02 10:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 10:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Order not found with id: 7"]
2025-07-02 10:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: Order not found with id: 7]
2025-07-02 10:23:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-02 10:23:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/5/simple", parameters={}
2025-07-02 10:23:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getSimpleOrderById(Long)
2025-07-02 10:23:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-02 10:23:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:23:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:23:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:23:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:23:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:23:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleOrderDto(orderId=5, customerName=Zeynep Şura Konak, items=[SimpleOrderItemDto(productName=Book (truncated)...]
2025-07-02 10:23:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:23:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/5", parameters={}
2025-07-02 10:23:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-02 10:23:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-02 10:23:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:23:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:23:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:23:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=5, userId=4, items=[OrderItemDto(id=5, product=ProductDto(id=6, name=Book, description=P (truncated)...]
2025-07-02 10:23:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:24:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/4", parameters={}
2025-07-02 10:24:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-02 10:24:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-02 10:24:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:24:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:24:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=3, userId=4, product=ProductDto(id=6, name=Book, description=Programming book, price (truncated)...]
2025-07-02 10:24:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:25:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites?userId=4&productId=6", parameters={masked}
2025-07-02 10:25:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(Long, Long)
2025-07-02 10:25:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-02 10:25:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-02 10:25:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 10:25:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Product removed from favorites successfully"]
2025-07-02 10:25:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:25:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-02 10:25:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 10:25:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:25:33 [http-nio-8080-exec-3] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-02 10:25:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:25:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-02 10:25:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:25:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-02 10:25:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 10:25:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:25:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:25:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-02 10:25:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:26:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/4", parameters={}
2025-07-02 10:26:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, Product)
2025-07-02 10:26:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Product(id=null, name=null, description=null, price=1199.99, stockQuantity=null, category=null, acti (truncated)...]
2025-07-02 10:26:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:26:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-02 10:26:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:26:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=4, name=Laptop, description=High performance laptop, price=1199.99, stockQuantity=10,  (truncated)...]
2025-07-02 10:26:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:26:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/4", parameters={}
2025-07-02 10:26:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-02 10:26:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:26:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:26:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=4, name=Laptop, description=High performance laptop, price=1199.99, stockQuantity=10,  (truncated)...]
2025-07-02 10:26:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:26:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-02 10:26:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 10:26:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:26:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:26:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-02 10:26:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:26:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/1", parameters={}
2025-07-02 10:26:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-02 10:26:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-02 10:26:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:26:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:26:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=1, userId=1, product=ProductDto(id=3, name=Gaming Laptop, description=High performan (truncated)...]
2025-07-02 10:26:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:26:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-02 10:26:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-02 10:26:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-02 10:26:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:26:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:26:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:26:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=5, userId=1, items=[], totalPrice=0, totalItems=0), CartDto(id=7, userId=4, items=[], to (truncated)...]
2025-07-02 10:26:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:27:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/5/items?productId=4&quantity=2", parameters={masked}
2025-07-02 10:27:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, Long, int)
2025-07-02 10:27:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 10:27:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:27:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:27:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 10:27:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:27:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=1, items=[CartItemDto(id=8, product=ProductDto(id=4, name=Laptop, description=H (truncated)...]
2025-07-02 10:27:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:28:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/5", parameters={}
2025-07-02 10:28:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-02 10:28:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-02 10:28:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:28:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:28:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:28:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=5, userId=4, items=[OrderItemDto(id=5, product=ProductDto(id=6, name=Book, description=P (truncated)...]
2025-07-02 10:28:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/5/simple", parameters={}
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getSimpleOrderById(Long)
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleOrderDto(orderId=5, customerName=Zeynep Şura Konak, items=[SimpleOrderItemDto(productName=Book (truncated)...]
2025-07-02 10:28:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:31:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 10:31:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:31:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:31:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 10:31:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:31:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:31:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 10:31:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 10:31:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 10:31:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-07-02 10:31:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:31:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 10:31:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 10:31:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 10:31:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 10:31:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:31:26 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:31:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 10:31:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 10:31:31 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 19032 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 10:31:31 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 10:31:31 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 10:31:31 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 10:31:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 10:31:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2025-07-02 10:31:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 10:31:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 10:31:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 10:31:33 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 10:31:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1280 ms
2025-07-02 10:31:33 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 10:31:33 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 10:31:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 10:31:33 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 10:31:33 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 10:31:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 10:31:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@333a2df2
2025-07-02 10:31:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 10:31:34 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 10:31:34 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 10:31:34 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 10:31:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:31:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 10:31:35 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 10:31:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 10:31:35 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 10:31:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 10:31:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 10:31:36 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 10:31:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 10:31:36 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.714 seconds (process running for 6.322)
2025-07-02 10:31:36 [RMI TCP Connection(3)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 10:31:36 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 10:31:36 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 10:31:36 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 10:31:36 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 10:31:36 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17e71422
2025-07-02 10:31:36 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@679864e0
2025-07-02 10:31:36 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 10:31:36 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-02 10:31:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 10:31:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:31:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:31:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 10:31:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:31:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:31:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 10:31:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 10:31:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 10:31:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-07-02 10:31:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:31:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 10:31:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 10:31:43 [http-nio-8080-exec-4] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 321 ms
2025-07-02 10:31:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 10:31:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 10:31:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/5/simple", parameters={}
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=5, customerName=string string, items=[SimpleCartItemDto(productName=Laptop, cat (truncated)...]
2025-07-02 10:31:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:32:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/5", parameters={}
2025-07-02 10:32:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-02 10:32:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 10:32:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 10:32:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 10:32:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:32:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=1, items=[CartItemDto(id=8, product=ProductDto(id=4, name=Laptop, description=H (truncated)...]
2025-07-02 10:32:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:46:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:46:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 10:46:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 10:46:09 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 14812 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 10:46:09 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 10:46:09 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 10:46:10 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 10:46:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 10:46:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2025-07-02 10:46:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 10:46:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 10:46:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 10:46:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 10:46:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1371 ms
2025-07-02 10:46:12 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 10:46:12 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 10:46:12 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 10:46:12 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 10:46:12 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 10:46:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 10:46:13 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4205d5d0
2025-07-02 10:46:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 10:46:13 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 10:46:13 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 10:46:13 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 10:46:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:46:14 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 10:46:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 10:46:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 10:46:14 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 10:46:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 10:46:14 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 10:46:15 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 10:46:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 10:46:15 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.867 seconds (process running for 6.5)
2025-07-02 10:46:15 [RMI TCP Connection(3)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 10:46:15 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 10:46:15 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 10:46:15 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 10:46:15 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 10:46:15 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@f083345
2025-07-02 10:46:15 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@45bf1ee3
2025-07-02 10:46:15 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 10:46:15 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-02 10:46:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 10:46:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:46:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:46:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 10:46:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:46:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:46:38 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 10:46:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 10:46:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 10:46:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-07-02 10:46:38 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:46:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 10:46:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 10:46:38 [http-nio-8080-exec-6] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 334 ms
2025-07-02 10:46:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 10:46:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 10:46:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:49:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:49:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 10:49:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 10:49:27 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 19312 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 10:49:27 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 10:49:27 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 10:49:28 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 10:49:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 10:49:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2025-07-02 10:49:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 10:49:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 10:49:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 10:49:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 10:49:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1343 ms
2025-07-02 10:49:29 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 10:49:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 10:49:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 10:49:30 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 10:49:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 10:49:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 10:49:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30437e9c
2025-07-02 10:49:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 10:49:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 10:49:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 10:49:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 10:49:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:49:31 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 10:49:32 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 10:49:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 10:49:32 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 10:49:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 10:49:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 10:49:32 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 10:49:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 10:49:32 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.736 seconds (process running for 6.359)
2025-07-02 10:49:33 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 10:49:33 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 10:49:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 10:49:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 10:49:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 10:49:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@74aae322
2025-07-02 10:49:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@70798698
2025-07-02 10:49:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 10:49:33 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-02 10:49:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 10:49:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:49:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:49:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 10:49:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:49:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:49:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 10:49:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 10:49:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 10:49:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 10:49:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:49:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 10:49:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 10:49:36 [http-nio-8080-exec-4] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 322 ms
2025-07-02 10:49:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 10:49:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 10:49:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 10:49:48 [http-nio-8080-exec-5] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 10:49:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:54:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:54:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 10:54:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 10:54:58 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 17740 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 10:54:58 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 10:54:58 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 10:54:58 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 10:54:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 10:54:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2025-07-02 10:55:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 10:55:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 10:55:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 10:55:00 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 10:55:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1338 ms
2025-07-02 10:55:00 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 10:55:00 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 10:55:00 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 10:55:00 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 10:55:00 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 10:55:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 10:55:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@37b80ec7
2025-07-02 10:55:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 10:55:01 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 10:55:01 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 10:55:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 10:55:02 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 10:55:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 10:55:02 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 10:55:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 10:55:02 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 10:55:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 10:55:03 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 10:55:03 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 10:55:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 10:55:03 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.796 seconds (process running for 6.403)
2025-07-02 10:55:03 [RMI TCP Connection(1)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 10:55:03 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 10:55:03 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 10:55:03 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 10:55:03 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 10:55:03 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@45e1d6a5
2025-07-02 10:55:03 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3ace955c
2025-07-02 10:55:03 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 10:55:03 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-02 10:55:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 10:55:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:55:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 10:55:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 10:55:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 10:55:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:55:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 10:55:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 10:55:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 10:55:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 10:55:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 10:55:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 10:55:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 10:55:43 [http-nio-8080-exec-1] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 425 ms
2025-07-02 10:55:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 10:55:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 10:55:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:06:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:06:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 11:06:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 11:06:07 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 12068 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 11:06:07 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 11:06:07 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 11:06:08 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 11:06:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 11:06:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2025-07-02 11:06:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 11:06:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 11:06:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 11:06:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 11:06:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1386 ms
2025-07-02 11:06:10 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 11:06:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 11:06:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 11:06:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 11:06:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 11:06:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 11:06:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@77db231c
2025-07-02 11:06:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 11:06:10 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 11:06:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 11:06:11 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 11:06:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:06:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 11:06:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 11:06:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 11:06:12 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 11:06:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 11:06:12 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 11:06:13 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 11:06:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 11:06:13 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 6.028 seconds (process running for 6.593)
2025-07-02 11:06:13 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 11:06:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 11:06:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 11:06:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 11:06:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 11:06:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2a0a5865
2025-07-02 11:06:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@411db18d
2025-07-02 11:06:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 11:06:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-02 11:06:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 11:06:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:06:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:06:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 11:06:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:06:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:06:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 11:06:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 11:06:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 11:06:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 11:06:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:06:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 11:06:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 11:06:14 [http-nio-8080-exec-4] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 321 ms
2025-07-02 11:06:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 11:06:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 11:06:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:07:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:07:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 11:07:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 11:28:16 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 21020 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 11:28:16 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 11:28:16 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 11:28:17 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 11:28:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 11:28:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2025-07-02 11:28:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 11:28:19 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 11:28:19 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 11:28:19 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 11:28:19 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1402 ms
2025-07-02 11:28:19 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 11:28:19 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 11:28:19 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 11:28:19 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 11:28:19 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 11:28:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 11:28:20 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@41abee65
2025-07-02 11:28:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 11:28:20 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 11:28:20 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 11:28:20 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 11:28:20 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:28:21 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 11:28:21 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 11:28:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 11:28:21 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 11:28:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 11:28:21 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 11:28:22 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 11:28:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 11:28:22 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.991 seconds (process running for 6.523)
2025-07-02 11:28:22 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 11:28:22 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 11:28:22 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 11:28:22 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 11:28:22 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 11:28:22 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@37930f48
2025-07-02 11:28:22 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@171b3f38
2025-07-02 11:28:22 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 11:28:22 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-02 11:28:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 11:28:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:28:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 11:28:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 11:28:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:28:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:28:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 11:28:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 11:28:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 11:28:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 11:28:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:28:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 11:28:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 11:28:28 [http-nio-8080-exec-2] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 317 ms
2025-07-02 11:28:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 11:28:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 11:28:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:30:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:30:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 11:30:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 11:30:23 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 24696 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 11:30:23 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 11:30:24 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 11:30:24 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 11:30:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 11:30:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2025-07-02 11:30:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 11:30:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 11:30:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 11:30:26 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 11:30:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1287 ms
2025-07-02 11:30:26 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 11:30:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 11:30:26 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 11:30:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 11:30:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 11:30:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 11:30:26 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@37b80ec7
2025-07-02 11:30:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 11:30:27 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 11:30:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 11:30:27 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 11:30:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:30:28 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 11:30:28 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 11:30:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 11:30:28 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 11:30:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 11:30:28 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 11:30:29 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 11:30:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 11:30:29 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.676 seconds (process running for 6.22)
2025-07-02 11:30:29 [RMI TCP Connection(1)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 11:30:29 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 11:30:29 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 11:30:29 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 11:30:29 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 11:30:29 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@286cd3ad
2025-07-02 11:30:29 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@75952723
2025-07-02 11:30:29 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 11:30:29 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-02 11:30:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 11:30:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:30:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 11:30:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 11:30:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:30:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:30:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 11:30:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 11:30:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 11:30:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 11:30:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:30:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 11:30:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 11:30:44 [http-nio-8080-exec-2] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 322 ms
2025-07-02 11:30:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 11:30:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 11:30:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:33:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:33:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 11:33:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 11:34:45 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 8528 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 11:34:45 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 11:34:45 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 11:34:46 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 11:34:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 11:34:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2025-07-02 11:34:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 11:34:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 11:34:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 11:34:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 11:34:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1512 ms
2025-07-02 11:34:48 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 11:34:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 11:34:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 11:34:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 11:34:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 11:34:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 11:34:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@762f8ff6
2025-07-02 11:34:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 11:34:49 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 11:34:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 11:34:50 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 11:34:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:34:50 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 11:34:50 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 11:34:51 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 11:34:51 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 11:34:51 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 11:34:51 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 11:34:51 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 11:34:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 11:34:51 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 6.391 seconds (process running for 6.94)
2025-07-02 11:34:52 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 11:34:52 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 11:34:52 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 11:34:52 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 11:34:52 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 11:34:52 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@610576c8
2025-07-02 11:34:52 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1bf2e21d
2025-07-02 11:34:52 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 11:34:52 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-02 11:34:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 11:34:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:34:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 11:34:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 11:34:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:34:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:34:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 11:34:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 11:34:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 11:34:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 11:34:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:34:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 11:34:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 11:34:55 [http-nio-8080-exec-4] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 384 ms
2025-07-02 11:34:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 11:34:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 11:34:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:39:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:39:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 11:39:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 11:39:44 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 9644 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 11:39:44 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 11:39:44 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 11:39:45 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 11:39:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 11:39:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2025-07-02 11:39:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 11:39:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 11:39:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 11:39:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 11:39:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1303 ms
2025-07-02 11:39:47 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 11:39:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 11:39:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 11:39:47 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 11:39:47 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 11:39:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 11:39:47 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@41abee65
2025-07-02 11:39:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 11:39:47 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 11:39:48 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 11:39:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 11:39:48 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:39:48 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 11:39:49 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 11:39:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 11:39:49 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 11:39:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 11:39:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 11:39:49 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 11:39:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 11:39:49 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.896 seconds (process running for 6.47)
2025-07-02 11:39:50 [RMI TCP Connection(3)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 11:39:50 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 11:39:50 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 11:39:50 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 11:39:50 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 11:39:50 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5f83fdf6
2025-07-02 11:39:50 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6b8f0b64
2025-07-02 11:39:50 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 11:39:50 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-02 11:39:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 11:39:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:39:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 11:39:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 11:39:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 11:39:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:39:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 11:39:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 11:39:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 11:39:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 11:39:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:39:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 11:39:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 11:39:54 [http-nio-8080-exec-5] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 338 ms
2025-07-02 11:39:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 11:39:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 11:39:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:40:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-02 11:40:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-02 11:40:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-02 11:40:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 11:40:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 11:40:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 11:40:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 11:40:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=5, userId=1, items=[CartItemDto(id=8, product=ProductDto(id=4, name=Laptop, description= (truncated)...]
2025-07-02 11:40:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:40:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/1/simple", parameters={}
2025-07-02 11:40:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-02 11:40:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 11:40:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-02 11:40:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 11:40:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart not found with id: 1"]
2025-07-02 11:40:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: Cart not found with id: 1]
2025-07-02 11:40:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/5/simple", parameters={}
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=5, customerName=string string, items=[SimpleCartItemDto(productName=Laptop, cat (truncated)...]
2025-07-02 11:40:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 11:40:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:40:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 11:40:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 11:59:33 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 15276 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 11:59:33 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 11:59:33 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 11:59:34 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 11:59:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 11:59:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 5 JPA repository interfaces.
2025-07-02 11:59:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 11:59:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 11:59:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 11:59:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 11:59:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1372 ms
2025-07-02 11:59:35 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 11:59:35 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 11:59:35 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 11:59:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 11:59:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 11:59:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 11:59:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2431050d
2025-07-02 11:59:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 11:59:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 11:59:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 11:59:37 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 11:59:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:59:37 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 11:59:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 11:59:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 11:59:38 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 11:59:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 11:59:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 11:59:38 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 11:59:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 11:59:38 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.983 seconds (process running for 6.595)
2025-07-02 11:59:38 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 11:59:38 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 11:59:38 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 11:59:38 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 11:59:38 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 11:59:38 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@66121af9
2025-07-02 11:59:38 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5d81bc79
2025-07-02 11:59:38 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 11:59:38 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-02 11:59:44 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 11:59:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 11:59:44 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 12:00:56 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 6684 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 12:00:56 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 12:00:56 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 12:00:57 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 12:00:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 12:00:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2025-07-02 12:00:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 12:00:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 12:00:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 12:00:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 12:00:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1278 ms
2025-07-02 12:00:58 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 12:00:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 12:00:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 12:00:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 12:00:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 12:00:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 12:00:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5308e79d
2025-07-02 12:00:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 12:00:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 12:01:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 12:01:00 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 12:01:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 12:01:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 12:01:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 12:01:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 12:01:01 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 12:01:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 12:01:01 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 12:01:01 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 12:01:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 12:01:01 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.679 seconds (process running for 6.221)
2025-07-02 12:01:02 [RMI TCP Connection(3)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 12:01:02 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 12:01:02 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 12:01:02 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 12:01:02 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 12:01:02 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@f083345
2025-07-02 12:01:02 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@40c7cea8
2025-07-02 12:01:02 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 12:01:02 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:01:37 [http-nio-8080-exec-1] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 12:01:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:02:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-02 12:02:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-02 12:02:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=deneme, email=deneme@gmail.com, password=deneme123, firstName=Deneme, las (truncated)...]
2025-07-02 12:02:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-02 12:02:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 12:02:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:02:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=7, username=deneme, email=deneme@gmail.com, firstName=Deneme, lastName=Deneme, phoneNumbe (truncated)...]
2025-07-02 12:02:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:02:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/7", parameters={}
2025-07-02 12:02:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 12:02:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 12:02:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:02:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:02:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=7, username=deneme, email=deneme@gmail.com, firstName=Deneme, lastName=Deneme, phoneNumbe (truncated)...]
2025-07-02 12:02:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:02:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/7", parameters={}
2025-07-02 12:02:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-02 12:02:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=denemeee, email=null, password=null, firstName=null, lastName=null, phone (truncated)...]
2025-07-02 12:02:58 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 12:02:58 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:02:58 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-02 12:02:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:02:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=7, username=denemeee, email=deneme@gmail.com, firstName=Deneme, lastName=Deneme, phoneNum (truncated)...]
2025-07-02 12:02:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/7", parameters={}
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 12:03:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-02 12:03:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/7", parameters={}
2025-07-02 12:03:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 12:03:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 12:03:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:03:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 12:03:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-02 12:08:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-02 12:08:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 12:08:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 12:08:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:08:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-02 12:08:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:09:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-02 12:09:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-02 12:09:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=test, description=test, price=59.99, stockQuantity=26, category=test)]
2025-07-02 12:09:28 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 12:09:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:09:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=10, name=test, description=test, price=59.99, stockQuantity=26, category=test, active= (truncated)...]
2025-07-02 12:09:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:09:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/10", parameters={}
2025-07-02 12:09:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-02 12:09:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 12:09:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:09:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=10, name=test, description=test, price=59.99, stockQuantity=26, category=test, active= (truncated)...]
2025-07-02 12:09:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:10:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/10", parameters={}
2025-07-02 12:10:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, Product)
2025-07-02 12:10:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Product(id=null, name=testt, description=null, price=null, stockQuantity=null, category=null, active (truncated)...]
2025-07-02 12:10:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 12:10:00 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-02 12:10:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:10:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=10, name=testt, description=test, price=59.99, stockQuantity=26, category=test, active (truncated)...]
2025-07-02 12:10:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:10:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-02 12:10:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-02 12:10:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-02 12:10:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:10:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 12:10:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:10:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:10:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=5, userId=1, items=[CartItemDto(id=8, product=ProductDto(id=4, name=Laptop, description= (truncated)...]
2025-07-02 12:10:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:12:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-02 12:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(Cart)
2025-07-02 12:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Cart(id=null, user=User(id=1, username=null, email=null, password=null, firstName=null, lastName=nul (truncated)...]
2025-07-02 12:12:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 12:12:32 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-07-02 12:12:32 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "uk64t7ox312pqal3p7fg9o503c2"
  Ayrıntı: Key (user_id)=(1) already exists.
2025-07-02 12:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-02 12:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 12:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Duplicate entry. Username or email already exists."]
2025-07-02 12:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "uk64t7ox312pqal3p7fg9o503c2"<EOL>  Ayrıntı: Key (user_id)=(1) already exists.] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [uk64t7ox312pqal3p7fg9o503c2]]
2025-07-02 12:12:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 409 CONFLICT
2025-07-02 12:12:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-02 12:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(Cart)
2025-07-02 12:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Cart(id=null, user=User(id=7, username=null, email=null, password=null, firstName=null, lastName=nul (truncated)...]
2025-07-02 12:12:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 12:12:40 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-02 12:12:40 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"
  Ayrıntı: Key (user_id)=(7) is not present in table "users".
2025-07-02 12:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-02 12:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 12:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-02 12:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"<EOL>  Ayrıntı: Key (user_id)=(7) is not present in table "users".] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [fkb5o626f86h46m4s7ms6ginnop]]
2025-07-02 12:12:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-02 12:12:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-02 12:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(Cart)
2025-07-02 12:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Cart(id=null, user=User(id=10, username=null, email=null, password=null, firstName=null, lastName=nu (truncated)...]
2025-07-02 12:12:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 12:12:46 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-02 12:12:46 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"
  Ayrıntı: Key (user_id)=(10) is not present in table "users".
2025-07-02 12:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-02 12:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 12:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-02 12:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"<EOL>  Ayrıntı: Key (user_id)=(10) is not present in table "users".] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [fkb5o626f86h46m4s7ms6ginnop]]
2025-07-02 12:12:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-02 12:12:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-02 12:12:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(Cart)
2025-07-02 12:12:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Cart(id=null, user=User(id=5, username=null, email=null, password=null, firstName=null, lastName=nul (truncated)...]
2025-07-02 12:12:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 12:12:52 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-02 12:12:52 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"
  Ayrıntı: Key (user_id)=(5) is not present in table "users".
2025-07-02 12:12:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-02 12:12:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 12:12:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-02 12:12:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"<EOL>  Ayrıntı: Key (user_id)=(5) is not present in table "users".] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [fkb5o626f86h46m4s7ms6ginnop]]
2025-07-02 12:12:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-02 12:12:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-02 12:12:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(Cart)
2025-07-02 12:12:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Cart(id=null, user=User(id=4, username=null, email=null, password=null, firstName=null, lastName=nul (truncated)...]
2025-07-02 12:12:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 12:12:56 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-07-02 12:12:56 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "uk64t7ox312pqal3p7fg9o503c2"
  Ayrıntı: Key (user_id)=(4) already exists.
2025-07-02 12:12:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-02 12:12:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 12:12:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Duplicate entry. Username or email already exists."]
2025-07-02 12:12:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "uk64t7ox312pqal3p7fg9o503c2"<EOL>  Ayrıntı: Key (user_id)=(4) already exists.] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [uk64t7ox312pqal3p7fg9o503c2]]
2025-07-02 12:12:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 409 CONFLICT
2025-07-02 12:13:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-02 12:13:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(Cart)
2025-07-02 12:13:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Cart(id=null, user=User(id=3, username=null, email=null, password=null, firstName=null, lastName=nul (truncated)...]
2025-07-02 12:13:00 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 12:13:00 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-02 12:13:00 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"
  Ayrıntı: Key (user_id)=(3) is not present in table "users".
2025-07-02 12:13:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-02 12:13:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 12:13:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-02 12:13:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"<EOL>  Ayrıntı: Key (user_id)=(3) is not present in table "users".] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [fkb5o626f86h46m4s7ms6ginnop]]
2025-07-02 12:13:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 12:13:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:13:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-02 12:13:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(Cart)
2025-07-02 12:13:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [Cart(id=null, user=User(id=6, username=null, email=null, password=null, firstName=null, lastName=nul (truncated)...]
2025-07-02 12:13:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 12:13:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:13:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=14, userId=6, items=[], totalPrice=0, totalItems=0)]
2025-07-02 12:13:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=5, userId=1, items=[CartItemDto(id=8, product=ProductDto(id=4, name=Laptop, description= (truncated)...]
2025-07-02 12:13:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:13:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/5/clear", parameters={}
2025-07-02 12:13:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-02 12:13:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 12:13:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-02 12:13:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:13:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-02 12:13:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:13:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-02 12:13:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-02 12:13:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-02 12:13:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:13:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=5, userId=1, items=[], totalPrice=0, totalItems=0), CartDto(id=7, userId=4, items=[], to (truncated)...]
2025-07-02 12:13:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:13:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/5/items?productId=5&quantity=3", parameters={masked}
2025-07-02 12:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, Long, int)
2025-07-02 12:13:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 12:13:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 12:13:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 12:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=1, items=[CartItemDto(id=9, product=ProductDto(id=5, name=Mouse, description=Wi (truncated)...]
2025-07-02 12:13:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:13:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/5/items/5?quantity=5", parameters={masked}
2025-07-02 12:13:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, int)
2025-07-02 12:13:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 12:13:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 12:13:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-02 12:13:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:13:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=1, items=[CartItemDto(id=9, product=ProductDto(id=5, name=Mouse, description=Wi (truncated)...]
2025-07-02 12:13:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:13:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/5/items/5", parameters={}
2025-07-02 12:13:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-02 12:13:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 12:13:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 12:13:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:13:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-02 12:13:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:13:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-02 12:13:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:14:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/5", parameters={}
2025-07-02 12:14:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-02 12:14:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 12:14:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:14:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:14:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-02 12:14:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:14:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/5/simple", parameters={}
2025-07-02 12:14:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-02 12:14:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 12:14:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 12:14:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:14:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:14:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:14:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=5, customerName=string string, items=[], totalPrice=0, totalItems=0, uniqueProd (truncated)...]
2025-07-02 12:14:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:14:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites?userId=5&productId=5", parameters={masked}
2025-07-02 12:14:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(Long, Long)
2025-07-02 12:14:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 12:14:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-02 12:14:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 12:14:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["User not found with id: 5"]
2025-07-02 12:14:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: User not found with id: 5]
2025-07-02 12:14:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites?userId=6&productId=5", parameters={masked}
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(Long, Long)
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=6, userId=6, product=ProductDto(id=5, name=Mouse, description=Wireless mouse, price=2 (truncated)...]
2025-07-02 12:14:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:14:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/5", parameters={}
2025-07-02 12:14:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-02 12:14:59 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 5
2025-07-02 12:14:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 12:14:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 12:14:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-02 12:14:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 12:14:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart is empty"]
2025-07-02 12:14:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Cart is empty]
2025-07-02 12:14:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-02 12:19:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 12:19:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 12:19:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 12:23:04 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 22008 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 12:23:04 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 12:23:04 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 12:23:05 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 12:23:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 12:23:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2025-07-02 12:23:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 12:23:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 12:23:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 12:23:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 12:23:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1447 ms
2025-07-02 12:23:07 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 12:23:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 12:23:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 12:23:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 12:23:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 12:23:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 12:23:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5308e79d
2025-07-02 12:23:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 12:23:07 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 12:23:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 12:23:08 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 12:23:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 12:23:09 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 12:23:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 12:23:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 12:23:09 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 12:23:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 12:23:09 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 12:23:10 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 12:23:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 12:23:10 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 6.215 seconds (process running for 6.809)
2025-07-02 12:23:10 [RMI TCP Connection(1)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 12:23:10 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 12:23:10 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 12:23:10 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 12:23:10 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 12:23:10 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2a0a5865
2025-07-02 12:23:10 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4d4ae76
2025-07-02 12:23:10 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 12:23:10 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-02 12:23:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 12:23:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 12:23:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 12:23:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 12:23:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 12:23:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:23:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 12:23:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 12:23:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 12:23:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 12:23:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:23:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 12:23:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 12:23:18 [http-nio-8080-exec-3] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 300 ms
2025-07-02 12:23:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 12:23:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 12:23:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 12:23:27 [http-nio-8080-exec-6] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 12:23:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:23:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-02 12:23:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-02 12:23:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=2, sessionId=null)]
2025-07-02 12:23:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-02 12:23:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 12:23:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=15, userId=2, items=[], totalPrice=0, totalItems=0)]
2025-07-02 12:23:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 12:25:45 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 12:25:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 12:25:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 13:10:56 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 4428 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 13:10:56 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 13:10:56 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 13:10:57 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 13:10:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 13:10:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2025-07-02 13:10:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 13:10:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 13:10:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 13:10:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 13:10:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1380 ms
2025-07-02 13:10:59 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 13:10:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 13:10:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 13:10:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 13:10:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 13:10:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 13:10:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@141a10bf
2025-07-02 13:10:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 13:10:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 13:11:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 13:11:00 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 13:11:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:11:01 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 13:11:01 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 13:11:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 13:11:01 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 13:11:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 13:11:01 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 13:11:02 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 13:11:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 13:11:02 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.906 seconds (process running for 6.485)
2025-07-02 13:11:02 [RMI TCP Connection(4)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 13:11:02 [RMI TCP Connection(4)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 13:11:02 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 13:11:02 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 13:11:02 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 13:11:02 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17e71422
2025-07-02 13:11:02 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6740b169
2025-07-02 13:11:02 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 13:11:02 [RMI TCP Connection(4)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-02 13:11:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 13:11:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 13:11:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 13:11:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-07-02 13:11:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-07-02 13:11:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 13:11:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 13:11:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 13:11:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-07-02 13:11:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-07-02 13:11:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 13:11:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 13:11:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 13:11:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 13:11:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 13:11:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 13:11:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 13:11:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:11:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 13:11:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-07-02 13:11:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 13:11:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 13:11:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 13:11:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 13:11:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 13:11:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:11:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 13:11:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 13:11:15 [http-nio-8080-exec-5] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 399 ms
2025-07-02 13:11:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 13:11:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 13:11:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:11:18 [http-nio-8080-exec-10] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 13:11:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:11:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/1", parameters={}
2025-07-02 13:11:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 13:11:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 13:11:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:11:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:11:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=string, email=string@gmail.com, firstName=string, lastName=string, phoneNumbe (truncated)...]
2025-07-02 13:11:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:11:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/4", parameters={}
2025-07-02 13:11:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 13:11:28 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 13:11:28 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:11:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:11:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=4, username=zeynepsura, email=zeynepsura@gmail.com, firstName=Zeynep Şura, lastName=Konak (truncated)...]
2025-07-02 13:11:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-02 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-02 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=zartr, email=zartzort@gmail.com, password=string, firstName=string, lastN (truncated)...]
2025-07-02 13:11:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-02 13:11:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-02 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=8, username=zartr, email=zartzort@gmail.com, firstName=string, lastName=string, phoneNumb (truncated)...]
2025-07-02 13:11:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/8", parameters={}
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 13:11:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-02 13:11:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-02 13:11:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 13:11:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 13:11:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:11:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-02 13:11:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 13:12:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:12:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/4", parameters={}
2025-07-02 13:12:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-02 13:12:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 13:12:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:12:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=4, name=Laptop, description=High performance laptop, price=1199.99, stockQuantity=10,  (truncated)...]
2025-07-02 13:12:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:12:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/5", parameters={}
2025-07-02 13:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-02 13:12:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-02 13:12:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 13:12:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 13:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=5, userId=4, items=[OrderItemDto(id=5, product=ProductDto(id=6, name=Book, description=P (truncated)...]
2025-07-02 13:12:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/5/simple", parameters={}
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getSimpleOrderById(Long)
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleOrderDto(orderId=5, customerName=Zeynep Şura Konak, items=[SimpleOrderItemDto(productName=Book (truncated)...]
2025-07-02 13:12:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:12:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/5", parameters={}
2025-07-02 13:12:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-02 13:12:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-02 13:12:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:12:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-02 13:12:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:12:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/4", parameters={}
2025-07-02 13:12:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-02 13:12:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-02 13:12:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-02 13:12:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 13:12:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:12:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=5, userId=4, items=[OrderItemDto(id=5, product=ProductDto(id=6, name=Book, description= (truncated)...]
2025-07-02 13:12:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:13:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/5", parameters={}
2025-07-02 13:13:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-02 13:13:01 [http-nio-8080-exec-9] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 5
2025-07-02 13:13:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 13:13:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 13:13:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-02 13:13:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-02 13:13:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart is empty"]
2025-07-02 13:13:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Cart is empty]
2025-07-02 13:13:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-02 13:13:31 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:13:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 13:13:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 13:17:35 [main] INFO  o.u.s.controller.CartControllerTest - Starting CartControllerTest using Java 17.0.14 with PID 17336 (started by kurgu in c:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 13:17:35 [main] INFO  o.u.s.controller.CartControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-07-02 13:17:35 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6a10b263
2025-07-02 13:17:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-07-02 13:17:38 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-02 13:17:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 13:17:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 13:17:38 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-02 13:17:38 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-02 13:17:38 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-07-02 13:17:38 [main] INFO  o.u.s.controller.CartControllerTest - Started CartControllerTest in 3.575 seconds (process running for 4.614)
2025-07-02 13:17:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-02 13:17:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 13:17:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-02 13:17:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-02 13:17:39 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.integration.ProductIntegrationTest]: ProductIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-02 13:17:39 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.integration.ProductIntegrationTest
2025-07-02 13:17:39 [main] INFO  o.u.s.i.ProductIntegrationTest - Starting ProductIntegrationTest using Java 17.0.14 with PID 17336 (started by kurgu in c:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 13:17:39 [main] INFO  o.u.s.i.ProductIntegrationTest - The following 1 profile is active: "test"
2025-07-02 13:17:39 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@321c2a7
2025-07-02 13:17:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 13:17:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 151 ms. Found 5 JPA repository interfaces.
2025-07-02 13:17:41 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 13:17:41 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 13:17:41 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 13:17:41 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 13:17:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 13:17:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-02 13:17:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 13:17:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 13:17:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-02 13:17:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-02 13:17:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:17:43 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 13:17:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 13:17:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 13:17:45 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 13:17:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 13:17:45 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 13:17:45 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-02 13:17:46 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 13:17:46 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-02 13:17:46 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-02 13:17:46 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 13:17:46 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 56 ms
2025-07-02 13:17:46 [main] INFO  o.u.s.i.ProductIntegrationTest - Started ProductIntegrationTest in 7.086 seconds (process running for 12.333)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test Description, price=99.99, stockQuantity=10, (truncated)...]
2025-07-02 13:17:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=Test Description, price=99.99, stockQuantity=10, cat (truncated)...]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=null, price=-10.00, stockQuantity=10, category=n (truncated)...]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{price=Price must be greater than 0}]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.ProductDto> org.utku.shoppingapi.controller.ProductController.createProduct(org.utku.shoppingapi.dto.request.CreateProductRequest): [Field error in object 'createProductRequest' on field 'price': rejected value [-10.00]; codes [DecimalMin.createProductRequest.price,DecimalMin.price,DecimalMin.java.math.BigDecimal,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.price,price]; arguments []; default message [price],false,0.0]; default message [Price must be greater than 0]] ]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 13:17:46 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 13:17:46 [main] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=, description=null, price=99.99, stockQuantity=10, category=null)]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{name=Product name must be between 2 and 255 characters}]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.ProductDto> org.utku.shoppingapi.controller.ProductController.createProduct(org.utku.shoppingapi.dto.request.CreateProductRequest) with 2 errors: [Field error in object 'createProductRequest' on field 'name': rejected value []; codes [NotBlank.createProductRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.name,name]; arguments []; default message [name]]; default message [Product name cannot be empty]] [Field error in object 'createProductRequest' on field 'name': rejected value []; codes [Size.createProductRequest.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.name,name]; arguments []; default message [name],255,2]; default message [Product name must be between 2 and 255 characters]] ]
2025-07-02 13:17:46 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.integration.UserIntegrationTest]: UserIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-02 13:17:46 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.integration.UserIntegrationTest
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=123, firstName=null, lastName= (truncated)...]
2025-07-02 13:17:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{password=Password must be at least 6 characters}]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'password': rejected value [123]; codes [Size.createUserRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password],2147483647,6]; default message [Password must be at least 6 characters]] ]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-02 13:17:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-02 13:17:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Test, lastName=User, phoneNumber= (truncated)...]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 13:17:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=invalid-email, password=password123, firstName=null, last (truncated)...]
2025-07-02 13:17:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{email=Please enter a valid email address}]
2025-07-02 13:17:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'email': rejected value [invalid-email]; codes [Email.createUserRequest.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@1c4493c6,.*]; default message [Please enter a valid email address]] ]
2025-07-02 13:17:46 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.repository.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-02 13:17:46 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.repository.UserRepositoryTest
2025-07-02 13:17:46 [main] INFO  o.u.s.repository.UserRepositoryTest - Starting UserRepositoryTest using Java 17.0.14 with PID 17336 (started by kurgu in c:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 13:17:46 [main] INFO  o.u.s.repository.UserRepositoryTest - The following 1 profile is active: "test"
2025-07-02 13:17:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 13:17:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 5 JPA repository interfaces.
2025-07-02 13:17:47 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-07-02 13:17:47 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:8438807d-4c81-465b-a535-e5243d8d4cf9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-07-02 13:17:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 13:17:47 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 13:17:47 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 13:17:47 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 13:17:47 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-02 13:17:47 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:17:47 [main] INFO  o.u.s.repository.UserRepositoryTest - Started UserRepositoryTest in 0.531 seconds (process running for 13.561)
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role) 
    values
        (?, ?)
2025-07-02 13:17:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-02 13:17:47 [main] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-02 13:17:47 [main] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: null, Total: null
2025-07-02 13:17:47 [main] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-02 13:17:47 [main] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-02 13:17:48 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.ShoppingApiApplicationTests]: ShoppingApiApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-02 13:17:48 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.ShoppingApiApplicationTests
2025-07-02 13:17:48 [main] INFO  o.u.s.ShoppingApiApplicationTests - Starting ShoppingApiApplicationTests using Java 17.0.14 with PID 17336 (started by kurgu in c:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 13:17:48 [main] INFO  o.u.s.ShoppingApiApplicationTests - The following 1 profile is active: "test"
2025-07-02 13:17:48 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@53c25e43
2025-07-02 13:17:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 13:17:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 5 JPA repository interfaces.
2025-07-02 13:17:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 13:17:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 13:17:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 13:17:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-02 13:17:48 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn17: url=jdbc:h2:mem:testdb user=SA
2025-07-02 13:17:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-02 13:17:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 13:17:48 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-02 13:17:48 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-02 13:17:48 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:17:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 13:17:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 13:17:48 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 13:17:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 13:17:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 13:17:49 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-02 13:17:49 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 13:17:49 [main] INFO  o.u.s.ShoppingApiApplicationTests - Started ShoppingApiApplicationTests in 1.199 seconds (process running for 15.341)
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6a10b263, started on Wed Jul 02 13:17:35 TRT 2025
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@321c2a7, started on Wed Jul 02 13:17:39 TRT 2025
2025-07-02 13:17:49 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 13:17:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-02 13:17:49 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@53c25e43, started on Wed Jul 02 13:17:48 TRT 2025
2025-07-02 13:17:49 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-02 13:17:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-02 13:17:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-02 13:44:11 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 10328 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-02 13:44:11 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-02 13:44:11 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-02 13:44:12 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-02 13:44:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-02 13:44:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2025-07-02 13:44:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-02 13:44:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-02 13:44:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-02 13:44:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-02 13:44:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1312 ms
2025-07-02 13:44:13 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-02 13:44:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-02 13:44:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-02 13:44:14 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-02 13:44:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-02 13:44:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-02 13:44:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2431050d
2025-07-02 13:44:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-02 13:44:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-02 13:44:15 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-02 13:44:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-02 13:44:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:44:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-02 13:44:16 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-02 13:44:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-02 13:44:16 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-02 13:44:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-02 13:44:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-02 13:44:16 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-02 13:44:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-02 13:44:16 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.803 seconds (process running for 6.321)
2025-07-02 13:44:17 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-02 13:44:17 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-02 13:44:17 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-02 13:44:17 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-02 13:44:17 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-02 13:44:17 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@60df0131
2025-07-02 13:44:17 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@77070012
2025-07-02 13:44:17 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-02 13:44:17 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-02 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-02 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-02 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-02 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-02 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-02 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-02 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-02 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-02 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-02 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-02 13:44:22 [http-nio-8080-exec-10] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 300 ms
2025-07-02 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-02 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-02 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-02 13:45:01 [http-nio-8080-exec-4] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-02 13:45:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:45:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/4", parameters={}
2025-07-02 13:45:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-02 13:45:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 13:45:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:45:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:45:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=4, username=zeynepsura, email=zeynepsura@gmail.com, firstName=Zeynep Şura, lastName=Konak (truncated)...]
2025-07-02 13:45:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:45:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-02 13:45:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-02 13:45:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-02 13:45:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:45:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-02 13:45:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:45:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/10", parameters={}
2025-07-02 13:45:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-02 13:45:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-02 13:45:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:45:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=10, name=testt, description=test, price=59.99, stockQuantity=26, category=test, active (truncated)...]
2025-07-02 13:45:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=5, userId=1, items=[], totalPrice=0, totalItems=0), CartDto(id=7, userId=4, items=[], to (truncated)...]
2025-07-02 13:45:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:45:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/5/simple", parameters={}
2025-07-02 13:45:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-02 13:45:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-02 13:45:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-02 13:45:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-02 13:45:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-02 13:45:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-02 13:45:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=5, customerName=string string, items=[], totalPrice=0, totalItems=0, uniqueProd (truncated)...]
2025-07-02 13:45:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-02 13:45:49 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-02 13:45:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-02 13:45:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 15:32:49 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 21852 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 15:32:49 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 15:32:49 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 15:32:50 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 15:32:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 15:32:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2025-07-03 15:32:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 15:32:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 15:32:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 15:32:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 15:32:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1284 ms
2025-07-03 15:32:51 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 15:32:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 15:32:52 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 15:32:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 15:32:52 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 15:32:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 15:32:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4e26040f
2025-07-03 15:32:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 15:32:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 15:32:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 15:32:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-03 15:32:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 15:32:53 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 15:32:54 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 15:32:54 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 15:32:54 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 15:32:54 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 15:32:54 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 15:32:54 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 15:32:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 15:32:54 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.666 seconds (process running for 6.197)
2025-07-03 15:32:55 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 15:32:55 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 15:32:55 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 15:32:55 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 15:32:55 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 15:32:55 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17bda3
2025-07-03 15:32:55 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@42ffabb
2025-07-03 15:32:55 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 15:32:55 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-03 15:33:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-03 15:33:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 15:33:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-03 15:33:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-03 15:33:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 15:33:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:33:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-03 15:33:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-03 15:33:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-03 15:33:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-03 15:33:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:33:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-03 15:33:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-03 15:33:12 [http-nio-8080-exec-3] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 300 ms
2025-07-03 15:33:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-03 15:33:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-03 15:33:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:33:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 15:33:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 15:33:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:33:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:33:19 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:33:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:33:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:33:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:33:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:33:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:33:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:33:20 [http-nio-8080-exec-5] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 15:33:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:33:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 15:33:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:33:28 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 15:33:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 15:33:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 15:44:05 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 17808 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 15:44:05 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 15:44:05 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 15:44:06 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 15:44:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 15:44:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2025-07-03 15:44:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 15:44:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 15:44:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 15:44:08 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 15:44:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1407 ms
2025-07-03 15:44:08 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 15:44:08 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 15:44:08 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 15:44:08 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 15:44:08 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 15:44:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 15:44:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@35744f8
2025-07-03 15:44:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 15:44:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 15:44:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 15:44:09 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        id bigint generated by default as identity,
        created_at timestamp(6),
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        updated_at timestamp(6),
        cart_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 15:44:09 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        id bigint generated by default as identity,
        created_at timestamp(6),
        session_id varchar(100),
        updated_at timestamp(6),
        user_id bigint,
        primary key (id)
    )
2025-07-03 15:44:09 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        id bigint generated by default as identity,
        created_at timestamp(6),
        product_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 15:44:09 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        id bigint generated by default as identity,
        quantity integer not null,
        unit_price numeric(10,2) not null,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 15:44:09 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        total_amount numeric(10,2) not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    create table products (
        id bigint generated by default as identity,
        active boolean not null,
        category varchar(100),
        created_at timestamp(6),
        description TEXT,
        name varchar(255) not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        updated_at timestamp(6),
        primary key (id)
    )
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role varchar(255) check (role in ('USER','ADMIN'))
    )
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        created_at timestamp(6),
        email varchar(100) not null,
        enabled boolean not null,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        phone_number varchar(15),
        updated_at timestamp(6),
        username varchar(50) not null,
        primary key (id)
    )
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       drop constraint if exists UK6oue0maw421roerltnxn16a38
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6oue0maw421roerltnxn16a38" of relation "cart_items" does not exist, skipping
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint UK6oue0maw421roerltnxn16a38 unique (cart_id, product_id)
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       drop constraint if exists UK64t7ox312pqal3p7fg9o503c2
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk64t7ox312pqal3p7fg9o503c2" of relation "carts" does not exist, skipping
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint UK64t7ox312pqal3p7fg9o503c2 unique (user_id)
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       drop constraint if exists UKgh1s14hhb9qb8p2do933hscsf
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukgh1s14hhb9qb8p2do933hscsf" of relation "favorites" does not exist, skipping
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint UKgh1s14hhb9qb8p2do933hscsf unique (user_id, product_id)
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:44:10 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6dotkott2kjsp8vw4d0m25fb7" of relation "users" does not exist, skipping
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-03 15:44:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-03 15:44:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 15:44:11 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 15:44:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 15:44:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 15:44:11 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 15:44:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 15:44:11 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 15:44:12 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 15:44:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 15:44:12 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 7.056 seconds (process running for 7.564)
2025-07-03 15:44:12 [RMI TCP Connection(4)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 15:44:12 [RMI TCP Connection(4)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 15:44:12 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 15:44:12 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 15:44:12 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 15:44:12 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4d9dd8cc
2025-07-03 15:44:12 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@54a0ada1
2025-07-03 15:44:12 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 15:44:12 [RMI TCP Connection(4)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-03 15:44:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-03 15:44:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 15:44:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-03 15:44:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-03 15:44:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 15:44:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:44:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-03 15:44:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-03 15:44:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-03 15:44:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-03 15:44:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:44:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-03 15:44:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-03 15:44:24 [http-nio-8080-exec-9] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 286 ms
2025-07-03 15:44:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-03 15:44:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-03 15:44:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:44:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 15:44:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 15:44:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:44:26 [http-nio-8080-exec-6] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 15:44:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:44:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-03 15:44:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:44:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 15:44:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 15:44:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 15:44:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 15:44:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-03 15:44:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:44:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{phoneNumber=Phone number cannot exceed 15 characters}]
2025-07-03 15:44:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [+90 555 123 4567]; codes [Size.createUserRequest.phoneNumber,Size.phoneNumber,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber],15,0]; default message [Phone number cannot exceed 15 characters]] ]
2025-07-03 15:44:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:45:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 15:45:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 15:45:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 15:45:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 15:45:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:45:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:45:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Test, lastName=User, phoneNumber= (truncated)...]
2025-07-03 15:45:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:45:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/1", parameters={}
2025-07-03 15:45:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:45:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:45:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:45:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:45:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Test, lastName=User, phoneNumber= (truncated)...]
2025-07-03 15:45:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:45:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 15:45:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 15:45:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:45:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:45:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:45:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:45:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 15:45:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:45:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/1", parameters={}
2025-07-03 15:45:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:45:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:45:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:45:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:45:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Test, lastName=User, phoneNumber= (truncated)...]
2025-07-03 15:45:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:45:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 15:45:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 15:45:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser2, email=test2@example.com, password=password1234, firstName=Test (truncated)...]
2025-07-03 15:45:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 15:45:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:45:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:45:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=2, username=testuser2, email=test2@example.com, firstName=Test2, lastName=User2, phoneNum (truncated)...]
2025-07-03 15:45:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:45:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/2", parameters={}
2025-07-03 15:45:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:45:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:45:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:45:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:45:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser2, email=test2@example.com, firstName=Test2, lastName=User2, phoneNum (truncated)...]
2025-07-03 15:45:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:45:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/2", parameters={}
2025-07-03 15:45:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:45:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:45:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:45:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:45:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser2, email=test2@example.com, firstName=Test2, lastName=User2, phoneNum (truncated)...]
2025-07-03 15:45:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/2", parameters={}
2025-07-03 15:46:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:46:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:46:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:46:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser2, email=test2@example.com, firstName=Test2, lastName=User2, phoneNum (truncated)...]
2025-07-03 15:46:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 15:46:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 15:46:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 15:46:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:46:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 15:46:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 15:46:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 15:46:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product 2, description=This is a test product for API testing, price= (truncated)...]
2025-07-03 15:46:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:46:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product 2, description=This is a test product for API testing, price=78.8 (truncated)...]
2025-07-03 15:46:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/2", parameters={}
2025-07-03 15:46:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 15:46:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product 2, description=This is a test product for API testing, price=78.8 (truncated)...]
2025-07-03 15:46:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 15:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 15:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 15:46:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 15:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-03 15:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{phoneNumber=Phone number cannot exceed 15 characters, username=This username is already taken}]
2025-07-03 15:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest) with 2 errors: [Field error in object 'createUserRequest' on field 'username': rejected value [testuser]; codes [UniqueUsername.createUserRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [+90 555 123 4567]; codes [Size.createUserRequest.phoneNumber,Size.phoneNumber,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber],15,0]; default message [Phone number cannot exceed 15 characters]] ]
2025-07-03 15:46:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:46:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/2", parameters={}
2025-07-03 15:46:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:46:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:46:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:46:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser2, email=test2@example.com, firstName=Test2, lastName=User2, phoneNum (truncated)...]
2025-07-03 15:46:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 15:46:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 15:46:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 15:46:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:46:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 15:46:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/3", parameters={}
2025-07-03 15:46:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 15:46:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 15:46:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 15:46:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 15:46:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=2, sessionId=null)]
2025-07-03 15:46:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:46:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=2, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:46:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/1/items", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=3, quantity=2)]
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=2, items=[CartItemDto(id=1, product=ProductDto(id=3, name=Test Product, descrip (truncated)...]
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/1/items/3", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=2, items=[CartItemDto(id=1, product=ProductDto(id=3, name=Test Product, descrip (truncated)...]
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/1", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=2, items=[CartItemDto(id=1, product=ProductDto(id=3, name=Test Product, descrip (truncated)...]
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/1", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 15:46:50 [http-nio-8080-exec-1] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:46:50 [http-nio-8080-exec-1] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 1, Total: 499.95
2025-07-03 15:46:50 [http-nio-8080-exec-1] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=1, userId=2, items=[OrderItemDto(id=1, product=ProductDto(id=3, name=Test Product, descr (truncated)...]
2025-07-03 15:46:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 15:46:50 [http-nio-8080-exec-7] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 15:46:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 15:46:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 15:46:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 15:46:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:46:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/2", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 15:46:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=1, userId=2, items=[OrderItemDto(id=1, product=ProductDto(id=3, name=Test Product, desc (truncated)...]
2025-07-03 15:46:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=2, productId=3)]
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=1, userId=2, product=ProductDto(id=3, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 15:46:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 15:46:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=2, productId=3)]
2025-07-03 15:46:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 15:46:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/2", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 15:46:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=1, userId=2, product=ProductDto(id=3, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 15:46:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 15:46:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 15:46:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=1, userId=2, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 15:46:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/2", parameters={}
2025-07-03 15:46:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 15:46:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 15:46:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:46:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:46:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 15:46:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser2, email=test2@example.com, firstName=Updated, lastName=User, phoneNu (truncated)...]
2025-07-03 15:46:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/3", parameters={}
2025-07-03 15:46:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 15:46:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 15:46:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:46:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 15:46:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1/clear", parameters={}
2025-07-03 15:46:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 15:46:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:46:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:46:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=2, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:46:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/3", parameters={}
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 15:46:51 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:46:51 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(3) is still referenced from table "favorites".
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(3) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 15:46:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:46:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 15:46:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 15:46:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=2, productId=3)]
2025-07-03 15:46:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:46:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 15:46:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 15:46:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:46:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1", parameters={}
2025-07-03 15:46:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 15:46:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:46:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:46:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:46:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 15:46:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:46:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 15:46:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/2", parameters={}
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 15:46:51 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:46:51 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(2) is still referenced from table "orders".
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(2) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 15:46:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:47:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 15:47:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 15:47:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser2, email=test2@example.com, password=password1234, firstName=Test (truncated)...]
2025-07-03 15:47:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 15:47:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-03 15:47:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=This username is already taken}]
2025-07-03 15:47:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'username': rejected value [testuser2]; codes [UniqueUsername.createUserRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] ]
2025-07-03 15:47:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:47:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/2", parameters={}
2025-07-03 15:47:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:47:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:47:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:47:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser2, email=test2@example.com, firstName=Updated, lastName=User, phoneNu (truncated)...]
2025-07-03 15:47:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 15:47:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 15:47:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 15:47:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:47:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=4, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 15:47:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/4", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=4, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=2, sessionId=null)]
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/2/items", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=4, quantity=2)]
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[CartItemDto(id=2, product=ProductDto(id=4, name=Test Product, descrip (truncated)...]
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/2/items/4", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[CartItemDto(id=2, product=ProductDto(id=4, name=Test Product, descrip (truncated)...]
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/2", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 15:47:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[CartItemDto(id=2, product=ProductDto(id=4, name=Test Product, descrip (truncated)...]
2025-07-03 15:47:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/2", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 15:47:45 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 2
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:47:45 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 2, Total: 499.95
2025-07-03 15:47:45 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=2, userId=2, items=[OrderItemDto(id=2, product=ProductDto(id=4, name=Test Product, descr (truncated)...]
2025-07-03 15:47:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 15:47:45 [http-nio-8080-exec-2] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 15:47:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 15:47:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 15:47:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 15:47:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/2", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=1, userId=2, items=[OrderItemDto(id=1, product=ProductDto(id=3, name=Test Product, desc (truncated)...]
2025-07-03 15:47:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=2, productId=4)]
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=2, userId=2, product=ProductDto(id=4, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 15:47:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=2, productId=4)]
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 15:47:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/2", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=2, userId=2, product=ProductDto(id=4, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 15:47:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 15:47:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 15:47:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 15:47:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 15:47:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 15:47:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:47:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=2, userId=2, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 15:47:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/2", parameters={}
2025-07-03 15:47:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 15:47:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 15:47:46 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:47:46 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:47:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser2, email=test2@example.com, firstName=Updated, lastName=User, phoneNu (truncated)...]
2025-07-03 15:47:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/4", parameters={}
2025-07-03 15:47:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 15:47:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 15:47:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:47:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=4, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 15:47:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/2/clear", parameters={}
2025-07-03 15:47:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 15:47:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:47:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:47:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:47:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/4", parameters={}
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 15:47:46 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:47:46 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(4) is still referenced from table "favorites".
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(4) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 15:47:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:47:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 15:47:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 15:47:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=2, productId=4)]
2025-07-03 15:47:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:47:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 15:47:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 15:47:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:47:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/2", parameters={}
2025-07-03 15:47:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 15:47:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:47:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:47:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:47:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 15:47:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:47:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 15:47:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/2", parameters={}
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 15:47:46 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:47:46 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(2) is still referenced from table "orders".
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(2) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 15:47:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:49:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 15:49:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 15:49:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuserrr, email=test2123@example.com, password=password1234, firstName= (truncated)...]
2025-07-03 15:49:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 15:49:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:49:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=3, username=testuserrr, email=test2123@example.com, firstName=Test2, lastName=User2, phon (truncated)...]
2025-07-03 15:49:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/3", parameters={}
2025-07-03 15:49:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:49:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:49:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:49:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=3, username=testuserrr, email=test2123@example.com, firstName=Test2, lastName=User2, phon (truncated)...]
2025-07-03 15:49:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product 22313, description=This is a test product for API testing, pr (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=5, name=Test Product 22313, description=This is a test product for API testing, price= (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/5", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=5, name=Test Product 22313, description=This is a test product for API testing, price= (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=3, sessionId=null)]
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/3/items", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=5, quantity=2)]
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[CartItemDto(id=3, product=ProductDto(id=5, name=Test Product 22313, d (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/3/items/5", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[CartItemDto(id=3, product=ProductDto(id=5, name=Test Product 22313, d (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/3", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 15:49:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[CartItemDto(id=3, product=ProductDto(id=5, name=Test Product 22313, d (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/3", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 15:49:41 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 3
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:49:41 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 3, Total: 394.40
2025-07-03 15:49:41 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=3, userId=3, items=[OrderItemDto(id=3, product=ProductDto(id=5, name=Test Product 22313, (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 15:49:41 [http-nio-8080-exec-8] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 15:49:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 15:49:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 15:49:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 15:49:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:49:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/3", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 15:49:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=3, userId=3, items=[OrderItemDto(id=3, product=ProductDto(id=5, name=Test Product 22313 (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=3, productId=5)]
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=3, userId=3, product=ProductDto(id=5, name=Test Product 22313, description=This is a  (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=3, productId=5)]
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 15:49:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/3", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=3, userId=3, product=ProductDto(id=5, name=Test Product 22313, description=This is a (truncated)...]
2025-07-03 15:49:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 15:49:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 15:49:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 15:49:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:49:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 15:49:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 15:49:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 15:49:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 15:49:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:49:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=3, userId=3, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 15:49:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/3", parameters={}
2025-07-03 15:49:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 15:49:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 15:49:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:49:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:49:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 15:49:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=3, username=testuserrr, email=test2123@example.com, firstName=Updated, lastName=User, pho (truncated)...]
2025-07-03 15:49:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/5", parameters={}
2025-07-03 15:49:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 15:49:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 15:49:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:49:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=5, name=Test Product 22313, description=This is a test product for API testing, price= (truncated)...]
2025-07-03 15:49:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/3/clear", parameters={}
2025-07-03 15:49:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 15:49:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:49:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:49:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:49:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/5", parameters={}
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 15:49:42 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:49:42 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(5) is still referenced from table "favorites".
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(5) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 15:49:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:49:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 15:49:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 15:49:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=3, productId=5)]
2025-07-03 15:49:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:49:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 15:49:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 15:49:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:49:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/3", parameters={}
2025-07-03 15:49:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 15:49:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:49:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:49:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:49:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 15:49:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:49:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 15:49:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/3", parameters={}
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 15:49:42 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:49:42 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(3) is still referenced from table "orders".
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(3) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 15:49:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:49:52 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 15:49:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 15:49:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 15:50:11 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 13192 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 15:50:11 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 15:50:11 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 15:50:12 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 15:50:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 15:50:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2025-07-03 15:50:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 15:50:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 15:50:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 15:50:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 15:50:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1321 ms
2025-07-03 15:50:13 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 15:50:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 15:50:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 15:50:14 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 15:50:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 15:50:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 15:50:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2e9dcdd3
2025-07-03 15:50:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 15:50:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 15:50:15 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        id bigint generated by default as identity,
        created_at timestamp(6),
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        updated_at timestamp(6),
        cart_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        id bigint generated by default as identity,
        created_at timestamp(6),
        session_id varchar(100),
        updated_at timestamp(6),
        user_id bigint,
        primary key (id)
    )
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        id bigint generated by default as identity,
        created_at timestamp(6),
        product_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        id bigint generated by default as identity,
        quantity integer not null,
        unit_price numeric(10,2) not null,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        total_amount numeric(10,2) not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    create table products (
        id bigint generated by default as identity,
        active boolean not null,
        category varchar(100),
        created_at timestamp(6),
        description TEXT,
        name varchar(255) not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        updated_at timestamp(6),
        primary key (id)
    )
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role varchar(255) check (role in ('USER','ADMIN'))
    )
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        created_at timestamp(6),
        email varchar(100) not null,
        enabled boolean not null,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        phone_number varchar(15),
        updated_at timestamp(6),
        username varchar(50) not null,
        primary key (id)
    )
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       drop constraint if exists UK6oue0maw421roerltnxn16a38
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6oue0maw421roerltnxn16a38" of relation "cart_items" does not exist, skipping
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint UK6oue0maw421roerltnxn16a38 unique (cart_id, product_id)
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       drop constraint if exists UK64t7ox312pqal3p7fg9o503c2
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk64t7ox312pqal3p7fg9o503c2" of relation "carts" does not exist, skipping
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint UK64t7ox312pqal3p7fg9o503c2 unique (user_id)
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       drop constraint if exists UKgh1s14hhb9qb8p2do933hscsf
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukgh1s14hhb9qb8p2do933hscsf" of relation "favorites" does not exist, skipping
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint UKgh1s14hhb9qb8p2do933hscsf unique (user_id, product_id)
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:50:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6dotkott2kjsp8vw4d0m25fb7" of relation "users" does not exist, skipping
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-03 15:50:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-03 15:50:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 15:50:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 15:50:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 15:50:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 15:50:16 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 15:50:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 15:50:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 15:50:16 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 15:50:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 15:50:16 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.537 seconds (process running for 6.127)
2025-07-03 15:50:16 [RMI TCP Connection(4)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 15:50:16 [RMI TCP Connection(4)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 15:50:16 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 15:50:16 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 15:50:16 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 15:50:16 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3f92977a
2025-07-03 15:50:16 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3ace955c
2025-07-03 15:50:16 [RMI TCP Connection(4)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 15:50:16 [RMI TCP Connection(4)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-03 15:50:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 15:50:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 15:50:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuserrr, email=test2123@example.com, password=password1234, firstName= (truncated)...]
2025-07-03 15:50:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 15:50:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:50:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=1, username=testuserrr, email=test2123@example.com, firstName=Test2, lastName=User2, phon (truncated)...]
2025-07-03 15:50:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/1", parameters={}
2025-07-03 15:50:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:50:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:50:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:50:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuserrr, email=test2123@example.com, firstName=Test2, lastName=User2, phon (truncated)...]
2025-07-03 15:50:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 15:50:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 15:50:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product 22313, description=This is a test product for API testing, pr (truncated)...]
2025-07-03 15:50:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:50:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product 22313, description=This is a test product for API testing, price= (truncated)...]
2025-07-03 15:50:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/1", parameters={}
2025-07-03 15:50:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 15:50:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product 22313, description=This is a test product for API testing, price= (truncated)...]
2025-07-03 15:50:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 15:50:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 15:50:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=1, sessionId=null)]
2025-07-03 15:50:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:50:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:50:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/1/items", parameters={}
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=1, quantity=2)]
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product 22313, d (truncated)...]
2025-07-03 15:50:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/1/items/1", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product 22313, d (truncated)...]
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/1", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product 22313, d (truncated)...]
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/1", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 15:50:28 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:50:28 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 1, Total: 394.40
2025-07-03 15:50:28 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=1, userId=1, items=[OrderItemDto(id=1, product=ProductDto(id=1, name=Test Product 22313, (truncated)...]
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:50:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/1", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 15:50:28 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=1, userId=1, items=[OrderItemDto(id=1, product=ProductDto(id=1, name=Test Product 22313 (truncated)...]
2025-07-03 15:50:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=1, userId=1, product=ProductDto(id=1, name=Test Product 22313, description=This is a  (truncated)...]
2025-07-03 15:50:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 15:50:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 15:50:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 15:50:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/1", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 15:50:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=1, userId=1, product=ProductDto(id=1, name=Test Product 22313, description=This is a (truncated)...]
2025-07-03 15:50:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 15:50:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:50:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-5] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 15:50:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 15:50:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 15:50:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 15:50:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/1", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuserrr, email=test2123@example.com, firstName=Updated, lastName=User, pho (truncated)...]
2025-07-03 15:50:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/1", parameters={}
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:50:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product 22313, description=This is a test product for API testing, price= (truncated)...]
2025-07-03 15:50:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1/clear", parameters={}
2025-07-03 15:50:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 15:50:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:50:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:50:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:50:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/1", parameters={}
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 15:50:29 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:50:29 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(1) is still referenced from table "favorites".
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(1) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 15:50:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:50:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 15:50:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 15:50:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 15:50:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:50:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 15:50:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 15:50:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:50:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1", parameters={}
2025-07-03 15:50:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 15:50:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:50:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:50:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:50:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 15:50:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:50:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 15:50:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/1", parameters={}
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 15:50:29 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:50:29 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(1) is still referenced from table "orders".
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(1) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 15:50:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:51:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 15:51:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 15:51:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 15:51:12 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 12920 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 15:51:12 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 15:51:12 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 15:51:13 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 15:51:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 15:51:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2025-07-03 15:51:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 15:51:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 15:51:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 15:51:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 15:51:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1393 ms
2025-07-03 15:51:15 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 15:51:15 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 15:51:15 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 15:51:15 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 15:51:15 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 15:51:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 15:51:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@37b80ec7
2025-07-03 15:51:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 15:51:15 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 15:51:16 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 15:51:16 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        id bigint generated by default as identity,
        created_at timestamp(6),
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        updated_at timestamp(6),
        cart_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 15:51:16 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        id bigint generated by default as identity,
        created_at timestamp(6),
        session_id varchar(100),
        updated_at timestamp(6),
        user_id bigint,
        primary key (id)
    )
2025-07-03 15:51:16 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        id bigint generated by default as identity,
        created_at timestamp(6),
        product_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 15:51:16 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        id bigint generated by default as identity,
        quantity integer not null,
        unit_price numeric(10,2) not null,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 15:51:16 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        total_amount numeric(10,2) not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 15:51:16 [main] DEBUG org.hibernate.SQL - 
    create table products (
        id bigint generated by default as identity,
        active boolean not null,
        category varchar(100),
        created_at timestamp(6),
        description TEXT,
        name varchar(255) not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        updated_at timestamp(6),
        primary key (id)
    )
2025-07-03 15:51:16 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role varchar(255) check (role in ('USER','ADMIN'))
    )
2025-07-03 15:51:16 [main] DEBUG org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        created_at timestamp(6),
        email varchar(100) not null,
        enabled boolean not null,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        phone_number varchar(15),
        updated_at timestamp(6),
        username varchar(50) not null,
        primary key (id)
    )
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       drop constraint if exists UK6oue0maw421roerltnxn16a38
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6oue0maw421roerltnxn16a38" of relation "cart_items" does not exist, skipping
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint UK6oue0maw421roerltnxn16a38 unique (cart_id, product_id)
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       drop constraint if exists UK64t7ox312pqal3p7fg9o503c2
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk64t7ox312pqal3p7fg9o503c2" of relation "carts" does not exist, skipping
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint UK64t7ox312pqal3p7fg9o503c2 unique (user_id)
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       drop constraint if exists UKgh1s14hhb9qb8p2do933hscsf
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukgh1s14hhb9qb8p2do933hscsf" of relation "favorites" does not exist, skipping
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint UKgh1s14hhb9qb8p2do933hscsf unique (user_id, product_id)
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 15:51:17 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6dotkott2kjsp8vw4d0m25fb7" of relation "users" does not exist, skipping
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-03 15:51:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-03 15:51:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-03 15:51:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-03 15:51:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-03 15:51:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-03 15:51:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 15:51:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 15:51:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 15:51:19 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 15:51:19 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 15:51:19 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 15:51:19 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 15:51:19 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 15:51:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 15:51:19 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 7.723 seconds (process running for 8.272)
2025-07-03 15:51:20 [RMI TCP Connection(1)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 15:51:20 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 15:51:20 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 15:51:20 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 15:51:20 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 15:51:20 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@37e57a20
2025-07-03 15:51:20 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@40c31127
2025-07-03 15:51:20 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 15:51:20 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-03 15:52:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 15:52:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 15:52:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 15:52:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 15:52:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:52:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Test, lastName=User, phoneNumber= (truncated)...]
2025-07-03 15:52:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/1", parameters={}
2025-07-03 15:52:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 15:52:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:52:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:52:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Test, lastName=User, phoneNumber= (truncated)...]
2025-07-03 15:52:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 15:52:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 15:52:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 15:52:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:52:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 15:52:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/1", parameters={}
2025-07-03 15:52:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 15:52:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 15:52:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 15:52:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 15:52:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=1, sessionId=null)]
2025-07-03 15:52:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:52:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:52:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/1/items", parameters={}
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=1, quantity=2)]
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product, descrip (truncated)...]
2025-07-03 15:52:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/1/items/1", parameters={}
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product, descrip (truncated)...]
2025-07-03 15:52:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/1", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product, descrip (truncated)...]
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/1", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 15:52:07 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 15:52:07 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 1, Total: 499.95
2025-07-03 15:52:07 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=1, userId=1, items=[OrderItemDto(id=1, product=ProductDto(id=1, name=Test Product, descr (truncated)...]
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/1", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 15:52:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=1, userId=1, items=[OrderItemDto(id=1, product=ProductDto(id=1, name=Test Product, desc (truncated)...]
2025-07-03 15:52:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=1, userId=1, product=ProductDto(id=1, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 15:52:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 15:52:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 15:52:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/1", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 15:52:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=1, userId=1, product=ProductDto(id=1, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 15:52:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 15:52:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:52:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-7] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 15:52:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 15:52:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 15:52:07 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 15:52:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 15:52:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/1", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Updated, lastName=User, phoneNumb (truncated)...]
2025-07-03 15:52:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/1", parameters={}
2025-07-03 15:52:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 15:52:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 15:52:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 15:52:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 15:52:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1/clear", parameters={}
2025-07-03 15:52:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 15:52:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:52:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:52:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-03 15:52:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/1", parameters={}
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 15:52:08 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:52:08 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(1) is still referenced from table "favorites".
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(1) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 15:52:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 15:52:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 15:52:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 15:52:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1", parameters={}
2025-07-03 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 15:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 15:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 15:52:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 15:52:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/1", parameters={}
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 15:52:08 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 15:52:08 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(1) is still referenced from table "orders".
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(1) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 15:52:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 15:54:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 15:54:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 15:54:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 16:00:27 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 16768 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 16:00:27 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 16:00:27 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 16:00:28 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 16:00:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 16:00:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2025-07-03 16:00:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 16:00:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 16:00:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 16:00:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 16:00:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1321 ms
2025-07-03 16:00:30 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 16:00:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 16:00:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 16:00:30 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 16:00:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 16:00:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 16:00:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2431050d
2025-07-03 16:00:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 16:00:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 16:00:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        id bigint generated by default as identity,
        created_at timestamp(6),
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        updated_at timestamp(6),
        cart_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        id bigint generated by default as identity,
        created_at timestamp(6),
        session_id varchar(100),
        updated_at timestamp(6),
        user_id bigint,
        primary key (id)
    )
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        id bigint generated by default as identity,
        created_at timestamp(6),
        product_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        id bigint generated by default as identity,
        quantity integer not null,
        unit_price numeric(10,2) not null,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        total_amount numeric(10,2) not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    create table products (
        id bigint generated by default as identity,
        active boolean not null,
        category varchar(100),
        created_at timestamp(6),
        description TEXT,
        name varchar(255) not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        updated_at timestamp(6),
        primary key (id)
    )
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role varchar(255) check (role in ('USER','ADMIN'))
    )
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        created_at timestamp(6),
        email varchar(100) not null,
        enabled boolean not null,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        phone_number varchar(15),
        updated_at timestamp(6),
        username varchar(50) not null,
        primary key (id)
    )
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       drop constraint if exists UK6oue0maw421roerltnxn16a38
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6oue0maw421roerltnxn16a38" of relation "cart_items" does not exist, skipping
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint UK6oue0maw421roerltnxn16a38 unique (cart_id, product_id)
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       drop constraint if exists UK64t7ox312pqal3p7fg9o503c2
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk64t7ox312pqal3p7fg9o503c2" of relation "carts" does not exist, skipping
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint UK64t7ox312pqal3p7fg9o503c2 unique (user_id)
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       drop constraint if exists UKgh1s14hhb9qb8p2do933hscsf
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukgh1s14hhb9qb8p2do933hscsf" of relation "favorites" does not exist, skipping
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint UKgh1s14hhb9qb8p2do933hscsf unique (user_id, product_id)
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:00:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6dotkott2kjsp8vw4d0m25fb7" of relation "users" does not exist, skipping
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-03 16:00:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-03 16:00:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:00:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 16:00:32 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 16:00:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 16:00:32 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 16:00:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 16:00:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 16:00:33 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 16:00:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 16:00:33 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.874 seconds (process running for 6.445)
2025-07-03 16:00:33 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 16:00:33 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 16:00:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 16:00:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 16:00:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 16:00:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4d9dd8cc
2025-07-03 16:00:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@bcecdd
2025-07-03 16:00:33 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 16:00:33 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-03 16:00:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:00:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 16:00:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:00:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-03 16:00:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{phoneNumber=Phone number cannot exceed 15 characters}]
2025-07-03 16:00:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [+90 555 123 4567]; codes [Size.createUserRequest.phoneNumber,Size.phoneNumber,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber],15,0]; default message [Phone number cannot exceed 15 characters]] ]
2025-07-03 16:00:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:45 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:00:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:00:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:00:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:00:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:00:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/1", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:00:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:00:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:00:45 [http-nio-8080-exec-8] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.CartDto> org.utku.shoppingapi.controller.CartController.createCart(org.utku.shoppingapi.dto.request.CreateCartRequest): JSON parse error: Unexpected character ('}' (code 125)): expected a value
2025-07-03 16:00:45 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): expected a value]
2025-07-03 16:00:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:45 TRT 2025, status=400, error=Bad Request, path=/api/cart}]
2025-07-03 16:00:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart//items", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items.]
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:45 TRT 2025, status=404, error=Not Found, path=/api/cart//items}]
2025-07-03 16:00:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart//items/1", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/1.]
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:45 TRT 2025, status=404, error=Not Found, path=/api/cart//items/1}]
2025-07-03 16:00:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:46 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/from-cart.]
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:46 TRT 2025, status=404, error=Not Found, path=/api/orders/from-cart/}]
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/user.]
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:46 TRT 2025, status=404, error=Not Found, path=/api/orders/user/}]
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-9] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.FavoriteDto> org.utku.shoppingapi.controller.FavoriteController.addFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:00:46 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:00:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:46 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:00:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-8] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public boolean org.utku.shoppingapi.controller.FavoriteController.isFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:00:46 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:00:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:46 TRT 2025, status=400, error=Bad Request, path=/api/favorites/check}]
2025-07-03 16:00:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/favorites/user.]
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:46 TRT 2025, status=404, error=Not Found, path=/api/favorites/user/}]
2025-07-03 16:00:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:00:46 [http-nio-8080-exec-1] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-03 16:00:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:00:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 16:00:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:46 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:00:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/1", parameters={}
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:00:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:00:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:00:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//clear", parameters={}
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/clear.]
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:47 TRT 2025, status=404, error=Not Found, path=/api/cart//clear}]
2025-07-03 16:00:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/1", parameters={}
2025-07-03 16:00:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:00:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:00:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:00:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:00:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:00:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:00:47 [http-nio-8080-exec-8] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.response.ApiResponse<java.lang.String>> org.utku.shoppingapi.controller.FavoriteController.removeFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:00:47 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:00:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:47 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:00:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/", parameters={}
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:47 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:00:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/", parameters={}
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:47 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:00:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:00:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:00:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 16:00:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:00:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-03 16:00:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{phoneNumber=Phone number cannot exceed 15 characters}]
2025-07-03 16:00:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [+90 555 123 4567]; codes [Size.createUserRequest.phoneNumber,Size.phoneNumber,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber],15,0]; default message [Phone number cannot exceed 15 characters]] ]
2025-07-03 16:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/", parameters={}
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:48 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:00:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:00:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:00:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/2", parameters={}
2025-07-03 16:00:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:00:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:00:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:00:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:00:48 [http-nio-8080-exec-5] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.CartDto> org.utku.shoppingapi.controller.CartController.createCart(org.utku.shoppingapi.dto.request.CreateCartRequest): JSON parse error: Unexpected character ('}' (code 125)): expected a value
2025-07-03 16:00:48 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): expected a value]
2025-07-03 16:00:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:48 TRT 2025, status=400, error=Bad Request, path=/api/cart}]
2025-07-03 16:00:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart//items", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items.]
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:49 TRT 2025, status=404, error=Not Found, path=/api/cart//items}]
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart//items/2", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/2.]
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:49 TRT 2025, status=404, error=Not Found, path=/api/cart//items/2}]
2025-07-03 16:00:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:49 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/from-cart.]
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:49 TRT 2025, status=404, error=Not Found, path=/api/orders/from-cart/}]
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:00:49 [http-nio-8080-exec-7] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 16:00:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 16:00:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 16:00:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 16:00:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/user.]
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:49 TRT 2025, status=404, error=Not Found, path=/api/orders/user/}]
2025-07-03 16:00:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-8] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.FavoriteDto> org.utku.shoppingapi.controller.FavoriteController.addFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:00:49 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:00:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:49 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:00:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-10] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public boolean org.utku.shoppingapi.controller.FavoriteController.isFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:00:49 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:00:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:49 TRT 2025, status=400, error=Bad Request, path=/api/favorites/check}]
2025-07-03 16:00:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/favorites/user.]
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:49 TRT 2025, status=404, error=Not Found, path=/api/favorites/user/}]
2025-07-03 16:00:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-03 16:00:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:00:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:00:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:00:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 16:00:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:50 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:00:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/2", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:00:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:00:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:00:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:00:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//clear", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/clear.]
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:50 TRT 2025, status=404, error=Not Found, path=/api/cart//clear}]
2025-07-03 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/2", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:00:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:00:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:00:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:00:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:00:50 [http-nio-8080-exec-10] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.response.ApiResponse<java.lang.String>> org.utku.shoppingapi.controller.FavoriteController.removeFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:00:50 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:00:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:50 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:00:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:50 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:50 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:00:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:00:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:00:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 16:00:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:00:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-03 16:00:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{phoneNumber=Phone number cannot exceed 15 characters}]
2025-07-03 16:00:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'phoneNumber': rejected value [+90 555 123 4567]; codes [Size.createUserRequest.phoneNumber,Size.phoneNumber,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber],15,0]; default message [Phone number cannot exceed 15 characters]] ]
2025-07-03 16:00:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/", parameters={}
2025-07-03 16:00:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:00:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:52 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:00:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/3", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-2] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.CartDto> org.utku.shoppingapi.controller.CartController.createCart(org.utku.shoppingapi.dto.request.CreateCartRequest): JSON parse error: Unexpected character ('}' (code 125)): expected a value
2025-07-03 16:00:52 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): expected a value]
2025-07-03 16:00:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:52 TRT 2025, status=400, error=Bad Request, path=/api/cart}]
2025-07-03 16:00:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart//items", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items.]
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:52 TRT 2025, status=404, error=Not Found, path=/api/cart//items}]
2025-07-03 16:00:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart//items/3", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/3.]
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:52 TRT 2025, status=404, error=Not Found, path=/api/cart//items/3}]
2025-07-03 16:00:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:52 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:00:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/from-cart.]
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:52 TRT 2025, status=404, error=Not Found, path=/api/orders/from-cart/}]
2025-07-03 16:00:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:00:52 [http-nio-8080-exec-6] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 16:00:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 16:00:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 16:00:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 16:00:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/user.]
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:52 TRT 2025, status=404, error=Not Found, path=/api/orders/user/}]
2025-07-03 16:00:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.FavoriteDto> org.utku.shoppingapi.controller.FavoriteController.addFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:00:52 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:52 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:00:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-1] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public boolean org.utku.shoppingapi.controller.FavoriteController.isFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:00:52 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:00:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:00:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:52 TRT 2025, status=400, error=Bad Request, path=/api/favorites/check}]
2025-07-03 16:00:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/favorites/user.]
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:53 TRT 2025, status=404, error=Not Found, path=/api/favorites/user/}]
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:00:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:00:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:00:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:00:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:00:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 16:00:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:53 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:00:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/3", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//clear", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/clear.]
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:53 TRT 2025, status=404, error=Not Found, path=/api/cart//clear}]
2025-07-03 16:00:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/3", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:00:53 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:53 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:00:53 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:00:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:00:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:00:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:00:53 [http-nio-8080-exec-1] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.response.ApiResponse<java.lang.String>> org.utku.shoppingapi.controller.FavoriteController.removeFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:00:53 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:00:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:00:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:53 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:00:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:53 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:00:53 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:00:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:03:38 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:03:38 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 16:03:38 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 16:04:25 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 14864 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 16:04:25 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 16:04:25 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 16:04:26 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 16:04:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 16:04:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2025-07-03 16:04:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 16:04:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 16:04:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 16:04:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 16:04:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1431 ms
2025-07-03 16:04:28 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 16:04:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 16:04:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 16:04:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 16:04:28 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 16:04:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 16:04:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2e9dcdd3
2025-07-03 16:04:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 16:04:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 16:04:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        id bigint generated by default as identity,
        created_at timestamp(6),
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        updated_at timestamp(6),
        cart_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        id bigint generated by default as identity,
        created_at timestamp(6),
        session_id varchar(100),
        updated_at timestamp(6),
        user_id bigint,
        primary key (id)
    )
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        id bigint generated by default as identity,
        created_at timestamp(6),
        product_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        id bigint generated by default as identity,
        quantity integer not null,
        unit_price numeric(10,2) not null,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        total_amount numeric(10,2) not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    create table products (
        id bigint generated by default as identity,
        active boolean not null,
        category varchar(100),
        created_at timestamp(6),
        description TEXT,
        name varchar(255) not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        updated_at timestamp(6),
        primary key (id)
    )
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role varchar(255) check (role in ('USER','ADMIN'))
    )
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        created_at timestamp(6),
        email varchar(100) not null,
        enabled boolean not null,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        phone_number varchar(15),
        updated_at timestamp(6),
        username varchar(50) not null,
        primary key (id)
    )
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       drop constraint if exists UK6oue0maw421roerltnxn16a38
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6oue0maw421roerltnxn16a38" of relation "cart_items" does not exist, skipping
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint UK6oue0maw421roerltnxn16a38 unique (cart_id, product_id)
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       drop constraint if exists UK64t7ox312pqal3p7fg9o503c2
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk64t7ox312pqal3p7fg9o503c2" of relation "carts" does not exist, skipping
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint UK64t7ox312pqal3p7fg9o503c2 unique (user_id)
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       drop constraint if exists UKgh1s14hhb9qb8p2do933hscsf
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukgh1s14hhb9qb8p2do933hscsf" of relation "favorites" does not exist, skipping
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint UKgh1s14hhb9qb8p2do933hscsf unique (user_id, product_id)
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:04:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6dotkott2kjsp8vw4d0m25fb7" of relation "users" does not exist, skipping
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-03 16:04:29 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-03 16:04:29 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:04:30 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 16:04:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 16:04:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 16:04:30 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 16:04:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 16:04:30 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 16:04:31 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 16:04:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 16:04:31 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.933 seconds (process running for 6.589)
2025-07-03 16:04:31 [RMI TCP Connection(1)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 16:04:31 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 16:04:31 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 16:04:31 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 16:04:31 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 16:04:31 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@62a153d3
2025-07-03 16:04:31 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@201ac0ef
2025-07-03 16:04:31 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 16:04:31 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-03 16:04:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:04:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:04:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 16:04:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:04:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:04:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Test, lastName=User, phoneNumber= (truncated)...]
2025-07-03 16:04:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/1", parameters={}
2025-07-03 16:04:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 16:04:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:04:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:04:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Test, lastName=User, phoneNumber= (truncated)...]
2025-07-03 16:04:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:04:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:04:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:04:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:04:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:04:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/1", parameters={}
2025-07-03 16:04:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:04:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:04:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:04:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:04:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=1, sessionId=null)]
2025-07-03 16:04:47 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:04:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:04:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/1/items", parameters={}
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=1, quantity=2)]
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product, descrip (truncated)...]
2025-07-03 16:04:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/1/items/1", parameters={}
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product, descrip (truncated)...]
2025-07-03 16:04:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/1", parameters={}
2025-07-03 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 16:04:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:04:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product, descrip (truncated)...]
2025-07-03 16:04:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/1", parameters={}
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 16:04:48 [http-nio-8080-exec-5] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:04:48 [http-nio-8080-exec-5] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 1, Total: 499.95
2025-07-03 16:04:48 [http-nio-8080-exec-5] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=1, userId=1, items=[OrderItemDto(id=1, product=ProductDto(id=1, name=Test Product, descr (truncated)...]
2025-07-03 16:04:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 16:04:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:04:48 [http-nio-8080-exec-1] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 16:04:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 16:04:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:04:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 16:04:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 16:04:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/1", parameters={}
2025-07-03 16:04:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 16:04:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 16:04:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:04:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=1, userId=1, items=[OrderItemDto(id=1, product=ProductDto(id=1, name=Test Product, desc (truncated)...]
2025-07-03 16:04:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=1, userId=1, product=ProductDto(id=1, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 16:04:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:04:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:04:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 16:04:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:04:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 16:04:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/1", parameters={}
2025-07-03 16:04:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 16:04:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:04:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=1, userId=1, product=ProductDto(id=1, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 16:04:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:04:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:04:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:04:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:04:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:04:49 [http-nio-8080-exec-7] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 16:04:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:04:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:04:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:04:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:04:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:04:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:04:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:04:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:04:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:04:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 16:04:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/1", parameters={}
2025-07-03 16:04:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 16:04:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 16:04:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:04:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:04:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 16:04:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Updated, lastName=User, phoneNumb (truncated)...]
2025-07-03 16:04:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/1", parameters={}
2025-07-03 16:04:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:04:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:04:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:04:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:04:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1/clear", parameters={}
2025-07-03 16:04:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 16:04:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:04:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:04:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:04:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/1", parameters={}
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:04:49 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:04:49 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(1) is still referenced from table "favorites".
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(1) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 16:04:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:04:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:04:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 16:04:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:04:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 16:04:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 16:04:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1", parameters={}
2025-07-03 16:04:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 16:04:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:04:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:04:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:04:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 16:04:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:04:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/1", parameters={}
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 16:04:50 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:04:50 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(1) is still referenced from table "orders".
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(1) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 16:04:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:04:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:04:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 16:04:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:04:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-03 16:04:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=This username is already taken}]
2025-07-03 16:04:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'username': rejected value [testuser]; codes [UniqueUsername.createUserRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] ]
2025-07-03 16:04:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/", parameters={}
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:51 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:04:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:04:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:04:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:04:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:04:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:04:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/2", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-2] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.CartDto> org.utku.shoppingapi.controller.CartController.createCart(org.utku.shoppingapi.dto.request.CreateCartRequest): JSON parse error: Unexpected character ('}' (code 125)): expected a value
2025-07-03 16:04:52 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): expected a value]
2025-07-03 16:04:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:52 TRT 2025, status=400, error=Bad Request, path=/api/cart}]
2025-07-03 16:04:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart//items", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items.]
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:52 TRT 2025, status=404, error=Not Found, path=/api/cart//items}]
2025-07-03 16:04:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart//items/2", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/2.]
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:52 TRT 2025, status=404, error=Not Found, path=/api/cart//items/2}]
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:52 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:04:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/from-cart.]
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:52 TRT 2025, status=404, error=Not Found, path=/api/orders/from-cart/}]
2025-07-03 16:04:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:04:52 [http-nio-8080-exec-5] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 16:04:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 16:04:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 16:04:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 16:04:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/user.]
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:52 TRT 2025, status=404, error=Not Found, path=/api/orders/user/}]
2025-07-03 16:04:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.FavoriteDto> org.utku.shoppingapi.controller.FavoriteController.addFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:04:52 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:52 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:04:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:04:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-3] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public boolean org.utku.shoppingapi.controller.FavoriteController.isFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:04:52 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:04:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:52 TRT 2025, status=400, error=Bad Request, path=/api/favorites/check}]
2025-07-03 16:04:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/favorites/user.]
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:52 TRT 2025, status=404, error=Not Found, path=/api/favorites/user/}]
2025-07-03 16:04:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:04:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:04:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:04:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:04:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:04:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 16:04:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:53 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:04:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/2", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:04:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:04:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:04:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:04:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//clear", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/clear.]
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:53 TRT 2025, status=404, error=Not Found, path=/api/cart//clear}]
2025-07-03 16:04:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/2", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:04:53 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:53 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:53 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:04:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:04:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:04:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:04:53 [http-nio-8080-exec-3] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.response.ApiResponse<java.lang.String>> org.utku.shoppingapi.controller.FavoriteController.removeFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:04:53 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:04:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:53 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:04:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:53 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:04:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:53 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:04:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=This username is already taken}]
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'username': rejected value [testuser]; codes [UniqueUsername.createUserRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] ]
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:55 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:04:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:04:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:04:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:04:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:04:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/3", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:04:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:04:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:04:55 [http-nio-8080-exec-9] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.CartDto> org.utku.shoppingapi.controller.CartController.createCart(org.utku.shoppingapi.dto.request.CreateCartRequest): JSON parse error: Unexpected character ('}' (code 125)): expected a value
2025-07-03 16:04:55 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): expected a value]
2025-07-03 16:04:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:55 TRT 2025, status=400, error=Bad Request, path=/api/cart}]
2025-07-03 16:04:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart//items", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items.]
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:55 TRT 2025, status=404, error=Not Found, path=/api/cart//items}]
2025-07-03 16:04:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart//items/3", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/3.]
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:55 TRT 2025, status=404, error=Not Found, path=/api/cart//items/3}]
2025-07-03 16:04:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:55 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:04:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/", parameters={}
2025-07-03 16:04:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/from-cart.]
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:56 TRT 2025, status=404, error=Not Found, path=/api/orders/from-cart/}]
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/user.]
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:56 TRT 2025, status=404, error=Not Found, path=/api/orders/user/}]
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:04:56 [http-nio-8080-exec-3] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.FavoriteDto> org.utku.shoppingapi.controller.FavoriteController.addFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:04:56 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:04:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:56 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:04:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:04:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:04:56 [http-nio-8080-exec-7] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public boolean org.utku.shoppingapi.controller.FavoriteController.isFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:04:56 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:04:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:56 TRT 2025, status=400, error=Bad Request, path=/api/favorites/check}]
2025-07-03 16:04:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/favorites/user.]
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:56 TRT 2025, status=404, error=Not Found, path=/api/favorites/user/}]
2025-07-03 16:04:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:04:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:04:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:04:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:04:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:04:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:04:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 16:04:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:56 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:04:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/3", parameters={}
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:04:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//clear", parameters={}
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/clear.]
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:57 TRT 2025, status=404, error=Not Found, path=/api/cart//clear}]
2025-07-03 16:04:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/3", parameters={}
2025-07-03 16:04:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:04:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:04:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:04:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:04:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:04:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:04:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:04:57 [http-nio-8080-exec-7] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.response.ApiResponse<java.lang.String>> org.utku.shoppingapi.controller.FavoriteController.removeFavorite(org.utku.shoppingapi.dto.request.FavoriteRequest): JSON parse error: Unexpected character (',' (code 44)): expected a value
2025-07-03 16:04:57 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value]
2025-07-03 16:04:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:04:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:04:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:57 TRT 2025, status=400, error=Bad Request, path=/api/favorites}]
2025-07-03 16:04:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/", parameters={}
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:57 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 16:04:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/", parameters={}
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/users.]
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 16:04:57 TRT 2025, status=404, error=Not Found, path=/api/users/}]
2025-07-03 16:04:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 16:08:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:08:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 16:08:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 16:10:43 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 24472 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 16:10:43 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 16:10:43 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 16:10:44 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 16:10:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 16:10:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2025-07-03 16:10:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 16:10:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 16:10:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 16:10:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 16:10:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1309 ms
2025-07-03 16:10:46 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 16:10:46 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 16:10:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 16:10:46 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 16:10:46 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 16:10:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 16:10:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4e26040f
2025-07-03 16:10:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 16:10:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 16:10:47 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        id bigint generated by default as identity,
        created_at timestamp(6),
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        updated_at timestamp(6),
        cart_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        id bigint generated by default as identity,
        created_at timestamp(6),
        session_id varchar(100),
        updated_at timestamp(6),
        user_id bigint,
        primary key (id)
    )
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        id bigint generated by default as identity,
        created_at timestamp(6),
        product_id bigint not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        id bigint generated by default as identity,
        quantity integer not null,
        unit_price numeric(10,2) not null,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        total_amount numeric(10,2) not null,
        user_id bigint not null,
        primary key (id)
    )
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    create table products (
        id bigint generated by default as identity,
        active boolean not null,
        category varchar(100),
        created_at timestamp(6),
        description TEXT,
        name varchar(255) not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        updated_at timestamp(6),
        primary key (id)
    )
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role varchar(255) check (role in ('USER','ADMIN'))
    )
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    create table users (
        id bigint generated by default as identity,
        created_at timestamp(6),
        email varchar(100) not null,
        enabled boolean not null,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        phone_number varchar(15),
        updated_at timestamp(6),
        username varchar(50) not null,
        primary key (id)
    )
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       drop constraint if exists UK6oue0maw421roerltnxn16a38
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6oue0maw421roerltnxn16a38" of relation "cart_items" does not exist, skipping
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint UK6oue0maw421roerltnxn16a38 unique (cart_id, product_id)
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       drop constraint if exists UK64t7ox312pqal3p7fg9o503c2
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk64t7ox312pqal3p7fg9o503c2" of relation "carts" does not exist, skipping
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint UK64t7ox312pqal3p7fg9o503c2 unique (user_id)
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       drop constraint if exists UKgh1s14hhb9qb8p2do933hscsf
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukgh1s14hhb9qb8p2do933hscsf" of relation "favorites" does not exist, skipping
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint UKgh1s14hhb9qb8p2do933hscsf unique (user_id, product_id)
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       drop constraint if exists UK6dotkott2kjsp8vw4d0m25fb7
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-07-03 16:10:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6dotkott2kjsp8vw4d0m25fb7" of relation "users" does not exist, skipping
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-03 16:10:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-03 16:10:47 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:10:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 16:10:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 16:10:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 16:10:48 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 16:10:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 16:10:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 16:10:48 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 16:10:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 16:10:49 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.732 seconds (process running for 6.315)
2025-07-03 16:10:49 [RMI TCP Connection(1)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 16:10:49 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 16:10:49 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 16:10:49 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 16:10:49 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 16:10:49 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b21f625
2025-07-03 16:10:49 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4431233f
2025-07-03 16:10:49 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 16:10:49 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-03 16:11:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:11:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:11:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751548282, email=test1751548282@example.com, password=password12 (truncated)...]
2025-07-03 16:11:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:11:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:11:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=1, username=testuser1751548282, email=test1751548282@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:11:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/1", parameters={}
2025-07-03 16:11:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 16:11:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuser1751548282, email=test1751548282@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:11:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:11:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:11:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:11:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:11:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:11:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/1", parameters={}
2025-07-03 16:11:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:11:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:11:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:11:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:11:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=1, sessionId=null)]
2025-07-03 16:11:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:11:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:11:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/1/items", parameters={}
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=1, quantity=2)]
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product, descrip (truncated)...]
2025-07-03 16:11:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/1/items/1", parameters={}
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product, descrip (truncated)...]
2025-07-03 16:11:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/1", parameters={}
2025-07-03 16:11:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 16:11:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[CartItemDto(id=1, product=ProductDto(id=1, name=Test Product, descrip (truncated)...]
2025-07-03 16:11:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/1", parameters={}
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 16:11:22 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:11:22 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 1, Total: 499.95
2025-07-03 16:11:22 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=1, userId=1, items=[OrderItemDto(id=1, product=ProductDto(id=1, name=Test Product, descr (truncated)...]
2025-07-03 16:11:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 16:11:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:11:22 [http-nio-8080-exec-2] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 16:11:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 16:11:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:11:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 16:11:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 16:11:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:11:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/1", parameters={}
2025-07-03 16:11:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 16:11:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 16:11:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:11:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=1, userId=1, items=[OrderItemDto(id=1, product=ProductDto(id=1, name=Test Product, desc (truncated)...]
2025-07-03 16:11:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=1, userId=1, product=ProductDto(id=1, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 16:11:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/1", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 16:11:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=1, userId=1, product=ProductDto(id=1, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 16:11:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:11:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:11:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-7] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 16:11:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:11:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:11:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:11:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:11:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:11:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:11:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 16:11:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/1", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 16:11:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 16:11:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 16:11:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=1, username=testuser1751548282, email=test1751548282@example.com, firstName=Updated, last (truncated)...]
2025-07-03 16:11:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/1", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:11:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:11:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:11:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:11:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1/clear", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 16:11:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=1, userId=1, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:11:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/1", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:11:23 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:11:23 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(1) is still referenced from table "favorites".
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(1) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 16:11:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=1, productId=1)]
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 16:11:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/1", parameters={}
2025-07-03 16:11:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 16:11:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 16:11:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:11:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/1", parameters={}
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 16:11:24 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:11:24 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(1) is still referenced from table "orders".
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(1) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 16:11:24 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:11:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:11:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:11:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751548285, email=test1751548285@example.com, password=password12 (truncated)...]
2025-07-03 16:11:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:11:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:11:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=2, username=testuser1751548285, email=test1751548285@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:11:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/2", parameters={}
2025-07-03 16:11:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 16:11:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser1751548285, email=test1751548285@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:11:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:11:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:11:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:11:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:11:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:11:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/2", parameters={}
2025-07-03 16:11:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:11:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:11:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:11:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:11:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=2, sessionId=null)]
2025-07-03 16:11:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:11:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:11:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/2/items", parameters={}
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=2, quantity=2)]
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[CartItemDto(id=2, product=ProductDto(id=2, name=Test Product, descrip (truncated)...]
2025-07-03 16:11:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/2/items/2", parameters={}
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[CartItemDto(id=2, product=ProductDto(id=2, name=Test Product, descrip (truncated)...]
2025-07-03 16:11:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/2", parameters={}
2025-07-03 16:11:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 16:11:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[CartItemDto(id=2, product=ProductDto(id=2, name=Test Product, descrip (truncated)...]
2025-07-03 16:11:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/2", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 16:11:26 [http-nio-8080-exec-7] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 2
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:11:26 [http-nio-8080-exec-7] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 2, Total: 499.95
2025-07-03 16:11:26 [http-nio-8080-exec-7] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=2, userId=2, items=[OrderItemDto(id=2, product=ProductDto(id=2, name=Test Product, descr (truncated)...]
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:11:26 [http-nio-8080-exec-3] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 16:11:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 16:11:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 16:11:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 16:11:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:11:26 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/2", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 16:11:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=2, userId=2, items=[OrderItemDto(id=2, product=ProductDto(id=2, name=Test Product, desc (truncated)...]
2025-07-03 16:11:26 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=2, productId=2)]
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=2, userId=2, product=ProductDto(id=2, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 16:11:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:11:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=2, productId=2)]
2025-07-03 16:11:26 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 16:11:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/2", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 16:11:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=2, userId=2, product=ProductDto(id=2, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 16:11:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:11:26 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:11:26 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:11:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:11:26 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:11:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:11:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=2, userId=2, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 16:11:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/2", parameters={}
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=2, username=testuser1751548285, email=test1751548285@example.com, firstName=Updated, last (truncated)...]
2025-07-03 16:11:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/2", parameters={}
2025-07-03 16:11:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:11:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:11:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:11:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=2, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:11:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/2/clear", parameters={}
2025-07-03 16:11:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 16:11:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=2, userId=2, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:11:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/2", parameters={}
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:11:27 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:11:27 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(2) is still referenced from table "favorites".
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(2) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 16:11:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:11:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:11:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:11:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=2, productId=2)]
2025-07-03 16:11:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:11:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 16:11:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 16:11:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/2", parameters={}
2025-07-03 16:11:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 16:11:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 16:11:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:11:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/2", parameters={}
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 16:11:27 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:11:27 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(2) is still referenced from table "orders".
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(2) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 16:11:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:11:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:11:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:11:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751548289, email=test1751548289@example.com, password=password12 (truncated)...]
2025-07-03 16:11:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:11:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:11:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=3, username=testuser1751548289, email=test1751548289@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:11:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/3", parameters={}
2025-07-03 16:11:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 16:11:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=3, username=testuser1751548289, email=test1751548289@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:11:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:11:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:11:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:11:28 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:11:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:11:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/3", parameters={}
2025-07-03 16:11:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:11:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:11:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=3, sessionId=null)]
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/3/items", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=3, quantity=2)]
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[CartItemDto(id=3, product=ProductDto(id=3, name=Test Product, descrip (truncated)...]
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/3/items/3", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[CartItemDto(id=3, product=ProductDto(id=3, name=Test Product, descrip (truncated)...]
2025-07-03 16:11:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/3", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 16:11:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[CartItemDto(id=3, product=ProductDto(id=3, name=Test Product, descrip (truncated)...]
2025-07-03 16:11:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/3", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 16:11:29 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 3
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:11:29 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 3, Total: 499.95
2025-07-03 16:11:29 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=3, userId=3, items=[OrderItemDto(id=3, product=ProductDto(id=3, name=Test Product, descr (truncated)...]
2025-07-03 16:11:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/%7B%7BorderId%7D%7D", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:11:29 [http-nio-8080-exec-8] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.OrderDto> org.utku.shoppingapi.controller.OrderController.getOrderById(java.lang.Long): Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"
2025-07-03 16:11:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 16:11:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["For input string: "{{orderId}}""]
2025-07-03 16:11:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "{{orderId}}"]
2025-07-03 16:11:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:11:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/3", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 16:11:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=3, userId=3, items=[OrderItemDto(id=3, product=ProductDto(id=3, name=Test Product, desc (truncated)...]
2025-07-03 16:11:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=3, productId=3)]
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=3, userId=3, product=ProductDto(id=3, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 16:11:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:11:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=3, productId=3)]
2025-07-03 16:11:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 16:11:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/3", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=3, userId=3, product=ProductDto(id=3, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 16:11:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:11:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:11:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:11:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:11:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:11:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:11:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:11:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:11:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=3, userId=3, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 16:11:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/3", parameters={}
2025-07-03 16:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 16:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 16:11:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 16:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=3, username=testuser1751548289, email=test1751548289@example.com, firstName=Updated, last (truncated)...]
2025-07-03 16:11:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/3", parameters={}
2025-07-03 16:11:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:11:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:11:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:11:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=3, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:11:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/3/clear", parameters={}
2025-07-03 16:11:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 16:11:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=3, userId=3, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:11:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/3", parameters={}
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:11:30 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:11:30 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(3) is still referenced from table "favorites".
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(3) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 16:11:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:11:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:11:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:11:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=3, productId=3)]
2025-07-03 16:11:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 16:11:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 16:11:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:11:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/3", parameters={}
2025-07-03 16:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 16:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 16:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:11:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/3", parameters={}
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 16:11:30 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:11:30 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(3) is still referenced from table "orders".
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(3) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 16:11:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:14:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:14:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 16:14:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 16:21:36 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 12388 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 16:21:36 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 16:21:36 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 16:21:37 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 16:21:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 16:21:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2025-07-03 16:21:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 16:21:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 16:21:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 16:21:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 16:21:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1388 ms
2025-07-03 16:21:39 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 16:21:39 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 16:21:39 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 16:21:39 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 16:21:39 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 16:21:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 16:21:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6493f780
2025-07-03 16:21:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 16:21:39 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 16:21:40 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 16:21:40 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-03 16:21:40 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:21:40 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 16:21:41 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 16:21:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 16:21:41 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 16:21:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 16:21:41 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 16:21:41 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 16:21:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 16:21:42 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.86 seconds (process running for 6.449)
2025-07-03 16:21:42 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 16:21:42 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 16:21:42 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 16:21:42 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 16:21:42 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 16:21:42 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@787239f5
2025-07-03 16:21:42 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@30e787e2
2025-07-03 16:21:42 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 16:21:42 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-03 16:22:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:22:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:22:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751548922, email=test1751548922@example.com, password=password12 (truncated)...]
2025-07-03 16:22:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:22:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:22:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=4, username=testuser1751548922, email=test1751548922@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:22:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/4", parameters={}
2025-07-03 16:22:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 16:22:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:22:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:22:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=4, username=testuser1751548922, email=test1751548922@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:22:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:22:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:22:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:22:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:22:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=4, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:22:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/4", parameters={}
2025-07-03 16:22:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:22:02 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=4, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:22:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:22:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:22:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=4, sessionId=null)]
2025-07-03 16:22:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:22:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=4, userId=4, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:22:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/4/items", parameters={}
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=4, quantity=2)]
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=4, userId=4, items=[CartItemDto(id=4, product=ProductDto(id=4, name=Test Product, descrip (truncated)...]
2025-07-03 16:22:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/4/items/4", parameters={}
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=4, userId=4, items=[CartItemDto(id=4, product=ProductDto(id=4, name=Test Product, descrip (truncated)...]
2025-07-03 16:22:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/4", parameters={}
2025-07-03 16:22:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 16:22:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=4, userId=4, items=[CartItemDto(id=4, product=ProductDto(id=4, name=Test Product, descrip (truncated)...]
2025-07-03 16:22:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/4", parameters={}
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 16:22:03 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 4
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:22:03 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 4, Total: 499.95
2025-07-03 16:22:03 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=4, userId=4, items=[OrderItemDto(id=4, product=ProductDto(id=4, name=Test Product, descr (truncated)...]
2025-07-03 16:22:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/4", parameters={}
2025-07-03 16:22:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:22:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=4, userId=4, items=[OrderItemDto(id=4, product=ProductDto(id=4, name=Test Product, descr (truncated)...]
2025-07-03 16:22:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/4", parameters={}
2025-07-03 16:22:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 16:22:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=4, userId=4, items=[OrderItemDto(id=4, product=ProductDto(id=4, name=Test Product, desc (truncated)...]
2025-07-03 16:22:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=4, productId=4)]
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=4, userId=4, product=ProductDto(id=4, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 16:22:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:22:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:22:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=4, productId=4)]
2025-07-03 16:22:03 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:22:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 16:22:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/4", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=4, userId=4, product=ProductDto(id=4, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-5] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:22:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:22:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:22:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:22:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:22:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:22:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=4, userId=4, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 16:22:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/4", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 16:22:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 16:22:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:22:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 16:22:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=4, username=testuser1751548922, email=test1751548922@example.com, firstName=Updated, last (truncated)...]
2025-07-03 16:22:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/4", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:22:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:22:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:22:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=4, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:22:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/4/clear", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 16:22:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:22:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=4, userId=4, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:22:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/4", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:22:04 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:22:04 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(4) is still referenced from table "favorites".
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(4) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 16:22:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:22:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:22:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=4, productId=4)]
2025-07-03 16:22:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 16:22:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 16:22:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/4", parameters={}
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:22:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/4", parameters={}
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 16:22:05 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:22:05 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(4) is still referenced from table "orders".
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(4) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 16:22:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:25:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751549105, email=test1751549105@example.com, password=password12 (truncated)...]
2025-07-03 16:25:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:25:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=5, username=testuser1751549105, email=test1751549105@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:25:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/5", parameters={}
2025-07-03 16:25:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 16:25:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:25:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:25:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=5, username=testuser1751549105, email=test1751549105@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:25:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:25:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:25:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:25:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:25:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=5, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:25:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/5", parameters={}
2025-07-03 16:25:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:25:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=5, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:25:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:25:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=5, sessionId=null)]
2025-07-03 16:25:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:25:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=5, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:25:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/5/items", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=5, quantity=2)]
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=5, items=[CartItemDto(id=5, product=ProductDto(id=5, name=Test Product, descrip (truncated)...]
2025-07-03 16:25:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/5/items/5", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=5, items=[CartItemDto(id=5, product=ProductDto(id=5, name=Test Product, descrip (truncated)...]
2025-07-03 16:25:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/5", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 16:25:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=5, items=[CartItemDto(id=5, product=ProductDto(id=5, name=Test Product, descrip (truncated)...]
2025-07-03 16:25:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/5", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 16:25:05 [http-nio-8080-exec-5] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 5
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:25:05 [http-nio-8080-exec-5] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 5, Total: 499.95
2025-07-03 16:25:05 [http-nio-8080-exec-5] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=5, userId=5, items=[OrderItemDto(id=5, product=ProductDto(id=5, name=Test Product, descr (truncated)...]
2025-07-03 16:25:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/5", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=5, userId=5, items=[OrderItemDto(id=5, product=ProductDto(id=5, name=Test Product, descr (truncated)...]
2025-07-03 16:25:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/5", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 16:25:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=5, userId=5, items=[OrderItemDto(id=5, product=ProductDto(id=5, name=Test Product, desc (truncated)...]
2025-07-03 16:25:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=5, productId=5)]
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=5, userId=5, product=ProductDto(id=5, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 16:25:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:25:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=5, productId=5)]
2025-07-03 16:25:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 16:25:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/5", parameters={}
2025-07-03 16:25:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 16:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:25:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=5, userId=5, product=ProductDto(id=5, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 16:25:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:25:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:25:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:25:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:25:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:25:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=5, userId=5, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 16:25:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/5", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 16:25:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 16:25:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:25:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 16:25:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=5, username=testuser1751549105, email=test1751549105@example.com, firstName=Updated, last (truncated)...]
2025-07-03 16:25:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/5", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:25:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:25:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:25:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=5, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:25:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/5/clear", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 16:25:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:25:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=5, userId=5, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:25:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/5", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:25:06 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:25:06 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(5) is still referenced from table "favorites".
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(5) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 16:25:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:25:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:25:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=5, productId=5)]
2025-07-03 16:25:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 16:25:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 16:25:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:25:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/5", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 16:25:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:25:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:25:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 16:25:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:25:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/5", parameters={}
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 16:25:06 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:25:06 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(5) is still referenced from table "orders".
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(5) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 16:25:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:41:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:41:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:41:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751550102, email=test1751550102@example.com, password=password12 (truncated)...]
2025-07-03 16:41:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:41:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:41:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=6, username=testuser1751550102, email=test1751550102@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:41:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/6", parameters={}
2025-07-03 16:41:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 16:41:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:41:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=6, username=testuser1751550102, email=test1751550102@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:41:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:41:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:41:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:41:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:41:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=6, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:41:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/6", parameters={}
2025-07-03 16:41:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:41:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=6, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:41:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:41:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:41:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=6, sessionId=null)]
2025-07-03 16:41:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:41:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=6, userId=6, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:41:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/6/items", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=6, quantity=2)]
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=6, userId=6, items=[CartItemDto(id=6, product=ProductDto(id=6, name=Test Product, descrip (truncated)...]
2025-07-03 16:41:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/6/items/6", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=6, userId=6, items=[CartItemDto(id=6, product=ProductDto(id=6, name=Test Product, descrip (truncated)...]
2025-07-03 16:41:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/6", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 16:41:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=6, userId=6, items=[CartItemDto(id=6, product=ProductDto(id=6, name=Test Product, descrip (truncated)...]
2025-07-03 16:41:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/6", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 16:41:42 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 6
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:41:42 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 6, Total: 499.95
2025-07-03 16:41:42 [http-nio-8080-exec-4] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=6, userId=6, items=[OrderItemDto(id=6, product=ProductDto(id=6, name=Test Product, descr (truncated)...]
2025-07-03 16:41:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/6", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:41:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=6, userId=6, items=[OrderItemDto(id=6, product=ProductDto(id=6, name=Test Product, descr (truncated)...]
2025-07-03 16:41:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/6", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 16:41:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=6, userId=6, items=[OrderItemDto(id=6, product=ProductDto(id=6, name=Test Product, desc (truncated)...]
2025-07-03 16:41:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=6, productId=6)]
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=6, userId=6, product=ProductDto(id=6, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 16:41:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:41:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=6, productId=6)]
2025-07-03 16:41:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 16:41:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/6", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 16:41:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=6, userId=6, product=ProductDto(id=6, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 16:41:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:41:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:41:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:41:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:41:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:41:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:41:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:41:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:41:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:41:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=6, userId=6, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 16:41:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/6", parameters={}
2025-07-03 16:41:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 16:41:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 16:41:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:41:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 16:41:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=6, username=testuser1751550102, email=test1751550102@example.com, firstName=Updated, last (truncated)...]
2025-07-03 16:41:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/6", parameters={}
2025-07-03 16:41:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:41:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:41:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:41:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=6, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:41:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/6/clear", parameters={}
2025-07-03 16:41:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 16:41:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:41:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:41:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=6, userId=6, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:41:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/6", parameters={}
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:41:43 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:41:43 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(6) is still referenced from table "favorites".
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(6) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 16:41:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:41:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:41:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:41:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=6, productId=6)]
2025-07-03 16:41:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:41:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 16:41:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 16:41:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:41:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/6", parameters={}
2025-07-03 16:41:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 16:41:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:41:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:41:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:41:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 16:41:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:41:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:41:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/6", parameters={}
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 16:41:43 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:41:43 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(6) is still referenced from table "orders".
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(6) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 16:41:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/6", parameters={}
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:42:55 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:42:55 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fkocimc7dtr037rh4ls4l95nlfi" on table "order_items"
  Ayrıntı: Key (id)=(6) is still referenced from table "order_items".
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fkocimc7dtr037rh4ls4l95nlfi" on table "order_items"<EOL>  Ayrıntı: Key (id)=(6) is still referenced from table "order_items".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fkocimc7dtr037rh4ls4l95nlfi]]
2025-07-03 16:42:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:44:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:44:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:44:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751550272, email=test1751550272@example.com, password=password12 (truncated)...]
2025-07-03 16:44:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:44:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:44:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=7, username=testuser1751550272, email=test1751550272@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:44:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/7", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=7, username=testuser1751550272, email=test1751550272@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:44:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:44:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=7, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/7", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:44:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=7, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:44:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=7, sessionId=null)]
2025-07-03 16:44:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:44:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=7, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:44:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/7/items", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=7, quantity=2)]
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=7, items=[CartItemDto(id=7, product=ProductDto(id=7, name=Test Product, descrip (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/7/items/7", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=7, items=[CartItemDto(id=7, product=ProductDto(id=7, name=Test Product, descrip (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/7", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 16:44:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=7, items=[CartItemDto(id=7, product=ProductDto(id=7, name=Test Product, descrip (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/7", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 16:44:32 [http-nio-8080-exec-9] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 7
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:44:32 [http-nio-8080-exec-9] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 7, Total: 499.95
2025-07-03 16:44:32 [http-nio-8080-exec-9] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=7, userId=7, items=[OrderItemDto(id=7, product=ProductDto(id=7, name=Test Product, descr (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/7", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:44:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=7, userId=7, items=[OrderItemDto(id=7, product=ProductDto(id=7, name=Test Product, descr (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/7", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 16:44:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=7, userId=7, items=[OrderItemDto(id=7, product=ProductDto(id=7, name=Test Product, desc (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=7, productId=7)]
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=7, userId=7, product=ProductDto(id=7, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 16:44:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=7, productId=7)]
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/7", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=7, userId=7, product=ProductDto(id=7, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:44:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:44:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:44:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:44:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:44:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:44:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=7, userId=7, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 16:44:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/7", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 16:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 16:44:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:44:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 16:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=7, username=testuser1751550272, email=test1751550272@example.com, firstName=Updated, last (truncated)...]
2025-07-03 16:44:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/7", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=7, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:44:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/7/clear", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 16:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:44:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=7, userId=7, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:44:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/7", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:44:33 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:44:33 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(7) is still referenced from table "favorites".
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(7) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 16:44:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=7, productId=7)]
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 16:44:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/7", parameters={}
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:44:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/7", parameters={}
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 16:44:34 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:44:34 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(7) is still referenced from table "orders".
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(7) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 16:44:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:53:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 16:53:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 16:53:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751550788, email=test1751550788@example.com, password=password12 (truncated)...]
2025-07-03 16:53:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 16:53:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:53:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=8, username=testuser1751550788, email=test1751550788@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:53:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/8", parameters={}
2025-07-03 16:53:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 16:53:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:53:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=8, username=testuser1751550788, email=test1751550788@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 16:53:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 16:53:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 16:53:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=This is a test product for API testing, price=99 (truncated)...]
2025-07-03 16:53:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:53:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=8, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:53:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/8", parameters={}
2025-07-03 16:53:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 16:53:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=8, name=Test Product, description=This is a test product for API testing, price=99.99, (truncated)...]
2025-07-03 16:53:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 16:53:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 16:53:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=8, sessionId=null)]
2025-07-03 16:53:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:53:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=8, userId=8, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:53:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/8/items", parameters={}
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=8, quantity=2)]
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=8, userId=8, items=[CartItemDto(id=8, product=ProductDto(id=8, name=Test Product, descrip (truncated)...]
2025-07-03 16:53:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/8/items/8", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=8, userId=8, items=[CartItemDto(id=8, product=ProductDto(id=8, name=Test Product, descrip (truncated)...]
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/8", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 16:53:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=8, userId=8, items=[CartItemDto(id=8, product=ProductDto(id=8, name=Test Product, descrip (truncated)...]
2025-07-03 16:53:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/8", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 16:53:09 [http-nio-8080-exec-7] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 8
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 16:53:09 [http-nio-8080-exec-7] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 8, Total: 499.95
2025-07-03 16:53:09 [http-nio-8080-exec-7] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=8, userId=8, items=[OrderItemDto(id=8, product=ProductDto(id=8, name=Test Product, descr (truncated)...]
2025-07-03 16:53:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/8", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 16:53:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=8, userId=8, items=[OrderItemDto(id=8, product=ProductDto(id=8, name=Test Product, descr (truncated)...]
2025-07-03 16:53:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/8", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 16:53:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=8, userId=8, items=[OrderItemDto(id=8, product=ProductDto(id=8, name=Test Product, desc (truncated)...]
2025-07-03 16:53:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=8, productId=8)]
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=8, userId=8, product=ProductDto(id=8, name=Test Product, description=This is a test p (truncated)...]
2025-07-03 16:53:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 16:53:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=8, productId=8)]
2025-07-03 16:53:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 16:53:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/8", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 16:53:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=8, userId=8, product=ProductDto(id=8, name=Test Product, description=This is a test  (truncated)...]
2025-07-03 16:53:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 16:53:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 16:53:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 16:53:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 16:53:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=8, userId=8, items=[], totalPrice=0, totalItems=0)]]
2025-07-03 16:53:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/8", parameters={}
2025-07-03 16:53:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 16:53:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 16:53:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:53:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 16:53:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=8, username=testuser1751550788, email=test1751550788@example.com, firstName=Updated, last (truncated)...]
2025-07-03 16:53:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/8", parameters={}
2025-07-03 16:53:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 16:53:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 16:53:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 16:53:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=8, name=Test Product, description=This is a test product for API testing, price=149.99 (truncated)...]
2025-07-03 16:53:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/8/clear", parameters={}
2025-07-03 16:53:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 16:53:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:53:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:53:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=8, userId=8, items=[], totalPrice=0, totalItems=0)]
2025-07-03 16:53:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/8", parameters={}
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 16:53:10 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:53:10 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"
  Ayrıntı: Key (id)=(8) is still referenced from table "favorites".
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fk6sgu5npe8ug4o42bf9j71x20c" on table "favorites"<EOL>  Ayrıntı: Key (id)=(8) is still referenced from table "favorites".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fk6sgu5npe8ug4o42bf9j71x20c]]
2025-07-03 16:53:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:53:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 16:53:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 16:53:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=8, productId=8)]
2025-07-03 16:53:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 16:53:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 16:53:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 16:53:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:53:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/8", parameters={}
2025-07-03 16:53:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 16:53:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:53:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 16:53:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 16:53:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 16:53:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 16:53:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 16:53:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/8", parameters={}
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 16:53:10 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 16:53:10 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(8) is still referenced from table "orders".
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(8) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 16:53:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 16:54:45 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:54:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 16:54:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 16:55:01 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 27296 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 16:55:01 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 16:55:01 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 16:55:02 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 16:55:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 16:55:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2025-07-03 16:55:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 16:55:03 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 16:55:03 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 16:55:03 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 16:55:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1476 ms
2025-07-03 16:55:03 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 16:55:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 16:55:04 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 16:55:04 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 16:55:04 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 16:55:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 16:55:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6493f780
2025-07-03 16:55:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 16:55:04 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 16:55:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 16:55:05 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-03 16:55:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:55:05 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 16:55:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 16:55:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 16:55:06 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 16:55:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 16:55:06 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 16:55:06 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 16:55:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 16:55:06 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 6.187 seconds (process running for 6.798)
2025-07-03 16:55:07 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 16:55:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 16:55:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 16:55:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 16:55:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 16:55:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2fdbd353
2025-07-03 16:55:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6ca6a1a6
2025-07-03 16:55:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 16:55:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-03 16:55:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-07-03 16:55:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 16:55:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-03 16:55:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-07-03 16:55:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-07-03 16:55:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 16:55:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-07-03 16:55:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-07-03 16:55:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 16:55:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-07-03 16:55:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 16:55:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 16:55:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 16:55:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-03 16:55:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-03 16:55:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-03 16:55:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-03 16:55:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:55:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-07-03 16:55:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-07-03 16:55:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-03 16:55:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-03 16:55:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 304 NOT_MODIFIED
2025-07-03 16:55:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-07-03 16:55:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, displayRequestDuration=true, filter=true, oauth2RedirectUrl= (truncated)...]
2025-07-03 16:55:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:55:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-07-03 16:55:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-03 16:55:07 [http-nio-8080-exec-9] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 332 ms
2025-07-03 16:55:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-03 16:55:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-03 16:55:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 16:56:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 16:56:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 16:56:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 17:04:13 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 6616 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 17:04:13 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 17:04:13 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 17:04:14 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 17:04:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 17:04:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 55 ms. Found 5 JPA repository interfaces.
2025-07-03 17:04:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 17:04:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 17:04:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 17:04:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 17:04:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1428 ms
2025-07-03 17:04:16 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 17:04:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 17:04:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 17:04:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 17:04:16 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 17:04:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 17:04:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5065bdac
2025-07-03 17:04:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 17:04:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 17:04:17 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 17:04:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-03 17:04:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 17:04:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 17:04:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 17:04:18 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 17:04:18 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 17:04:18 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 17:04:18 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 17:04:19 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 17:04:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 17:04:19 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.82 seconds (process running for 6.369)
2025-07-03 17:04:19 [RMI TCP Connection(3)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 17:04:19 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 17:04:19 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 17:04:19 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 17:04:19 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 17:04:19 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5c51a7eb
2025-07-03 17:04:19 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@70fdecff
2025-07-03 17:04:19 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 17:04:19 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-03 17:08:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 17:08:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 17:08:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 17:08:12 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 24616 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 17:08:12 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 17:08:12 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 17:08:13 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 17:08:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 17:08:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2025-07-03 17:08:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 17:08:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 17:08:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 17:08:15 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 17:08:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1367 ms
2025-07-03 17:08:15 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 17:08:15 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 17:08:15 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 17:08:15 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 17:08:15 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 17:08:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 17:08:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5065bdac
2025-07-03 17:08:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 17:08:15 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 17:08:16 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 17:08:16 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-03 17:08:16 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 17:08:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 17:08:17 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 17:08:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 17:08:17 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 17:08:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 17:08:17 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 17:08:18 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 17:08:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 17:08:18 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 6.177 seconds (process running for 6.839)
2025-07-03 17:08:18 [RMI TCP Connection(3)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 17:08:18 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 17:08:18 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 17:08:18 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 17:08:18 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 17:08:18 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@15c0c274
2025-07-03 17:08:18 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@70fdecff
2025-07-03 17:08:18 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 17:08:18 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-4] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:08:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:08:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:08:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751551711, email=test1751551711@example.com, password=password12 (truncated)...]
2025-07-03 17:08:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:08:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:08:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=9, username=testuser1751551711, email=test1751551711@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 17:08:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/9", parameters={}
2025-07-03 17:08:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:08:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:08:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=9, username=testuser1751551711, email=test1751551711@example.com, firstName=Test, lastNam (truncated)...]
2025-07-03 17:08:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/9", parameters={}
2025-07-03 17:08:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:08:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:08:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:08:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:08:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=9, username=testuser1751551711, email=test1751551711@example.com, firstName=Updated, last (truncated)...]
2025-07-03 17:08:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/9", parameters={}
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:08:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:08:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:08:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:08:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=9, name=Test Product, description=Test product for API testing, price=99.99, stockQuan (truncated)...]
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/9", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:08:31 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:08:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=9, name=Test Product, description=Test product for API testing, price=99.99, stockQuan (truncated)...]
2025-07-03 17:08:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/9", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:08:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:08:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:08:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:08:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=9, name=Test Product, description=Test product for API testing, price=149.99, stockQua (truncated)...]
2025-07-03 17:08:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/9", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:08:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:08:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:08:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:08:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:08:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:08:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:08:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:08:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:08:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=9, sessionId=null)]
2025-07-03 17:08:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:08:31 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 17:08:31 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"
  Ayrıntı: Key (user_id)=(9) is not present in table "users".
2025-07-03 17:08:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 17:08:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 17:08:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"<EOL>  Ayrıntı: Key (user_id)=(9) is not present in table "users".] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [fkb5o626f86h46m4s7ms6ginnop]]
2025-07-03 17:08:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//clear", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/clear.]
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:31 TRT 2025, status=404, error=Not Found, path=/api/cart//clear}]
2025-07-03 17:08:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart//items", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items.]
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:31 TRT 2025, status=404, error=Not Found, path=/api/cart//items}]
2025-07-03 17:08:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart//items/9", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/9.]
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:31 TRT 2025, status=404, error=Not Found, path=/api/cart//items/9}]
2025-07-03 17:08:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//items/9", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/9.]
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:31 TRT 2025, status=404, error=Not Found, path=/api/cart//items/9}]
2025-07-03 17:08:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:32 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:32 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:08:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:32 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:08:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart//simple", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/simple.]
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:32 TRT 2025, status=404, error=Not Found, path=/api/cart//simple}]
2025-07-03 17:08:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/9", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:08:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:08:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:08:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:32 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:08:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:32 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:08:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/from-cart.]
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:08:32 TRT 2025, status=404, error=Not Found, path=/api/orders/from-cart/}]
2025-07-03 17:08:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:08:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/9", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:08:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:08:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:08:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:08:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=9, productId=9)]
2025-07-03 17:08:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:08:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 17:08:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["User not found with id: 9"]
2025-07-03 17:08:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: User not found with id: 9]
2025-07-03 17:08:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=9, productId=9)]
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:08:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:08:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:08:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=9, productId=9)]
2025-07-03 17:08:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:08:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [false]
2025-07-03 17:08:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:08:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/9", parameters={}
2025-07-03 17:08:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:08:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:08:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:08:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:08:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:10:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 17:10:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 17:10:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 17:12:11 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 26748 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 17:12:11 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 17:12:11 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 17:12:12 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 17:12:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 17:12:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2025-07-03 17:12:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 17:12:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 17:12:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 17:12:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 17:12:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1278 ms
2025-07-03 17:12:13 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 17:12:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 17:12:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 17:12:13 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 17:12:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 17:12:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 17:12:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7455204c
2025-07-03 17:12:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 17:12:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 17:12:15 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 17:12:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-03 17:12:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 17:12:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 17:12:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 17:12:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 17:12:16 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 17:12:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 17:12:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 17:12:16 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 17:12:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 17:12:16 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.749 seconds (process running for 6.269)
2025-07-03 17:12:16 [RMI TCP Connection(3)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 17:12:16 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 17:12:16 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 17:12:16 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 17:12:16 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 17:12:16 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@282919de
2025-07-03 17:12:16 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5b3c2e59
2025-07-03 17:12:16 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 17:12:16 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-2] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:12:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751551942, email=test1751551942@example.com, password=password12 (truncated)...]
2025-07-03 17:12:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:12:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=10, username=testuser1751551942, email=test1751551942@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:12:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/10", parameters={}
2025-07-03 17:12:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:12:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:12:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=10, username=testuser1751551942, email=test1751551942@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:12:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/10", parameters={}
2025-07-03 17:12:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:12:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:12:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:12:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:12:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=10, username=testuser1751551942, email=test1751551942@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:12:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/10", parameters={}
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:12:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:12:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:12:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:12:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:12:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:12:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:12:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:12:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=10, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:12:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/10", parameters={}
2025-07-03 17:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:12:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=10, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:12:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/10", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=10, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/10", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:12:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:12:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:12:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:12:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:12:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:12:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:12:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:12:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=10, sessionId=null)]
2025-07-03 17:12:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:12:23 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 17:12:23 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"
  Ayrıntı: Key (user_id)=(10) is not present in table "users".
2025-07-03 17:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 17:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 17:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"<EOL>  Ayrıntı: Key (user_id)=(10) is not present in table "users".] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [fkb5o626f86h46m4s7ms6ginnop]]
2025-07-03 17:12:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//clear", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/clear.]
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:23 TRT 2025, status=404, error=Not Found, path=/api/cart//clear}]
2025-07-03 17:12:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart//items", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items.]
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:23 TRT 2025, status=404, error=Not Found, path=/api/cart//items}]
2025-07-03 17:12:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart//items/10", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/10.]
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:23 TRT 2025, status=404, error=Not Found, path=/api/cart//items/10}]
2025-07-03 17:12:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//items/10", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/10.]
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:23 TRT 2025, status=404, error=Not Found, path=/api/cart//items/10}]
2025-07-03 17:12:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:23 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:12:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:23 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:24 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart//simple", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/simple.]
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:24 TRT 2025, status=404, error=Not Found, path=/api/cart//simple}]
2025-07-03 17:12:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/10", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:12:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:12:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:24 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:12:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:24 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:12:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/from-cart.]
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:12:24 TRT 2025, status=404, error=Not Found, path=/api/orders/from-cart/}]
2025-07-03 17:12:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:12:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/10", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:12:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:12:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:12:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=10, productId=10)]
2025-07-03 17:12:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 17:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["User not found with id: 10"]
2025-07-03 17:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: User not found with id: 10]
2025-07-03 17:12:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:12:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:12:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=10, productId=10)]
2025-07-03 17:12:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:12:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:12:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:24 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:12:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=10, productId=10)]
2025-07-03 17:12:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:12:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [false]
2025-07-03 17:12:24 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/10", parameters={}
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:12:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:19:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:19:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751552385, email=test1751552385@example.com, password=password12 (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:19:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:19:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=11, username=testuser1751552385, email=test1751552385@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/11", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:19:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:19:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=11, username=testuser1751552385, email=test1751552385@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/11", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:19:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:19:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:19:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=11, username=testuser1751552385, email=test1751552385@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/11", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:19:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:19:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:19:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:19:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:19:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:19:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:19:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=11, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/11", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:19:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:19:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=11, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/11", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:19:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:19:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:19:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=11, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:19:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/11", parameters={}
2025-07-03 17:19:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:19:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:19:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:19:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=11, sessionId=null)]
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:19:46 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 17:19:46 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"
  Ayrıntı: Key (user_id)=(11) is not present in table "users".
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"<EOL>  Ayrıntı: Key (user_id)=(11) is not present in table "users".] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [fkb5o626f86h46m4s7ms6ginnop]]
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//clear", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/clear.]
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:46 TRT 2025, status=404, error=Not Found, path=/api/cart//clear}]
2025-07-03 17:19:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart//items", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items.]
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:46 TRT 2025, status=404, error=Not Found, path=/api/cart//items}]
2025-07-03 17:19:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart//items/11", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/11.]
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:46 TRT 2025, status=404, error=Not Found, path=/api/cart//items/11}]
2025-07-03 17:19:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//items/11", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/11.]
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:46 TRT 2025, status=404, error=Not Found, path=/api/cart//items/11}]
2025-07-03 17:19:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:46 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:19:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:46 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:19:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:46 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:19:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart//simple", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/simple.]
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:46 TRT 2025, status=404, error=Not Found, path=/api/cart//simple}]
2025-07-03 17:19:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/11", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:19:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:19:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:19:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:46 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:19:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:47 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:19:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/", parameters={}
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/from-cart.]
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:19:47 TRT 2025, status=404, error=Not Found, path=/api/orders/from-cart/}]
2025-07-03 17:19:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:19:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/11", parameters={}
2025-07-03 17:19:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:19:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:19:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:19:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:19:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:19:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=11, productId=11)]
2025-07-03 17:19:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:19:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 17:19:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:19:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["User not found with id: 11"]
2025-07-03 17:19:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: User not found with id: 11]
2025-07-03 17:19:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:19:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:19:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:19:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=11, productId=11)]
2025-07-03 17:19:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:19:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:19:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:19:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:19:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=11, productId=11)]
2025-07-03 17:19:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:19:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [false]
2025-07-03 17:19:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:19:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/11", parameters={}
2025-07-03 17:19:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:19:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:19:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:19:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:19:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:24:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751552686, email=test1751552686@example.com, password=password12 (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=12, username=testuser1751552686, email=test1751552686@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/12", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:24:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:24:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=12, username=testuser1751552686, email=test1751552686@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/12", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:24:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:24:46 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:46 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:24:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=12, username=testuser1751552686, email=test1751552686@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/12", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:24:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:24:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:24:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:24:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:24:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:24:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:24:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=12, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/12", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:24:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:24:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=12, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/12", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:24:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:24:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:24:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=12, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:24:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/12", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:24:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:24:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:24:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:24:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:24:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:24:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:24:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:24:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:24:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=12, sessionId=null)]
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:24:46 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 17:24:46 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"
  Ayrıntı: Key (user_id)=(12) is not present in table "users".
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "carts" violates foreign key constraint "fkb5o626f86h46m4s7ms6ginnop"<EOL>  Ayrıntı: Key (user_id)=(12) is not present in table "users".] [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; SQL [insert into carts (created_at,session_id,updated_at,user_id) values (?,?,?,?) returning id]; constraint [fkb5o626f86h46m4s7ms6ginnop]]
2025-07-03 17:24:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//clear", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/clear.]
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/cart//clear}]
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart//items", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items.]
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/cart//items}]
2025-07-03 17:24:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart//items/12", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/12.]
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/cart//items/12}]
2025-07-03 17:24:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart//items/12", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/items/12.]
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/cart//items/12}]
2025-07-03 17:24:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:24:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:24:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart.]
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for DELETE "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/cart/}]
2025-07-03 17:24:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart//simple", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/cart/simple.]
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/cart//simple}]
2025-07-03 17:24:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/12", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:24:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:24:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:24:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:24:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:47 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:24:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/", parameters={}
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/from-cart.]
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:24:48 TRT 2025, status=404, error=Not Found, path=/api/orders/from-cart/}]
2025-07-03 17:24:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/12", parameters={}
2025-07-03 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:24:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=12, productId=12)]
2025-07-03 17:24:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["User not found with id: 12"]
2025-07-03 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: User not found with id: 12]
2025-07-03 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:24:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:24:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:24:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=12, productId=12)]
2025-07-03 17:24:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:24:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:24:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:24:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:24:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=12, productId=12)]
2025-07-03 17:24:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:24:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [false]
2025-07-03 17:24:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:24:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/12", parameters={}
2025-07-03 17:24:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:24:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:24:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:24:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:24:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:32:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:32:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:32:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751553128, email=test1751553128@example.com, password=password12 (truncated)...]
2025-07-03 17:32:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:32:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:32:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=13, username=testuser1751553128, email=test1751553128@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:32:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/13", parameters={}
2025-07-03 17:32:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:32:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:32:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=13, username=testuser1751553128, email=test1751553128@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:32:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/13", parameters={}
2025-07-03 17:32:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:32:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:32:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:32:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:32:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=13, username=testuser1751553128, email=test1751553128@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:32:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:32:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:32:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:32:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:32:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:32:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:32:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:32:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:32:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=13, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:32:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/13", parameters={}
2025-07-03 17:32:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:32:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=13, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:32:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/13", parameters={}
2025-07-03 17:32:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:32:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:32:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:32:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=13, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:32:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:32:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:32:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:32:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:32:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:32:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:32:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=13, sessionId=null)]
2025-07-03 17:32:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:32:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=13, userId=13, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:32:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/13/items", parameters={}
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=13, quantity=2)]
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=13, userId=13, items=[CartItemDto(id=9, product=ProductDto(id=13, name=Test Product, desc (truncated)...]
2025-07-03 17:32:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/13/items/13", parameters={}
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=13, userId=13, items=[CartItemDto(id=9, product=ProductDto(id=13, name=Test Product, desc (truncated)...]
2025-07-03 17:32:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/13", parameters={}
2025-07-03 17:32:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 17:32:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:32:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=13, userId=13, items=[CartItemDto(id=9, product=ProductDto(id=13, name=Test Product, desc (truncated)...]
2025-07-03 17:32:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/13", parameters={}
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=13, sessionId=null)]
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=13, userId=13, items=[CartItemDto(id=9, product=ProductDto(id=13, name=Test Product, desc (truncated)...]
2025-07-03 17:32:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/13/simple", parameters={}
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=13, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 17:32:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/13", parameters={}
2025-07-03 17:32:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:32:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:32:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=13, userId=13, items=[CartItemDto(id=9, product=ProductDto(id=13, name=Test Product, des (truncated)...]
2025-07-03 17:32:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/13/items/13", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=13, userId=13, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/13/clear", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 17:32:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:32:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=13, userId=13, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:32:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/13", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 17:32:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:32:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 17:32:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:32:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:32:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/13", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 17:32:09 [http-nio-8080-exec-6] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 13
2025-07-03 17:32:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:32:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 17:32:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart not found with id: 13"]
2025-07-03 17:32:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: Cart not found with id: 13]
2025-07-03 17:32:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:32:09 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:32:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:32:09 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:32:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:32:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/13", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:32:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:32:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:32:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=13, productId=13)]
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=9, userId=13, product=ProductDto(id=13, name=Test Product, description=Test product f (truncated)...]
2025-07-03 17:32:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:32:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=13, productId=13)]
2025-07-03 17:32:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:32:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 17:32:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/13", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:32:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:32:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=9, userId=13, product=ProductDto(id=13, name=Test Product, description=Test product  (truncated)...]
2025-07-03 17:32:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=13, productId=13)]
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:32:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 17:32:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:32:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/13", parameters={}
2025-07-03 17:32:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:32:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:32:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:32:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:32:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/13", parameters={}
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:32:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:32:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:32:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:32:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751553179, email=test1751553179@example.com, password=password12 (truncated)...]
2025-07-03 17:32:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:32:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:32:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=14, username=testuser1751553179, email=test1751553179@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:32:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/14", parameters={}
2025-07-03 17:32:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:32:59 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:32:59 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=14, username=testuser1751553179, email=test1751553179@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:32:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/14", parameters={}
2025-07-03 17:32:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:32:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:32:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:32:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:32:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:32:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=14, username=testuser1751553179, email=test1751553179@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:32:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:32:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:32:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:32:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:32:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:32:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:32:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:33:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=14, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:33:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/14", parameters={}
2025-07-03 17:33:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:33:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=14, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:33:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/14", parameters={}
2025-07-03 17:33:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:33:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:33:00 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:00 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:33:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=14, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:33:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:33:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:33:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:33:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:33:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:33:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:33:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=14, sessionId=null)]
2025-07-03 17:33:00 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:33:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=14, userId=14, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:33:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/14/items", parameters={}
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=14, quantity=2)]
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=14, userId=14, items=[CartItemDto(id=10, product=ProductDto(id=14, name=Test Product, des (truncated)...]
2025-07-03 17:33:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/14/items/14", parameters={}
2025-07-03 17:33:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 17:33:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 17:33:00 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:00 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:00 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:33:00 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:33:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=14, userId=14, items=[CartItemDto(id=10, product=ProductDto(id=14, name=Test Product, des (truncated)...]
2025-07-03 17:33:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/14", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 17:33:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:33:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=14, userId=14, items=[CartItemDto(id=10, product=ProductDto(id=14, name=Test Product, des (truncated)...]
2025-07-03 17:33:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/14", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=14, sessionId=null)]
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=14, userId=14, items=[CartItemDto(id=10, product=ProductDto(id=14, name=Test Product, des (truncated)...]
2025-07-03 17:33:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/14/simple", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=14, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 17:33:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/14", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:33:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:33:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:33:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=14, userId=14, items=[CartItemDto(id=10, product=ProductDto(id=14, name=Test Product, de (truncated)...]
2025-07-03 17:33:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/14/items/14", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 17:33:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:33:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 17:33:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=14, userId=14, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:33:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/14/clear", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 17:33:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:33:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=14, userId=14, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:33:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/14", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 17:33:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:33:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 17:33:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:33:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:33:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/14", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 17:33:01 [http-nio-8080-exec-9] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 14
2025-07-03 17:33:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:33:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 17:33:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart not found with id: 14"]
2025-07-03 17:33:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: Cart not found with id: 14]
2025-07-03 17:33:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:33:01 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:33:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:33:02 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:33:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/14", parameters={}
2025-07-03 17:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=14, productId=14)]
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=10, userId=14, product=ProductDto(id=14, name=Test Product, description=Test product  (truncated)...]
2025-07-03 17:33:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:33:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:33:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=14, productId=14)]
2025-07-03 17:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:33:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 17:33:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/14", parameters={}
2025-07-03 17:33:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:33:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:33:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=10, userId=14, product=ProductDto(id=14, name=Test Product, description=Test product (truncated)...]
2025-07-03 17:33:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:33:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:33:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=14, productId=14)]
2025-07-03 17:33:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:33:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 17:33:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:33:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:33:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/14", parameters={}
2025-07-03 17:33:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:33:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:33:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:33:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:33:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/14", parameters={}
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:33:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:38:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 17:38:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 17:38:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 17:39:31 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 27008 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 17:39:31 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 17:39:31 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 17:39:32 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 17:39:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 17:39:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2025-07-03 17:39:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 17:39:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 17:39:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 17:39:33 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 17:39:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1306 ms
2025-07-03 17:39:33 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 17:39:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 17:39:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 17:39:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 17:39:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 17:39:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 17:39:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6493f780
2025-07-03 17:39:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 17:39:34 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 17:39:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 17:39:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-03 17:39:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 17:39:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 17:39:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 17:39:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 17:39:36 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 17:39:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 17:39:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 17:39:36 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 17:39:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 17:39:36 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.685 seconds (process running for 6.245)
2025-07-03 17:39:36 [RMI TCP Connection(2)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 17:39:36 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 17:39:36 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 17:39:36 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 17:39:36 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 17:39:36 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@40503088
2025-07-03 17:39:36 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2a153531
2025-07-03 17:39:36 [RMI TCP Connection(2)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 17:39:36 [RMI TCP Connection(2)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-03 17:41:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:41:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:41:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-1] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:41:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:41:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:41:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751553669, email=test1751553669@example.com, password=password12 (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:41:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:41:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=15, username=testuser1751553669, email=test1751553669@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/15", parameters={}
2025-07-03 17:41:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:41:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=15, username=testuser1751553669, email=test1751553669@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/15", parameters={}
2025-07-03 17:41:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:41:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:41:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=15, username=testuser1751553669, email=test1751553669@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:41:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:41:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:41:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:41:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:41:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:41:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:41:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=15, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/15", parameters={}
2025-07-03 17:41:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:41:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=15, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/15", parameters={}
2025-07-03 17:41:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:41:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:41:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=15, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:41:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:41:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:41:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:41:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:41:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:41:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:41:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=15, sessionId=null)]
2025-07-03 17:41:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:41:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=15, userId=15, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:41:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/15/items", parameters={}
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=15, quantity=2)]
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=15, userId=15, items=[CartItemDto(id=11, product=ProductDto(id=15, name=Test Product, des (truncated)...]
2025-07-03 17:41:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/15/items/15", parameters={}
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=15, userId=15, items=[CartItemDto(id=11, product=ProductDto(id=15, name=Test Product, des (truncated)...]
2025-07-03 17:41:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/15", parameters={}
2025-07-03 17:41:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 17:41:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=15, userId=15, items=[CartItemDto(id=11, product=ProductDto(id=15, name=Test Product, des (truncated)...]
2025-07-03 17:41:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/15", parameters={}
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=15, sessionId=null)]
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=15, userId=15, items=[CartItemDto(id=11, product=ProductDto(id=15, name=Test Product, des (truncated)...]
2025-07-03 17:41:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/15/simple", parameters={}
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=15, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 17:41:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/15", parameters={}
2025-07-03 17:41:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:41:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=15, userId=15, items=[CartItemDto(id=11, product=ProductDto(id=15, name=Test Product, de (truncated)...]
2025-07-03 17:41:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/15/items/15", parameters={}
2025-07-03 17:41:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 17:41:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 17:41:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=15, userId=15, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:41:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/15", parameters={}
2025-07-03 17:41:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 17:41:10 [http-nio-8080-exec-9] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 15
2025-07-03 17:41:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 17:41:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:41:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart is empty"]
2025-07-03 17:41:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Cart is empty]
2025-07-03 17:41:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:41:11 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:41:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:41:11 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:41:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/15", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:41:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:41:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:41:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/15", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 17:41:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 17:41:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:41:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=15, productId=15)]
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=11, userId=15, product=ProductDto(id=15, name=Test Product, description=Test product  (truncated)...]
2025-07-03 17:41:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:41:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=15, productId=15)]
2025-07-03 17:41:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:41:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 17:41:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/15", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:41:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:41:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=11, userId=15, product=ProductDto(id=15, name=Test Product, description=Test product (truncated)...]
2025-07-03 17:41:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:41:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=15, productId=15)]
2025-07-03 17:41:11 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:41:11 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 17:41:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:41:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/15", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:41:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:41:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:41:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/15", parameters={}
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:41:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:41:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:41:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:41:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751553710, email=test1751553710@example.com, password=password12 (truncated)...]
2025-07-03 17:41:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:41:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:41:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=16, username=testuser1751553710, email=test1751553710@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:41:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/16", parameters={}
2025-07-03 17:41:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:41:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=16, username=testuser1751553710, email=test1751553710@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:41:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/16", parameters={}
2025-07-03 17:41:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:41:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:41:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:41:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=16, username=testuser1751553710, email=test1751553710@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:41:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:41:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:41:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:41:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:41:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:41:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:41:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:41:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:41:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=16, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:41:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/16", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:41:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=16, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:41:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/16", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:41:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:41:50 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:41:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=16, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:41:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:41:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:41:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:41:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:41:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=16, sessionId=null)]
2025-07-03 17:41:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:41:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=16, userId=16, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:41:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/16/items", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=16, quantity=2)]
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=16, userId=16, items=[CartItemDto(id=12, product=ProductDto(id=16, name=Test Product, des (truncated)...]
2025-07-03 17:41:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/16/items/16", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=16, userId=16, items=[CartItemDto(id=12, product=ProductDto(id=16, name=Test Product, des (truncated)...]
2025-07-03 17:41:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/16", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 17:41:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=16, userId=16, items=[CartItemDto(id=12, product=ProductDto(id=16, name=Test Product, des (truncated)...]
2025-07-03 17:41:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/16", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=16, sessionId=null)]
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=16, userId=16, items=[CartItemDto(id=12, product=ProductDto(id=16, name=Test Product, des (truncated)...]
2025-07-03 17:41:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/16/simple", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=16, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 17:41:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/16", parameters={}
2025-07-03 17:41:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:41:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=16, userId=16, items=[CartItemDto(id=12, product=ProductDto(id=16, name=Test Product, de (truncated)...]
2025-07-03 17:41:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/16/items/16", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=16, userId=16, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/16", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 17:41:51 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 16
2025-07-03 17:41:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 17:41:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart is empty"]
2025-07-03 17:41:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Cart is empty]
2025-07-03 17:41:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:41:51 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:41:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:41:51 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:41:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:41:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/16", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:41:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:41:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:41:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/16", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 17:41:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:41:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:41:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 17:41:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:41:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=16, productId=16)]
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=12, userId=16, product=ProductDto(id=16, name=Test Product, description=Test product  (truncated)...]
2025-07-03 17:41:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:41:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=16, productId=16)]
2025-07-03 17:41:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:41:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 17:41:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/16", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:41:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:41:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=12, userId=16, product=ProductDto(id=16, name=Test Product, description=Test product (truncated)...]
2025-07-03 17:41:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=16, productId=16)]
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:41:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:41:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/16", parameters={}
2025-07-03 17:41:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:41:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:41:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:41:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:41:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/16", parameters={}
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:41:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:43:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:43:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:43:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751553783, email=test1751553783@example.com, password=password12 (truncated)...]
2025-07-03 17:43:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:43:03 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:43:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=17, username=testuser1751553783, email=test1751553783@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:43:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/17", parameters={}
2025-07-03 17:43:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:43:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=17, username=testuser1751553783, email=test1751553783@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:43:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/17", parameters={}
2025-07-03 17:43:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:43:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:43:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:43:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=17, username=testuser1751553783, email=test1751553783@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:43:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:43:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:43:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:43:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:43:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:43:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:43:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:43:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:43:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=17, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:43:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/17", parameters={}
2025-07-03 17:43:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:43:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=17, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:43:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/17", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:43:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:43:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:43:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=17, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:43:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:43:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:43:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:43:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:43:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=17, sessionId=null)]
2025-07-03 17:43:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:43:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=17, userId=17, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:43:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/17/items", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=17, quantity=2)]
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=17, userId=17, items=[CartItemDto(id=13, product=ProductDto(id=17, name=Test Product, des (truncated)...]
2025-07-03 17:43:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/17/items/17", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=17, userId=17, items=[CartItemDto(id=13, product=ProductDto(id=17, name=Test Product, des (truncated)...]
2025-07-03 17:43:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/17", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 17:43:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=17, userId=17, items=[CartItemDto(id=13, product=ProductDto(id=17, name=Test Product, des (truncated)...]
2025-07-03 17:43:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/17", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=17, sessionId=null)]
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=17, userId=17, items=[CartItemDto(id=13, product=ProductDto(id=17, name=Test Product, des (truncated)...]
2025-07-03 17:43:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/17/simple", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=17, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 17:43:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/17", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:43:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=17, userId=17, items=[CartItemDto(id=13, product=ProductDto(id=17, name=Test Product, de (truncated)...]
2025-07-03 17:43:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/17/items/17", parameters={}
2025-07-03 17:43:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 17:43:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 17:43:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=17, userId=17, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:43:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/17", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 17:43:05 [http-nio-8080-exec-2] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 17
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart is empty"]
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Cart is empty]
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:43:05 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:43:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:43:05 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:43:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:43:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/17", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:43:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:43:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/17", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 17:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 17:43:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:43:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=17, productId=17)]
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=13, userId=17, product=ProductDto(id=17, name=Test Product, description=Test product  (truncated)...]
2025-07-03 17:43:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:43:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=17, productId=17)]
2025-07-03 17:43:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 17:43:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/17", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:43:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=13, userId=17, product=ProductDto(id=17, name=Test Product, description=Test product (truncated)...]
2025-07-03 17:43:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:43:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=17, productId=17)]
2025-07-03 17:43:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 17:43:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:43:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/17", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:43:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:43:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/17", parameters={}
2025-07-03 17:43:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:43:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:43:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:43:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:43:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:43:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751553822, email=test1751553822@example.com, password=password12 (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=18, username=testuser1751553822, email=test1751553822@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/18", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:43:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=18, username=testuser1751553822, email=test1751553822@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/18", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:43:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:43:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=18, username=testuser1751553822, email=test1751553822@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:43:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:43:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:43:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:43:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:43:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=18, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/18", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:43:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=18, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/18", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:43:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:43:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=18, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:43:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:43:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:43:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:43:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=18, sessionId=null)]
2025-07-03 17:43:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:43:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=18, userId=18, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:43:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/18/items", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=18, quantity=2)]
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=18, userId=18, items=[CartItemDto(id=14, product=ProductDto(id=18, name=Test Product, des (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/18/items/18", parameters={}
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=18, userId=18, items=[CartItemDto(id=14, product=ProductDto(id=18, name=Test Product, des (truncated)...]
2025-07-03 17:43:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/18", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=18, userId=18, items=[CartItemDto(id=14, product=ProductDto(id=18, name=Test Product, des (truncated)...]
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/18", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=18, sessionId=null)]
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=18, userId=18, items=[CartItemDto(id=14, product=ProductDto(id=18, name=Test Product, des (truncated)...]
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/18/simple", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=18, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 17:43:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/18", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:43:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=18, userId=18, items=[CartItemDto(id=14, product=ProductDto(id=18, name=Test Product, de (truncated)...]
2025-07-03 17:43:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/18/items/18", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 17:43:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 17:43:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=18, userId=18, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:43:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/18", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 17:43:43 [http-nio-8080-exec-1] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 18
2025-07-03 17:43:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 17:43:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart is empty"]
2025-07-03 17:43:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Cart is empty]
2025-07-03 17:43:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:43:43 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:43:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:43:43 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:43:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:43:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/18", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:43:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:43:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/18", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:43:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=18, productId=18)]
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:44 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:44 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:43:44 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 17:43:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=14, userId=18, product=ProductDto(id=18, name=Test Product, description=Test product  (truncated)...]
2025-07-03 17:43:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:43:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:43:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=18, productId=18)]
2025-07-03 17:43:44 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:43:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 17:43:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/18", parameters={}
2025-07-03 17:43:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:43:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:43:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=14, userId=18, product=ProductDto(id=18, name=Test Product, description=Test product (truncated)...]
2025-07-03 17:43:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:43:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:43:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=18, productId=18)]
2025-07-03 17:43:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:43:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 17:43:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:43:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:43:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/18", parameters={}
2025-07-03 17:43:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:43:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:43:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:43:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:43:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/18", parameters={}
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:43:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 17:44:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 17:44:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 17:44:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751553855, email=test1751553855@example.com, password=password12 (truncated)...]
2025-07-03 17:44:14 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=19, username=testuser1751553855, email=test1751553855@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/19", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 17:44:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:44:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=19, username=testuser1751553855, email=test1751553855@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/19", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 17:44:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:44:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 17:44:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=19, username=testuser1751553855, email=test1751553855@example.com, firstName=Updated, las (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 17:44:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 17:44:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 17:44:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 17:44:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:44:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=19, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/19", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 17:44:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=19, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/19", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 17:44:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:15 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:44:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=19, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 17:44:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 17:44:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:44:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 17:44:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=19, sessionId=null)]
2025-07-03 17:44:15 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 17:44:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=19, userId=19, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:44:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/19/items", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=19, quantity=2)]
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=19, userId=19, items=[CartItemDto(id=15, product=ProductDto(id=19, name=Test Product, des (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/19/items/19", parameters={}
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=19, userId=19, items=[CartItemDto(id=15, product=ProductDto(id=19, name=Test Product, des (truncated)...]
2025-07-03 17:44:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/19", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=19, userId=19, items=[CartItemDto(id=15, product=ProductDto(id=19, name=Test Product, des (truncated)...]
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/19", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=19, sessionId=null)]
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=19, userId=19, items=[CartItemDto(id=15, product=ProductDto(id=19, name=Test Product, des (truncated)...]
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/19/simple", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=19, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 17:44:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/19", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 17:44:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=19, userId=19, items=[CartItemDto(id=15, product=ProductDto(id=19, name=Test Product, de (truncated)...]
2025-07-03 17:44:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/19/items/19", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 17:44:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 17:44:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=19, userId=19, items=[], totalPrice=0, totalItems=0)]
2025-07-03 17:44:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/19", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 17:44:16 [http-nio-8080-exec-3] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 19
2025-07-03 17:44:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleIllegalArgument(IllegalArgumentException)
2025-07-03 17:44:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Cart is empty"]
2025-07-03 17:44:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Cart is empty]
2025-07-03 17:44:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders.]
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:44:16 TRT 2025, status=404, error=Not Found, path=/api/orders/}]
2025-07-03 17:44:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders//simple", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/orders/simple.]
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Jul 03 17:44:16 TRT 2025, status=404, error=Not Found, path=/api/orders//simple}]
2025-07-03 17:44:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-07-03 17:44:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/19", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 17:44:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 17:44:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/19", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=19, productId=19)]
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=15, userId=19, product=ProductDto(id=19, name=Test Product, description=Test product  (truncated)...]
2025-07-03 17:44:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 17:44:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 17:44:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=19, productId=19)]
2025-07-03 17:44:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:44:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 17:44:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/19", parameters={}
2025-07-03 17:44:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 17:44:17 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:44:17 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=15, userId=19, product=ProductDto(id=19, name=Test Product, description=Test product (truncated)...]
2025-07-03 17:44:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 17:44:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 17:44:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=19, productId=19)]
2025-07-03 17:44:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 17:44:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 17:44:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 17:44:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 17:44:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/19", parameters={}
2025-07-03 17:44:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 17:44:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 17:44:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 17:44:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:44:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/19", parameters={}
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 17:44:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 17:46:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 17:46:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 17:46:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 18:03:08 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 23376 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 18:03:08 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 18:03:08 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 18:03:08 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 18:03:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 18:03:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2025-07-03 18:03:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 18:03:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 18:03:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 18:03:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 18:03:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1253 ms
2025-07-03 18:03:10 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 18:03:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 18:03:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 18:03:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 18:03:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 18:03:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 18:03:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2431050d
2025-07-03 18:03:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 18:03:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 18:03:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 18:03:11 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-03 18:03:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 18:03:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 18:03:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 18:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 18:03:12 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 18:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 18:03:12 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 18:03:13 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 18:03:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 18:03:13 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 5.719 seconds (process running for 6.254)
2025-07-03 18:03:13 [RMI TCP Connection(3)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 18:03:13 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 18:03:13 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 18:03:13 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 18:03:13 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 18:03:13 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@15c0c274
2025-07-03 18:03:13 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@55cbbf15
2025-07-03 18:03:13 [RMI TCP Connection(3)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 18:03:13 [RMI TCP Connection(3)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-2] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 18:03:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 18:03:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 18:03:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751555012, email=test1751555012@example.com, password=password12 (truncated)...]
2025-07-03 18:03:31 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 18:03:31 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:03:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=20, username=testuser1751555012, email=test1751555012@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 18:03:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/20", parameters={}
2025-07-03 18:03:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 18:03:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:03:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=20, username=testuser1751555012, email=test1751555012@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 18:03:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/20", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 18:03:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:03:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 18:03:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=20, username=testuser1751555012, email=test1751555012@example.com, firstName=Updated, las (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 18:03:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 18:03:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 18:03:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 18:03:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:03:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=20, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/20", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 18:03:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=20, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/20", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 18:03:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:03:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=20, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 18:03:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 18:03:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 18:03:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 18:03:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=20, sessionId=null)]
2025-07-03 18:03:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 18:03:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=20, userId=20, items=[], totalPrice=0, totalItems=0)]
2025-07-03 18:03:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/20/items", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=20, quantity=2)]
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=20, userId=20, items=[CartItemDto(id=16, product=ProductDto(id=20, name=Test Product, des (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/20/items/20", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=20, userId=20, items=[CartItemDto(id=16, product=ProductDto(id=20, name=Test Product, des (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/20", parameters={}
2025-07-03 18:03:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 18:03:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=20, userId=20, items=[CartItemDto(id=16, product=ProductDto(id=20, name=Test Product, des (truncated)...]
2025-07-03 18:03:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/20/simple", parameters={}
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=20, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 18:03:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/20", parameters={}
2025-07-03 18:03:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 18:03:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=20, userId=20, items=[CartItemDto(id=16, product=ProductDto(id=20, name=Test Product, de (truncated)...]
2025-07-03 18:03:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/20", parameters={}
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=20, sessionId=null)]
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=20, userId=20, items=[CartItemDto(id=16, product=ProductDto(id=20, name=Test Product, des (truncated)...]
2025-07-03 18:03:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/20", parameters={}
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 18:03:33 [http-nio-8080-exec-5] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 20
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 18:03:33 [http-nio-8080-exec-5] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 9, Total: 749.95
2025-07-03 18:03:33 [http-nio-8080-exec-5] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=9, userId=20, items=[OrderItemDto(id=9, product=ProductDto(id=20, name=Test Product, des (truncated)...]
2025-07-03 18:03:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/9", parameters={}
2025-07-03 18:03:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 18:03:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=9, userId=20, items=[OrderItemDto(id=9, product=ProductDto(id=20, name=Test Product, des (truncated)...]
2025-07-03 18:03:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/9/simple", parameters={}
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getSimpleOrderById(Long)
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleOrderDto(orderId=9, customerName=Updated User, items=[SimpleOrderItemDto(productName=Test Prod (truncated)...]
2025-07-03 18:03:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/20", parameters={}
2025-07-03 18:03:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 18:03:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=9, userId=20, items=[OrderItemDto(id=9, product=ProductDto(id=20, name=Test Product, de (truncated)...]
2025-07-03 18:03:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=20, productId=20)]
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=16, userId=20, product=ProductDto(id=20, name=Test Product, description=Test product  (truncated)...]
2025-07-03 18:03:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=20, productId=20)]
2025-07-03 18:03:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/20", parameters={}
2025-07-03 18:03:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 18:03:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 18:03:34 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=16, userId=20, product=ProductDto(id=20, name=Test Product, description=Test product (truncated)...]
2025-07-03 18:03:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 18:03:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 18:03:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=20, productId=20)]
2025-07-03 18:03:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:03:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 18:03:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 18:03:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/20/items/20", parameters={}
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Product not found in cart"]
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: Product not found in cart]
2025-07-03 18:03:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 18:03:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/20/clear", parameters={}
2025-07-03 18:03:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 18:03:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=20, userId=20, items=[], totalPrice=0, totalItems=0)]
2025-07-03 18:03:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:03:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/20", parameters={}
2025-07-03 18:03:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 18:03:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:03:34 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 18:03:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:03:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 18:03:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/20", parameters={}
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 18:03:34 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 18:03:34 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fkocimc7dtr037rh4ls4l95nlfi" on table "order_items"
  Ayrıntı: Key (id)=(20) is still referenced from table "order_items".
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fkocimc7dtr037rh4ls4l95nlfi" on table "order_items"<EOL>  Ayrıntı: Key (id)=(20) is still referenced from table "order_items".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fkocimc7dtr037rh4ls4l95nlfi]]
2025-07-03 18:03:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/20", parameters={}
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 18:03:34 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 18:03:34 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(20) is still referenced from table "orders".
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(20) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 18:03:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 18:04:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 18:04:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 18:04:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751555044, email=test1751555044@example.com, password=password12 (truncated)...]
2025-07-03 18:04:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 18:04:03 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:04:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=21, username=testuser1751555044, email=test1751555044@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 18:04:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/21", parameters={}
2025-07-03 18:04:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 18:04:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=21, username=testuser1751555044, email=test1751555044@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 18:04:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/21", parameters={}
2025-07-03 18:04:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 18:04:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 18:04:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 18:04:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=21, username=testuser1751555044, email=test1751555044@example.com, firstName=Updated, las (truncated)...]
2025-07-03 18:04:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 18:04:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 18:04:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 18:04:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 18:04:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=21, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/21", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 18:04:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=21, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 18:04:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/21", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 18:04:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 18:04:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:04:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=21, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 18:04:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 18:04:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 18:04:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 18:04:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 18:04:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=21, sessionId=null)]
2025-07-03 18:04:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 18:04:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=21, userId=21, items=[], totalPrice=0, totalItems=0)]
2025-07-03 18:04:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/21/items", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=21, quantity=2)]
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=21, userId=21, items=[CartItemDto(id=17, product=ProductDto(id=21, name=Test Product, des (truncated)...]
2025-07-03 18:04:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/21/items/21", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=21, userId=21, items=[CartItemDto(id=17, product=ProductDto(id=21, name=Test Product, des (truncated)...]
2025-07-03 18:04:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/21", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 18:04:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=21, userId=21, items=[CartItemDto(id=17, product=ProductDto(id=21, name=Test Product, des (truncated)...]
2025-07-03 18:04:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/21/simple", parameters={}
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=21, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 18:04:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/21", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 18:04:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=21, userId=21, items=[CartItemDto(id=17, product=ProductDto(id=21, name=Test Product, de (truncated)...]
2025-07-03 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/21", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=21, sessionId=null)]
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=21, userId=21, items=[CartItemDto(id=17, product=ProductDto(id=21, name=Test Product, des (truncated)...]
2025-07-03 18:04:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/21", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 18:04:05 [http-nio-8080-exec-6] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 21
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 18:04:05 [http-nio-8080-exec-6] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 10, Total: 749.95
2025-07-03 18:04:05 [http-nio-8080-exec-6] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=10, userId=21, items=[OrderItemDto(id=10, product=ProductDto(id=21, name=Test Product, d (truncated)...]
2025-07-03 18:04:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/10", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 18:04:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=10, userId=21, items=[OrderItemDto(id=10, product=ProductDto(id=21, name=Test Product, d (truncated)...]
2025-07-03 18:04:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/10/simple", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getSimpleOrderById(Long)
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleOrderDto(orderId=10, customerName=Updated User, items=[SimpleOrderItemDto(productName=Test Pro (truncated)...]
2025-07-03 18:04:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/21", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 18:04:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=10, userId=21, items=[OrderItemDto(id=10, product=ProductDto(id=21, name=Test Product,  (truncated)...]
2025-07-03 18:04:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=21, productId=21)]
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=17, userId=21, product=ProductDto(id=21, name=Test Product, description=Test product  (truncated)...]
2025-07-03 18:04:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 18:04:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=21, productId=21)]
2025-07-03 18:04:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 18:04:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/21", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 18:04:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=17, userId=21, product=ProductDto(id=21, name=Test Product, description=Test product (truncated)...]
2025-07-03 18:04:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 18:04:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 18:04:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=21, productId=21)]
2025-07-03 18:04:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:04:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 18:04:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 18:04:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/21/items/21", parameters={}
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Product not found in cart"]
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: Product not found in cart]
2025-07-03 18:04:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 18:04:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/21/clear", parameters={}
2025-07-03 18:04:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 18:04:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=21, userId=21, items=[], totalPrice=0, totalItems=0)]
2025-07-03 18:04:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/21", parameters={}
2025-07-03 18:04:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 18:04:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 18:04:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 18:04:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/21", parameters={}
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 18:04:06 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 18:04:06 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fkocimc7dtr037rh4ls4l95nlfi" on table "order_items"
  Ayrıntı: Key (id)=(21) is still referenced from table "order_items".
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fkocimc7dtr037rh4ls4l95nlfi" on table "order_items"<EOL>  Ayrıntı: Key (id)=(21) is still referenced from table "order_items".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fkocimc7dtr037rh4ls4l95nlfi]]
2025-07-03 18:04:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/21", parameters={}
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 18:04:06 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 18:04:06 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(21) is still referenced from table "orders".
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(21) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 18:04:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 18:04:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 18:04:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 18:04:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751555097, email=test1751555097@example.com, password=password12 (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 18:04:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:04:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=22, username=testuser1751555097, email=test1751555097@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/22", parameters={}
2025-07-03 18:04:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 18:04:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=22, username=testuser1751555097, email=test1751555097@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/22", parameters={}
2025-07-03 18:04:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 18:04:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 18:04:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=22, username=testuser1751555097, email=test1751555097@example.com, firstName=Updated, las (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 18:04:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 18:04:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 18:04:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 18:04:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 18:04:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 18:04:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:04:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=22, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/22", parameters={}
2025-07-03 18:04:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 18:04:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=22, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/22", parameters={}
2025-07-03 18:04:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 18:04:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:04:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=22, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 18:04:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 18:04:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 18:04:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 18:04:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 18:04:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 18:04:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 18:04:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=22, sessionId=null)]
2025-07-03 18:04:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 18:04:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=22, userId=22, items=[], totalPrice=0, totalItems=0)]
2025-07-03 18:04:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/22/items", parameters={}
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=22, quantity=2)]
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=22, userId=22, items=[CartItemDto(id=18, product=ProductDto(id=22, name=Test Product, des (truncated)...]
2025-07-03 18:04:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/22/items/22", parameters={}
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=22, userId=22, items=[CartItemDto(id=18, product=ProductDto(id=22, name=Test Product, des (truncated)...]
2025-07-03 18:04:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/22", parameters={}
2025-07-03 18:04:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 18:04:58 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=22, userId=22, items=[CartItemDto(id=18, product=ProductDto(id=22, name=Test Product, des (truncated)...]
2025-07-03 18:04:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/22/simple", parameters={}
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=22, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 18:04:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/22", parameters={}
2025-07-03 18:04:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 18:04:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=22, userId=22, items=[CartItemDto(id=18, product=ProductDto(id=22, name=Test Product, de (truncated)...]
2025-07-03 18:04:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/22", parameters={}
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=22, sessionId=null)]
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=22, userId=22, items=[CartItemDto(id=18, product=ProductDto(id=22, name=Test Product, des (truncated)...]
2025-07-03 18:04:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/22", parameters={}
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 18:04:58 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 22
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 18:04:58 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 11, Total: 749.95
2025-07-03 18:04:58 [http-nio-8080-exec-10] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=11, userId=22, items=[OrderItemDto(id=11, product=ProductDto(id=22, name=Test Product, d (truncated)...]
2025-07-03 18:04:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/11", parameters={}
2025-07-03 18:04:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 18:04:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:04:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=11, userId=22, items=[OrderItemDto(id=11, product=ProductDto(id=22, name=Test Product, d (truncated)...]
2025-07-03 18:04:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/11/simple", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getSimpleOrderById(Long)
2025-07-03 18:04:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleOrderDto(orderId=11, customerName=Updated User, items=[SimpleOrderItemDto(productName=Test Pro (truncated)...]
2025-07-03 18:04:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/22", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=11, userId=22, items=[OrderItemDto(id=11, product=ProductDto(id=22, name=Test Product,  (truncated)...]
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=22, productId=22)]
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=18, userId=22, product=ProductDto(id=22, name=Test Product, description=Test product  (truncated)...]
2025-07-03 18:04:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 18:04:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=22, productId=22)]
2025-07-03 18:04:59 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 18:04:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/22", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 18:04:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=18, userId=22, product=ProductDto(id=22, name=Test Product, description=Test product (truncated)...]
2025-07-03 18:04:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 18:04:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=22, productId=22)]
2025-07-03 18:04:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 18:04:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 18:04:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/22/items/22", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Product not found in cart"]
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: Product not found in cart]
2025-07-03 18:04:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 18:04:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/22/clear", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 18:04:59 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=22, userId=22, items=[], totalPrice=0, totalItems=0)]
2025-07-03 18:04:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:04:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/22", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 18:04:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 18:04:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 18:04:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/22", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    delete 
    from
        products 
    where
        id=?
2025-07-03 18:04:59 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 18:04:59 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "products" violates foreign key constraint "fkocimc7dtr037rh4ls4l95nlfi" on table "order_items"
  Ayrıntı: Key (id)=(22) is still referenced from table "order_items".
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "products" violates foreign key constraint "fkocimc7dtr037rh4ls4l95nlfi" on table "order_items"<EOL>  Ayrıntı: Key (id)=(22) is still referenced from table "order_items".] [delete from products where id=?]; SQL [delete from products where id=?]; constraint [fkocimc7dtr037rh4ls4l95nlfi]]
2025-07-03 18:04:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/22", parameters={}
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        users u1_0 
    where
        u1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        f1_0.user_id,
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2025-07-03 18:04:59 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2025-07-03 18:04:59 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"
  Ayrıntı: Key (id)=(22) is still referenced from table "orders".
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleDataIntegrity(DataIntegrityViolationException)
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Referenced record does not exist. Please check the provided IDs."]
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: update or delete on table "users" violates foreign key constraint "fk32ql8ubntj5uh44ph9659tiih" on table "orders"<EOL>  Ayrıntı: Key (id)=(22) is still referenced from table "orders".] [delete from users where id=?]; SQL [delete from users where id=?]; constraint [fk32ql8ubntj5uh44ph9659tiih]]
2025-07-03 18:04:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-07-03 18:15:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 18:15:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 18:15:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-03 18:28:11 [main] INFO  o.u.s.ShoppingApiApplication - Starting ShoppingApiApplication using Java 17.0.15 with PID 8416 (C:\Users\kurgu\Desktop\ShoppingAPI\target\classes started by kurgu in C:\Users\kurgu\Desktop\ShoppingAPI)
2025-07-03 18:28:11 [main] INFO  o.u.s.ShoppingApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-03 18:28:11 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - Using Docker Compose file 'C:\Users\kurgu\Desktop\ShoppingAPI\compose.yaml'
2025-07-03 18:28:12 [main] INFO  o.s.b.d.c.l.DockerComposeLifecycleManager - There are already Docker Compose services running, skipping startup
2025-07-03 18:28:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-03 18:28:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2025-07-03 18:28:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-03 18:28:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-03 18:28:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.31]
2025-07-03 18:28:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-03 18:28:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1474 ms
2025-07-03 18:28:14 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-03 18:28:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-03 18:28:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-03 18:28:14 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-03 18:28:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-03 18:28:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-03 18:28:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@468f2a6f
2025-07-03 18:28:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-03 18:28:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-03 18:28:15 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-03 18:28:15 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       alter column description set data type TEXT
2025-07-03 18:28:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 18:28:16 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-03 18:28:16 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-03 18:28:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-03 18:28:16 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-03 18:28:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-03 18:28:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-03 18:28:17 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-03 18:28:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-03 18:28:17 [main] INFO  o.u.s.ShoppingApiApplication - Started ShoppingApiApplication in 6.209 seconds (process running for 6.755)
2025-07-03 18:28:17 [RMI TCP Connection(1)-192.168.56.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-03 18:28:17 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-03 18:28:17 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-07-03 18:28:17 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-07-03 18:28:17 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-07-03 18:28:17 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@20ff27a4
2025-07-03 18:28:17 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3963d003
2025-07-03 18:28:17 [RMI TCP Connection(1)-192.168.56.1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-03 18:28:17 [RMI TCP Connection(1)-192.168.56.1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2025-07-03 18:32:41 [http-nio-8080-exec-1] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.UserDto instances]
2025-07-03 18:32:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/users", parameters={}
2025-07-03 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-03 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser1751556762, email=test1751556762@example.com, password=password12 (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-03 18:32:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=23, username=testuser1751556762, email=test1751556762@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users/23", parameters={}
2025-07-03 18:32:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getUserById(Long)
2025-07-03 18:32:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:32:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=23, username=testuser1751556762, email=test1751556762@example.com, firstName=Test, lastNa (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/users/23", parameters={}
2025-07-03 18:32:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#updateUser(Long, UpdateUserRequest)
2025-07-03 18:32:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateUserRequest(username=null, email=null, password=null, firstName=Updated, lastName=User, phoneN (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:32:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 18:32:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserDto(id=23, username=testuser1751556762, email=test1751556762@example.com, firstName=Updated, las (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-07-03 18:32:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-03 18:32:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-03 18:32:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 1 containing org.utku.shoppingapi.dto.ProductDto instances]
2025-07-03 18:32:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/products", parameters={}
2025-07-03 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-03 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test product for API testing, price=99.99, stock (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=23, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/products/23", parameters={}
2025-07-03 18:32:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getProductById(Long)
2025-07-03 18:32:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=23, name=Test Product, description=Test product for API testing, price=99.99, stockQua (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/products/23", parameters={}
2025-07-03 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#updateProduct(Long, UpdateProductRequest)
2025-07-03 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateProductRequest(name=null, description=null, price=149.99, stockQuantity=150, category=null, ac (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=23, name=Test Product, description=Test product for API testing, price=149.99, stockQu (truncated)...]
2025-07-03 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart", parameters={}
2025-07-03 18:32:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getAllCarts()
2025-07-03 18:32:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0
2025-07-03 18:32:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2025-07-03 18:32:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart", parameters={}
2025-07-03 18:32:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#createCart(CreateCartRequest)
2025-07-03 18:32:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCartRequest(userId=23, sessionId=null)]
2025-07-03 18:32:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        carts
        (created_at, session_id, updated_at, user_id) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 18:32:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=23, userId=23, items=[], totalPrice=0, totalItems=0)]
2025-07-03 18:32:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/cart/23/items", parameters={}
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#addItemToCart(Long, AddToCartRequest)
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AddToCartRequest(productId=23, quantity=2)]
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        cart_items
        (cart_id, created_at, product_id, quantity, unit_price, updated_at) 
    values
        (?, ?, ?, ?, ?, ?) 
    returning id
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=23, userId=23, items=[CartItemDto(id=19, product=ProductDto(id=23, name=Test Product, des (truncated)...]
2025-07-03 18:32:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/23/items/23", parameters={}
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateItemQuantity(Long, Long, UpdateQuantityRequest)
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateQuantityRequest(quantity=5)]
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        cart_items 
    set
        cart_id=?,
        product_id=?,
        quantity=?,
        unit_price=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=23, userId=23, items=[CartItemDto(id=19, product=ProductDto(id=23, name=Test Product, des (truncated)...]
2025-07-03 18:32:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/23", parameters={}
2025-07-03 18:32:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-03 18:32:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=23, userId=23, items=[CartItemDto(id=19, product=ProductDto(id=23, name=Test Product, des (truncated)...]
2025-07-03 18:32:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/23/simple", parameters={}
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getSimpleCartById(Long)
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleCartDto(cartId=23, customerName=Updated User, items=[SimpleCartItemDto(productName=Test Produc (truncated)...]
2025-07-03 18:32:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cart/user/23", parameters={}
2025-07-03 18:32:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartByUserId(Long)
2025-07-03 18:32:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CartDto(id=23, userId=23, items=[CartItemDto(id=19, product=ProductDto(id=23, name=Test Product, de (truncated)...]
2025-07-03 18:32:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/cart/23", parameters={}
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#updateCart(Long, UpdateCartRequest)
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UpdateCartRequest(userId=23, sessionId=null)]
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=23, userId=23, items=[CartItemDto(id=19, product=ProductDto(id=23, name=Test Product, des (truncated)...]
2025-07-03 18:32:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders/from-cart/23", parameters={}
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#createOrderFromCart(Long)
2025-07-03 18:32:43 [http-nio-8080-exec-8] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 23
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        orders
        (ordered_at, total_amount, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        order_items
        (order_id, product_id, quantity, unit_price) 
    values
        (?, ?, ?, ?) 
    returning id
2025-07-03 18:32:43 [http-nio-8080-exec-8] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: 12, Total: 749.95
2025-07-03 18:32:43 [http-nio-8080-exec-8] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        cart_items 
    where
        id=?
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=12, userId=23, items=[OrderItemDto(id=12, product=ProductDto(id=23, name=Test Product, d (truncated)...]
2025-07-03 18:32:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/12", parameters={}
2025-07-03 18:32:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrderById(Long)
2025-07-03 18:32:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:32:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=12, userId=23, items=[OrderItemDto(id=12, product=ProductDto(id=23, name=Test Product, d (truncated)...]
2025-07-03 18:32:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/12/simple", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getSimpleOrderById(Long)
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SimpleOrderDto(orderId=12, customerName=Updated User, items=[SimpleOrderItemDto(productName=Test Pro (truncated)...]
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders/user/23", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.OrderController#getOrdersByUserId(Long)
2025-07-03 18:32:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.ordered_at,
        o1_0.total_amount,
        o1_0.user_id 
    from
        orders o1_0 
    where
        o1_0.user_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price 
    from
        order_items i1_0 
    where
        i1_0.order_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[OrderDto(id=12, userId=23, items=[OrderItemDto(id=12, product=ProductDto(id=23, name=Test Product,  (truncated)...]
2025-07-03 18:32:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#addFavorite(FavoriteRequest)
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=23, productId=23)]
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        favorites
        (created_at, product_id, user_id) 
    values
        (?, ?, ?) 
    returning id
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [FavoriteDto(id=19, userId=23, product=ProductDto(id=23, name=Test Product, description=Test product  (truncated)...]
2025-07-03 18:32:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/favorites/check", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#isFavorite(FavoriteRequest)
2025-07-03 18:32:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=23, productId=23)]
2025-07-03 18:32:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [true]
2025-07-03 18:32:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/favorites/user/23", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#getFavoritesByUserId(Long)
2025-07-03 18:32:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[FavoriteDto(id=19, userId=23, product=ProductDto(id=23, name=Test Product, description=Test product (truncated)...]
2025-07-03 18:32:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/favorites", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.FavoriteController#removeFavorite(FavoriteRequest)
2025-07-03 18:32:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [FavoriteRequest(userId=23, productId=23)]
2025-07-03 18:32:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        f1_0.id,
        f1_0.created_at,
        f1_0.product_id,
        f1_0.user_id 
    from
        favorites f1_0 
    where
        f1_0.user_id=? 
        and f1_0.product_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        favorites 
    where
        id=?
2025-07-03 18:32:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(success=true, message=Product removed from favorites successfully, data=null)]
2025-07-03 18:32:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/23/items/23", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#removeItemFromCart(Long, Long)
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Product not found in cart"]
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.utku.shoppingapi.exception.ResourceNotFoundException: Product not found in cart]
2025-07-03 18:32:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-07-03 18:32:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/23/clear", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-03 18:32:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CartDto(id=23, userId=23, items=[], totalPrice=0, totalItems=0)]
2025-07-03 18:32:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-07-03 18:32:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/cart/23", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#deleteCart(Long)
2025-07-03 18:32:44 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.cart_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.product_id,
        i1_0.quantity,
        i1_0.unit_price,
        i1_0.updated_at 
    from
        cart_items i1_0 
    where
        i1_0.cart_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        carts 
    where
        id=?
2025-07-03 18:32:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 18:32:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 18:32:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/products/23", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#deleteProduct(Long)
2025-07-03 18:32:44 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    where
        p1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    update
        products 
    set
        active=?,
        category=?,
        description=?,
        name=?,
        price=?,
        stock_quantity=?,
        updated_at=? 
    where
        id=?
2025-07-03 18:32:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 18:32:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/users/23", parameters={}
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#deleteUser(Long)
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        r1_0.user_id,
        r1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    left join
        user_roles r1_0 
            on u1_0.id=r1_0.user_id 
    where
        u1_0.id=?
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.session_id,
        c1_0.updated_at,
        c1_0.user_id 
    from
        carts c1_0 
    where
        c1_0.user_id=?
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        users 
    set
        email=?,
        enabled=?,
        first_name=?,
        last_name=?,
        password=?,
        phone_number=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-03 18:32:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2025-07-03 18:37:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-03 18:37:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-03 18:37:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-07 08:16:36 [main] INFO  o.u.s.i.ProductIntegrationTest - Starting ProductIntegrationTest using Java 17.0.15 with PID 3531 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:16:36 [main] INFO  o.u.s.i.ProductIntegrationTest - The following 1 profile is active: "test"
2025-07-07 08:16:36 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@27e32fe4
2025-07-07 08:16:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:16:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 5 JPA repository interfaces.
2025-07-07 08:16:38 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:16:38 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-07 08:16:38 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:16:38 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:16:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-07 08:16:38 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:16:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-07 08:16:38 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:16:39 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:16:39 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:16:39 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:16:39 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-07 08:16:40 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:16:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:16:40 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:16:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:16:40 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:16:41 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:16:41 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-07 08:16:41 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:16:41 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:16:41 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:16:41 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 23 ms
2025-07-07 08:16:41 [main] INFO  o.u.s.i.ProductIntegrationTest - Started ProductIntegrationTest in 5.242 seconds (process running for 6.159)
2025-07-07 08:16:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-07 08:16:41 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test Description, price=99.99, stockQuantity=10, (truncated)...]
2025-07-07 08:16:42 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        products
        (active, category, created_at, description, name, price, stock_quantity, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProductDto(id=1, name=Test Product, description=Test Description, price=99.99, stockQuantity=10, cat (truncated)...]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=null, price=-10.00, stockQuantity=10, category=n (truncated)...]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{price=Price must be greater than 0}]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.ProductDto> org.utku.shoppingapi.controller.ProductController.createProduct(org.utku.shoppingapi.dto.request.CreateProductRequest): [Field error in object 'createProductRequest' on field 'price': rejected value [-10.00]; codes [DecimalMin.createProductRequest.price,DecimalMin.price,DecimalMin.java.math.BigDecimal,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.price,price]; arguments []; default message [price],false,0.0]; default message [Price must be greater than 0]] ]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-07 08:16:42 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:16:42 [main] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=, description=null, price=99.99, stockQuantity=10, category=null)]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{name=Product name cannot be empty}]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.ProductDto> org.utku.shoppingapi.controller.ProductController.createProduct(org.utku.shoppingapi.dto.request.CreateProductRequest) with 2 errors: [Field error in object 'createProductRequest' on field 'name': rejected value []; codes [Size.createProductRequest.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.name,name]; arguments []; default message [name],255,2]; default message [Product name must be between 2 and 255 characters]] [Field error in object 'createProductRequest' on field 'name': rejected value []; codes [NotBlank.createProductRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.name,name]; arguments []; default message [name]]; default message [Product name cannot be empty]] ]
2025-07-07 08:16:42 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.integration.UserIntegrationTest]: UserIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:16:42 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.integration.UserIntegrationTest
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=123, firstName=null, lastName= (truncated)...]
2025-07-07 08:16:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{password=Password must be at least 6 characters}]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'password': rejected value [123]; codes [Size.createUserRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.password,password]; arguments []; default message [password],2147483647,6]; default message [Password must be at least 6 characters]] ]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, l (truncated)...]
2025-07-07 08:16:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:16:42 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserDto(id=1, username=testuser, email=test@example.com, firstName=Test, lastName=User, phoneNumber= (truncated)...]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#getAllUsers(Pageable)
2025-07-07 08:16:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    order by
        u1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.UserController#createUser(CreateUserRequest)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(username=testuser, email=invalid-email, password=password123, firstName=null, last (truncated)...]
2025-07-07 08:16:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{email=Please enter a valid email address}]
2025-07-07 08:16:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.utku.shoppingapi.dto.UserDto org.utku.shoppingapi.controller.UserController.createUser(org.utku.shoppingapi.dto.request.CreateUserRequest): [Field error in object 'createUserRequest' on field 'email': rejected value [invalid-email]; codes [Email.createUserRequest.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createUserRequest.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@14796b9e,.*]; default message [Please enter a valid email address]] ]
2025-07-07 08:16:42 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.ShoppingApiApplicationTests]: ShoppingApiApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:16:42 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.ShoppingApiApplicationTests
2025-07-07 08:16:42 [main] INFO  o.u.s.ShoppingApiApplicationTests - Starting ShoppingApiApplicationTests using Java 17.0.15 with PID 3531 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:16:42 [main] INFO  o.u.s.ShoppingApiApplicationTests - The following 1 profile is active: "test"
2025-07-07 08:16:42 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1c9c7f1e
2025-07-07 08:16:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:16:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2025-07-07 08:16:42 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:16:42 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:16:42 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:16:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-07 08:16:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:16:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-07 08:16:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:16:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:16:43 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:16:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:16:43 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:16:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 35 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:16:43 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:16:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:16:43 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:16:43 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:16:43 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:16:43 [main] INFO  o.u.s.ShoppingApiApplicationTests - Started ShoppingApiApplicationTests in 1.358 seconds (process running for 8.602)
2025-07-07 08:16:43 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.controller.CartControllerTest]: CartControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:16:43 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.controller.CartControllerTest
2025-07-07 08:16:43 [main] INFO  o.u.s.controller.CartControllerTest - Starting CartControllerTest using Java 17.0.15 with PID 3531 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:16:43 [main] INFO  o.u.s.controller.CartControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-07-07 08:16:43 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2da788b
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:16:44 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:16:44 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:16:44 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-07-07 08:16:44 [main] INFO  o.u.s.controller.CartControllerTest - Started CartControllerTest in 0.721 seconds (process running for 9.36)
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#clearCart(Long)
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.CartController#getCartById(Long)
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:16:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-07-07 08:16:44 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.repository.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:16:44 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.repository.UserRepositoryTest
2025-07-07 08:16:44 [main] INFO  o.u.s.repository.UserRepositoryTest - Starting UserRepositoryTest using Java 17.0.15 with PID 3531 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:16:44 [main] INFO  o.u.s.repository.UserRepositoryTest - The following 1 profile is active: "test"
2025-07-07 08:16:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:16:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 5 JPA repository interfaces.
2025-07-07 08:16:45 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-07-07 08:16:45 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:a40df690-0fac-4a3c-bf88-1b8285c98639;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-07-07 08:16:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:16:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:16:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:16:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:16:45 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:16:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:16:45 [main] INFO  o.u.s.repository.UserRepositoryTest - Started UserRepositoryTest in 0.97 seconds (process running for 10.518)
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role) 
    values
        (?, ?)
2025-07-07 08:16:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:16:46 [main] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-07 08:16:46 [main] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: null, Total: null
2025-07-07 08:16:46 [main] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-07 08:16:46 [main] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@27e32fe4, started on Mon Jul 07 08:16:36 UTC 2025
2025-07-07 08:16:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-07 08:16:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@1c9c7f1e, started on Mon Jul 07 08:16:42 UTC 2025
2025-07-07 08:16:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-07 08:16:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2da788b, started on Mon Jul 07 08:16:43 UTC 2025
2025-07-07 08:16:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:16:46 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:31:15 [main] INFO  o.u.s.i.AuthIntegrationTest - Starting AuthIntegrationTest using Java 17.0.15 with PID 4395 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:31:15 [main] INFO  o.u.s.i.AuthIntegrationTest - The following 1 profile is active: "test"
2025-07-07 08:31:15 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@408a247c
2025-07-07 08:31:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:31:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2025-07-07 08:31:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:31:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-07 08:31:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:31:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:31:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-07 08:31:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:31:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-07 08:31:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:31:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:31:18 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:31:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:31:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-07 08:31:19 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 08:31:19 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-07 08:31:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:31:19 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:31:20 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:31:20 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:31:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:31:20 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:31:20 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:31:20 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-07 08:31:20 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:31:20 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:31:20 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-07-07 08:31:20 [main] INFO  o.u.s.i.AuthIntegrationTest - Started AuthIntegrationTest in 5.932 seconds (process running for 6.781)
2025-07-07 08:31:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:31:21 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=null, las (truncated)...]
2025-07-07 08:31:21 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:21 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:21 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:31:21 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:31:21 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:21 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=1, role=USER)]
2025-07-07 08:31:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:31:21 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=testuser, password=password123)]
2025-07-07 08:31:21 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:31:22 [main] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, las (truncated)...]
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=2, role=USER)]
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=nonexistent, password=wrongpassword)]
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test1@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=3, role=USER)]
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test2@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:31:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=This username is already taken}]
2025-07-07 08:31:22 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.auth.MessageResponse> org.utku.shoppingapi.controller.AuthController.registerUser(org.utku.shoppingapi.dto.auth.RegisterRequest): [Field error in object 'registerRequest' on field 'username': rejected value [testuser]; codes [UniqueUsername.registerRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] ]
2025-07-07 08:31:22 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@408a247c, started on Mon Jul 07 08:31:15 UTC 2025
2025-07-07 08:31:22 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:31:22 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:31:22 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:31:22 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:31:22 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:31:22 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:31:22 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:31:22 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:31:22 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:31:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-07 08:31:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-07 08:31:48 [main] INFO  o.u.s.i.AuthIntegrationTest - Starting AuthIntegrationTest using Java 17.0.15 with PID 4537 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:31:48 [main] INFO  o.u.s.i.AuthIntegrationTest - The following 1 profile is active: "test"
2025-07-07 08:31:48 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@408a247c
2025-07-07 08:31:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:31:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 5 JPA repository interfaces.
2025-07-07 08:31:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:31:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-07 08:31:50 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:31:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:31:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-07 08:31:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:31:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-07 08:31:50 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:31:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:31:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:31:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:31:52 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-07 08:31:52 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 08:31:52 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-07 08:31:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:31:53 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:31:53 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:31:53 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:31:54 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:31:54 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:31:54 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:31:54 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-07 08:31:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:31:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:31:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-07-07 08:31:54 [main] INFO  o.u.s.i.AuthIntegrationTest - Started AuthIntegrationTest in 6.326 seconds (process running for 7.185)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=null, las (truncated)...]
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=1, role=USER)]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=testuser, password=password123)]
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlkIjoxLCJyb2xlcyI6WyJST0xFX1VTRVIiX (truncated)...]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, las (truncated)...]
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=2, role=USER)]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=nonexistent, password=wrongpassword)]
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test1@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=3, role=USER)]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test2@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:31:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=This username is already taken}]
2025-07-07 08:31:55 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.auth.MessageResponse> org.utku.shoppingapi.controller.AuthController.registerUser(org.utku.shoppingapi.dto.auth.RegisterRequest): [Field error in object 'registerRequest' on field 'username': rejected value [testuser]; codes [UniqueUsername.registerRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] ]
2025-07-07 08:31:56 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@408a247c, started on Mon Jul 07 08:31:48 UTC 2025
2025-07-07 08:31:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:31:56 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:31:56 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:31:56 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:31:56 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:31:56 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:31:56 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:31:56 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:31:56 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:31:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-07 08:31:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-07 08:33:22 [main] INFO  o.u.s.i.AuthIntegrationTest - Starting AuthIntegrationTest using Java 17.0.15 with PID 4725 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:33:22 [main] INFO  o.u.s.i.AuthIntegrationTest - The following 1 profile is active: "test"
2025-07-07 08:33:22 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@408a247c
2025-07-07 08:33:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:33:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2025-07-07 08:33:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:33:24 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-07 08:33:24 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:33:24 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:33:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-07 08:33:24 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:33:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-07 08:33:24 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:33:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:33:25 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:33:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:33:25 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-07 08:33:26 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 08:33:26 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-07 08:33:26 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:33:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:33:26 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:33:27 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:33:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:33:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:33:27 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:33:27 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-07 08:33:27 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:33:27 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:33:27 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-07-07 08:33:27 [main] INFO  o.u.s.i.AuthIntegrationTest - Started AuthIntegrationTest in 5.855 seconds (process running for 6.913)
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=null, las (truncated)...]
2025-07-07 08:33:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:33:28 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=1, role=USER)]
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=testuser, password=password123)]
2025-07-07 08:33:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlkIjoxLCJyb2xlcyI6WyJST0xFX1VTRVIiX (truncated)...]
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-07 08:33:28 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:33:28 [main] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:33:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, las (truncated)...]
2025-07-07 08:33:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:33:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=2, role=USER)]
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=nonexistent, password=wrongpassword)]
2025-07-07 08:33:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleBadCredentials(BadCredentialsException)
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Invalid username or password"]
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authentication.BadCredentialsException: Bad credentials]
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test1@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:33:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:33:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=3, role=USER)]
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test2@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:33:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=This username is already taken}]
2025-07-07 08:33:29 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.auth.MessageResponse> org.utku.shoppingapi.controller.AuthController.registerUser(org.utku.shoppingapi.dto.auth.RegisterRequest): [Field error in object 'registerRequest' on field 'username': rejected value [testuser]; codes [UniqueUsername.registerRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] ]
2025-07-07 08:33:29 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@408a247c, started on Mon Jul 07 08:33:22 UTC 2025
2025-07-07 08:33:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:33:29 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:33:29 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:33:29 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:33:29 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:33:29 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:33:29 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:33:29 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:33:29 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:33:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-07 08:33:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-07 08:33:43 [main] INFO  o.u.s.i.ProductIntegrationTest - Starting ProductIntegrationTest using Java 17.0.15 with PID 4863 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:33:43 [main] INFO  o.u.s.i.ProductIntegrationTest - The following 1 profile is active: "test"
2025-07-07 08:33:43 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@13e698c7
2025-07-07 08:33:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:33:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 5 JPA repository interfaces.
2025-07-07 08:33:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:33:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-07 08:33:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:33:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:33:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-07 08:33:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:33:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-07 08:33:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:33:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:33:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:33:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:33:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-07 08:33:47 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 08:33:47 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-07 08:33:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:33:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:33:48 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:33:48 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:33:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:33:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:33:48 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:33:48 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-07 08:33:48 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:33:48 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:33:48 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-07-07 08:33:49 [main] INFO  o.u.s.i.ProductIntegrationTest - Started ProductIntegrationTest in 6.031 seconds (process running for 6.923)
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test Description, price=99.99, stockQuantity=10, (truncated)...]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException)
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["An unexpected error occurred"]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=null, price=-10.00, stockQuantity=10, category=n (truncated)...]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{price=Price must be greater than 0}]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.ProductDto> org.utku.shoppingapi.controller.ProductController.createProduct(org.utku.shoppingapi.dto.request.CreateProductRequest): [Field error in object 'createProductRequest' on field 'price': rejected value [-10.00]; codes [DecimalMin.createProductRequest.price,DecimalMin.price,DecimalMin.java.math.BigDecimal,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.price,price]; arguments []; default message [price],false,0.0]; default message [Price must be greater than 0]] ]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-07 08:33:49 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:33:49 [main] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=, description=null, price=99.99, stockQuantity=10, category=null)]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{name=Product name must be between 2 and 255 characters}]
2025-07-07 08:33:49 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.ProductDto> org.utku.shoppingapi.controller.ProductController.createProduct(org.utku.shoppingapi.dto.request.CreateProductRequest) with 2 errors: [Field error in object 'createProductRequest' on field 'name': rejected value []; codes [NotBlank.createProductRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.name,name]; arguments []; default message [name]]; default message [Product name cannot be empty]] [Field error in object 'createProductRequest' on field 'name': rejected value []; codes [Size.createProductRequest.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.name,name]; arguments []; default message [name],255,2]; default message [Product name must be between 2 and 255 characters]] ]
2025-07-07 08:33:49 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.integration.UserIntegrationTest]: UserIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:33:49 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.integration.UserIntegrationTest
2025-07-07 08:33:49 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.integration.AuthIntegrationTest]: AuthIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:33:49 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.integration.AuthIntegrationTest
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=null, las (truncated)...]
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=1, role=USER)]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=testuser, password=password123)]
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlkIjoxLCJyb2xlcyI6WyJST0xFX1VTRVIiX (truncated)...]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, las (truncated)...]
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=2, role=USER)]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=nonexistent, password=wrongpassword)]
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleBadCredentials(BadCredentialsException)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Invalid username or password"]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authentication.BadCredentialsException: Bad credentials]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test1@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=3, role=USER)]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test2@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:33:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=This username is already taken}]
2025-07-07 08:33:50 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.auth.MessageResponse> org.utku.shoppingapi.controller.AuthController.registerUser(org.utku.shoppingapi.dto.auth.RegisterRequest): [Field error in object 'registerRequest' on field 'username': rejected value [testuser]; codes [UniqueUsername.registerRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] ]
2025-07-07 08:33:50 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.ShoppingApiApplicationTests]: ShoppingApiApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:33:50 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.ShoppingApiApplicationTests
2025-07-07 08:33:50 [main] INFO  o.u.s.ShoppingApiApplicationTests - Starting ShoppingApiApplicationTests using Java 17.0.15 with PID 4863 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:33:50 [main] INFO  o.u.s.ShoppingApiApplicationTests - The following 1 profile is active: "test"
2025-07-07 08:33:50 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@e4bb03
2025-07-07 08:33:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:33:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2025-07-07 08:33:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:33:51 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:33:51 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:33:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-07 08:33:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:33:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-07 08:33:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:33:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:33:51 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:33:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:33:51 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 08:33:51 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-07 08:33:51 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:33:51 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:33:51 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:33:51 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:33:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:33:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:33:52 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:33:52 [main] INFO  o.u.s.ShoppingApiApplicationTests - Started ShoppingApiApplicationTests in 1.436 seconds (process running for 10.092)
2025-07-07 08:33:52 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.controller.CartControllerTest]: CartControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:33:52 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.controller.CartControllerTest
2025-07-07 08:33:52 [main] INFO  o.u.s.controller.CartControllerTest - Starting CartControllerTest using Java 17.0.15 with PID 4863 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:33:52 [main] INFO  o.u.s.controller.CartControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-07-07 08:33:52 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2123bc64
2025-07-07 08:33:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:33:52 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-07 08:33:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:33:52 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:33:52 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ab7cae6d-842b-4ac2-8a60-77bed4f861a7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-07-07 08:33:52 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-07 08:33:53 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:33:53 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:33:53 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-07-07 08:33:53 [main] INFO  o.u.s.controller.CartControllerTest - Started CartControllerTest in 0.807 seconds (process running for 10.932)
2025-07-07 08:33:53 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.repository.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:33:53 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.repository.UserRepositoryTest
2025-07-07 08:33:53 [main] INFO  o.u.s.repository.UserRepositoryTest - Starting UserRepositoryTest using Java 17.0.15 with PID 4863 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:33:53 [main] INFO  o.u.s.repository.UserRepositoryTest - The following 1 profile is active: "test"
2025-07-07 08:33:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:33:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 5 JPA repository interfaces.
2025-07-07 08:33:53 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-07-07 08:33:53 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:f8287b49-52f1-41c2-af58-0d562e88da69;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-07-07 08:33:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:33:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:33:53 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:33:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:33:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:33:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:33:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:33:54 [main] INFO  o.u.s.repository.UserRepositoryTest - Started UserRepositoryTest in 0.942 seconds (process running for 12.028)
2025-07-07 08:33:54 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:33:54 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:33:54 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:33:54 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role) 
    values
        (?, ?)
2025-07-07 08:33:54 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:33:54 [main] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-07 08:33:54 [main] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: null, Total: null
2025-07-07 08:33:54 [main] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-07 08:33:54 [main] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@13e698c7, started on Mon Jul 07 08:33:43 UTC 2025
2025-07-07 08:33:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-07 08:33:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@e4bb03, started on Mon Jul 07 08:33:50 UTC 2025
2025-07-07 08:33:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-07 08:33:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2123bc64, started on Mon Jul 07 08:33:52 UTC 2025
2025-07-07 08:33:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:33:54 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:52:58 [main] INFO  o.u.s.i.ProductIntegrationTest - Starting ProductIntegrationTest using Java 17.0.15 with PID 3547 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:52:58 [main] INFO  o.u.s.i.ProductIntegrationTest - The following 1 profile is active: "test"
2025-07-07 08:52:58 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@13e698c7
2025-07-07 08:53:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:53:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 5 JPA repository interfaces.
2025-07-07 08:53:00 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:53:00 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-07 08:53:00 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:53:01 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:53:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-07 08:53:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:53:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-07 08:53:01 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:53:02 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:53:02 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:53:02 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:53:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-07 08:53:03 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 08:53:03 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-07 08:53:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:53:03 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:53:03 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:53:04 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:53:04 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:53:04 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:53:04 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:53:04 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-07 08:53:04 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:53:04 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:53:04 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-07-07 08:53:04 [main] INFO  o.u.s.i.ProductIntegrationTest - Started ProductIntegrationTest in 6.4 seconds (process running for 7.469)
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=Test Description, price=99.99, stockQuantity=10, (truncated)...]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException)
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["An unexpected error occurred"]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=Test Product, description=null, price=-10.00, stockQuantity=10, category=n (truncated)...]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{price=Price must be greater than 0}]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.ProductDto> org.utku.shoppingapi.controller.ProductController.createProduct(org.utku.shoppingapi.dto.request.CreateProductRequest): [Field error in object 'createProductRequest' on field 'price': rejected value [-10.00]; codes [DecimalMin.createProductRequest.price,DecimalMin.price,DecimalMin.java.math.BigDecimal,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.price,price]; arguments []; default message [price],false,0.0]; default message [Price must be greater than 0]] ]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-07 08:53:05 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:53:05 [main] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#createProduct(CreateProductRequest)
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateProductRequest(name=, description=null, price=99.99, stockQuantity=10, category=null)]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{name=Product name must be between 2 and 255 characters}]
2025-07-07 08:53:05 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.ProductDto> org.utku.shoppingapi.controller.ProductController.createProduct(org.utku.shoppingapi.dto.request.CreateProductRequest) with 2 errors: [Field error in object 'createProductRequest' on field 'name': rejected value []; codes [NotBlank.createProductRequest.name,NotBlank.name,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.name,name]; arguments []; default message [name]]; default message [Product name cannot be empty]] [Field error in object 'createProductRequest' on field 'name': rejected value []; codes [Size.createProductRequest.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createProductRequest.name,name]; arguments []; default message [name],255,2]; default message [Product name must be between 2 and 255 characters]] ]
2025-07-07 08:53:05 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.integration.UserIntegrationTest]: UserIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:53:05 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.integration.UserIntegrationTest
2025-07-07 08:53:06 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.integration.AuthIntegrationTest]: AuthIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:53:06 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.integration.AuthIntegrationTest
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=null, las (truncated)...]
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=1, role=USER)]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=testuser, password=password123)]
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlkIjoxLCJyb2xlcyI6WyJST0xFX1VTRVIiX (truncated)...]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, las (truncated)...]
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=2, role=USER)]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=nonexistent, password=wrongpassword)]
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleBadCredentials(BadCredentialsException)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Invalid username or password"]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authentication.BadCredentialsException: Bad credentials]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test1@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=3, role=USER)]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test2@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:53:06 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=This username is already taken}]
2025-07-07 08:53:06 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.auth.MessageResponse> org.utku.shoppingapi.controller.AuthController.registerUser(org.utku.shoppingapi.dto.auth.RegisterRequest): [Field error in object 'registerRequest' on field 'username': rejected value [testuser]; codes [UniqueUsername.registerRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] ]
2025-07-07 08:53:06 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.ShoppingApiApplicationTests]: ShoppingApiApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:53:06 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.ShoppingApiApplicationTests
2025-07-07 08:53:06 [main] INFO  o.u.s.ShoppingApiApplicationTests - Starting ShoppingApiApplicationTests using Java 17.0.15 with PID 3547 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:53:06 [main] INFO  o.u.s.ShoppingApiApplicationTests - The following 1 profile is active: "test"
2025-07-07 08:53:06 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5b4f77e1
2025-07-07 08:53:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:53:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2025-07-07 08:53:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:53:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:53:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:53:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-07 08:53:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:53:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-07 08:53:07 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:53:07 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:53:07 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:53:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:53:07 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 08:53:07 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-07 08:53:07 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:53:07 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:53:07 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:53:07 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:53:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:53:08 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:53:08 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:53:08 [main] INFO  o.u.s.ShoppingApiApplicationTests - Started ShoppingApiApplicationTests in 1.352 seconds (process running for 10.705)
2025-07-07 08:53:08 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.controller.CartControllerTest]: CartControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:53:08 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.controller.CartControllerTest
2025-07-07 08:53:08 [main] INFO  o.u.s.controller.CartControllerTest - Starting CartControllerTest using Java 17.0.15 with PID 3547 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:53:08 [main] INFO  o.u.s.controller.CartControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-07-07 08:53:08 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@412cd56e
2025-07-07 08:53:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:53:08 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-07 08:53:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:53:08 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:53:09 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: deb32773-8277-4da2-93ec-68baae8925dd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-07-07 08:53:09 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-07 08:53:09 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:53:09 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:53:09 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-07-07 08:53:09 [main] INFO  o.u.s.controller.CartControllerTest - Started CartControllerTest in 0.864 seconds (process running for 11.603)
2025-07-07 08:53:09 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [org.utku.shoppingapi.repository.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-07 08:53:09 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration org.utku.shoppingapi.ShoppingApiApplication for test class org.utku.shoppingapi.repository.UserRepositoryTest
2025-07-07 08:53:09 [main] INFO  o.u.s.repository.UserRepositoryTest - Starting UserRepositoryTest using Java 17.0.15 with PID 3547 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:53:09 [main] INFO  o.u.s.repository.UserRepositoryTest - The following 1 profile is active: "test"
2025-07-07 08:53:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:53:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 5 JPA repository interfaces.
2025-07-07 08:53:09 [main] INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-07-07 08:53:09 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:a0bf1558-dcb3-4618-8622-e8b3f9342018;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-07-07 08:53:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:53:09 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:53:09 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:53:09 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:53:10 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:53:10 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:53:10 [main] INFO  o.u.s.repository.UserRepositoryTest - Started UserRepositoryTest in 1.031 seconds (process running for 12.797)
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        user_roles
        (user_id, role) 
    values
        (?, ?)
2025-07-07 08:53:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:53:10 [main] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-07 08:53:10 [main] INFO  o.u.s.service.OrderServiceImpl - Order created successfully with ID: null, Total: null
2025-07-07 08:53:10 [main] INFO  o.u.s.service.OrderServiceImpl - Cart cleared after order creation
2025-07-07 08:53:10 [main] INFO  o.u.s.service.OrderServiceImpl - Creating order from cart with ID: 1
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@13e698c7, started on Mon Jul 07 08:52:58 UTC 2025
2025-07-07 08:53:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-07 08:53:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@5b4f77e1, started on Mon Jul 07 08:53:06 UTC 2025
2025-07-07 08:53:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-07 08:53:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@412cd56e, started on Mon Jul 07 08:53:08 UTC 2025
2025-07-07 08:53:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:53:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:53:23 [main] INFO  o.u.s.i.AuthIntegrationTest - Starting AuthIntegrationTest using Java 17.0.15 with PID 3800 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:53:23 [main] INFO  o.u.s.i.AuthIntegrationTest - The following 1 profile is active: "test"
2025-07-07 08:53:23 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@408a247c
2025-07-07 08:53:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-07 08:53:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2025-07-07 08:53:24 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-07 08:53:24 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-07 08:53:24 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-07 08:53:25 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-07 08:53:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-07 08:53:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-07-07 08:53:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-07 08:53:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-07 08:53:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    create table cart_items (
        quantity integer not null check (quantity>=1),
        unit_price numeric(10,2) not null,
        cart_id bigint not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        updated_at timestamp(6),
        primary key (id),
        unique (cart_id, product_id)
    )
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    create table carts (
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint unique,
        session_id varchar(100),
        primary key (id)
    )
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    create table favorites (
        created_at timestamp(6),
        id bigint generated by default as identity,
        product_id bigint not null,
        user_id bigint not null,
        primary key (id),
        unique (user_id, product_id)
    )
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        quantity integer not null,
        unit_price numeric(10,2) not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        total_amount numeric(10,2) not null,
        id bigint generated by default as identity,
        ordered_at timestamp(6),
        user_id bigint not null,
        primary key (id)
    )
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    create table products (
        active boolean not null,
        price numeric(10,2) not null,
        stock_quantity integer not null check (stock_quantity>=0),
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        category varchar(100),
        description TEXT,
        name varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    create table user_roles (
        user_id bigint not null,
        role enum ('ADMIN','USER')
    )
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6),
        id bigint generated by default as identity,
        updated_at timestamp(6),
        phone_number varchar(15),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        first_name varchar(100),
        last_name varchar(100),
        password varchar(255) not null,
        primary key (id)
    )
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FKpcttvuq4mxppo8sxggjtn5i2c 
       foreign key (cart_id) 
       references carts
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    alter table if exists cart_items 
       add constraint FK1re40cjegsfvw58xrkdp6bac6 
       foreign key (product_id) 
       references products
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FK6sgu5npe8ug4o42bf9j71x20c 
       foreign key (product_id) 
       references products
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    alter table if exists favorites 
       add constraint FKk7du8b8ewipawnnpg76d55fus 
       foreign key (user_id) 
       references users
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKocimc7dtr037rh4ls4l95nlfi 
       foreign key (product_id) 
       references products
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-07-07 08:53:26 [main] DEBUG org.hibernate.SQL - 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-07-07 08:53:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:53:26 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-07 08:53:27 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-07-07 08:53:27 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-07-07 08:53:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-07 08:53:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:53:28 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-07 08:53:28 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-07-07 08:53:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:53:28 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:53:28 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-07-07 08:53:28 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-07-07 08:53:28 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:53:28 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:53:28 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-07-07 08:53:29 [main] INFO  o.u.s.i.AuthIntegrationTest - Started AuthIntegrationTest in 6.232 seconds (process running for 7.117)
2025-07-07 08:53:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:53:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=null, las (truncated)...]
2025-07-07 08:53:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:53:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:53:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=1, role=USER)]
2025-07-07 08:53:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=testuser, password=password123)]
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0dXNlciIsImlkIjoxLCJyb2xlcyI6WyJST0xFX1VTRVIiX (truncated)...]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.ProductController#getAllProducts(Pageable)
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.active,
        p1_0.category,
        p1_0.created_at,
        p1_0.description,
        p1_0.name,
        p1_0.price,
        p1_0.stock_quantity,
        p1_0.updated_at 
    from
        products p1_0 
    order by
        p1_0.id 
    offset
        ? rows 
    fetch
        first ? rows only
2025-07-07 08:53:30 [main] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Page 1 of 0 containing UNKNOWN instances]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test@example.com, password=password123, firstName=Test, las (truncated)...]
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=2, role=USER)]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#authenticateUser(LoginRequest)
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(username=nonexistent, password=wrongpassword)]
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.enabled,
        u1_0.first_name,
        u1_0.last_name,
        u1_0.password,
        u1_0.phone_number,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleBadCredentials(BadCredentialsException)
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["Invalid username or password"]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authentication.BadCredentialsException: Bad credentials]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test1@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, email, enabled, first_name, last_name, password, phone_number, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MessageResponse(message=User registered successfully!, userId=3, role=USER)]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.utku.shoppingapi.controller.AuthController#registerUser(RegisterRequest)
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(username=testuser, email=test2@example.com, password=password123, firstName=null, la (truncated)...]
2025-07-07 08:53:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    fetch
        first ? rows only
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.utku.shoppingapi.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{username=This username is already taken}]
2025-07-07 08:53:30 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.utku.shoppingapi.dto.auth.MessageResponse> org.utku.shoppingapi.controller.AuthController.registerUser(org.utku.shoppingapi.dto.auth.RegisterRequest): [Field error in object 'registerRequest' on field 'username': rejected value [testuser]; codes [UniqueUsername.registerRequest.username,UniqueUsername.username,UniqueUsername.java.lang.String,UniqueUsername]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.username,username]; arguments []; default message [username]]; default message [This username is already taken]] ]
2025-07-07 08:53:30 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@408a247c, started on Mon Jul 07 08:53:23 UTC 2025
2025-07-07 08:53:30 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-07 08:53:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists cart_items cascade 
2025-07-07 08:53:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists carts cascade 
2025-07-07 08:53:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favorites cascade 
2025-07-07 08:53:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade 
2025-07-07 08:53:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade 
2025-07-07 08:53:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade 
2025-07-07 08:53:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user_roles cascade 
2025-07-07 08:53:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2025-07-07 08:53:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-07 08:53:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-07 08:54:15 [main] INFO  o.u.s.controller.CartControllerTest - Starting CartControllerTest using Java 17.0.15 with PID 4062 (started by runner in /home/runner/work/ShoppingAPI/ShoppingAPI)
2025-07-07 08:54:15 [main] INFO  o.u.s.controller.CartControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-07-07 08:54:15 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6f099cef
2025-07-07 08:54:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-07-07 08:54:17 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-07-07 08:54:18 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-07-07 08:54:18 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-07-07 08:54:18 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 04a13e95-fda2-475a-b430-4c205683c23c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-07-07 08:54:18 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-07 08:54:18 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-07-07 08:54:18 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-07-07 08:54:18 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-07-07 08:54:18 [main] INFO  o.u.s.controller.CartControllerTest - Started CartControllerTest in 2.693 seconds (process running for 3.553)
2025-07-07 08:54:18 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6f099cef, started on Mon Jul 07 08:54:15 UTC 2025
